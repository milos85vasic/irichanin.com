window.addEventListener=window.addEventListener||function(e,t){window.attachEvent("on"+e,t)},Date.now||(Date.now=function(){return(new Date).getTime()}),Object.create||(Object.create=function(e,t){if(void 0!==t)throw"The multiple-argument version of Object.create is not provided by this browser and cannot be shimmed.";function i(){}return i.prototype=e,new i}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],o=arguments.length>=2?arguments[1]:void 0,s=0;s<i;s++)if(s in t){var r=t[s];e.call(o,r,s,t)&&n.push(r)}return n}),Array.prototype.map||(Array.prototype.map=function(e,t){var i,n,o;if(null===this)throw new TypeError(" this is null or not defined");var s=Object(this),r=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),n=new Array(r),o=0;o<r;){var a,l;o in s&&(a=s[o],l=e.call(i,a,o,s),n[o]=l),o++}return n}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=Math.pow(2,53)-1;return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,s,r,a,l=arguments.length>1?arguments[1]:void 0;if(void 0!==l){if(!t(l))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var c,d=(s=n.length,r=void 0,a=void 0,r=Number(s),a=isNaN(r)?0:0!==r&&isFinite(r)?(r>0?1:-1)*Math.floor(Math.abs(r)):r,Math.min(Math.max(a,0),i)),u=t(this)?Object(new this(d)):new Array(d),p=0;p<d;)c=n[p],u[p]=l?void 0===o?l(c,p):l.call(o,c,p):c,p+=1;return u.length=d,u}}()),"function"!=typeof jQuery.fn.iCheck&&function(e){function t(e,t,o){var s=e[0],r=/er/.test(o)?m:/bl/.test(o)?h:u,a=o==g?{checked:s[u],disabled:s[h],indeterminate:"true"==e.attr(m)||"false"==e.attr(f)}:s[r];if(/^(ch|di|in)/.test(o)&&!a)i(e,r);else if(/^(un|en|de)/.test(o)&&a)n(e,r);else if(o==g)for(r in a)a[r]?i(e,r,!0):n(e,r,!0);else t&&"toggle"!=o||(t||e[b]("ifClicked"),a?s[_]!==d&&n(e,r):i(e,r))}function i(t,i,o){var g=t[0],b=t.parent(),w=i==u,C=i==m,z=i==h,S=C?f:w?p:"enabled",I=s(t,S+r(g[_])),E=s(t,i+r(g[_]));if(!0!==g[i]){if(!o&&i==u&&g[_]==d&&g.name){var M=t.closest("form"),R='input[name="'+g.name+'"]';(R=M.length?M.find(R):e(R)).each(function(){this!==g&&e(this).data(l)&&n(e(this),i)})}C?(g[i]=!0,g[u]&&n(t,u,"force")):(o||(g[i]=!0),w&&g[m]&&n(t,m,!1)),a(t,w,i,o)}g[h]&&s(t,k,!0)&&b.find("."+c).css(k,"default"),b[v](E||s(t,i)||""),z?b.attr("aria-disabled","true"):b.attr("aria-checked",C?"mixed":"true"),b[y](I||s(t,S)||"")}function n(e,t,i){var n=e[0],o=e.parent(),l=t==u,d=t==m,g=t==h,b=d?f:l?p:"enabled",w=s(e,b+r(n[_])),C=s(e,t+r(n[_]));!1!==n[t]&&((d||!i||"force"==i)&&(n[t]=!1),a(e,l,b,i)),!n[h]&&s(e,k,!0)&&o.find("."+c).css(k,"pointer"),o[y](C||s(e,t)||""),g?o.attr("aria-disabled","false"):o.attr("aria-checked","false"),o[v](w||s(e,b)||"")}function o(t,i){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),i&&t[b](i),t.off(".i").unwrap(),e(w+'[for="'+t[0].id+'"]').add(t.closest(w)).off(".i"))}function s(e,t,i){return e.data(l)?e.data(l).o[t+(i?"":"Class")]:void 0}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t,i,n){n||(t&&e[b]("ifToggled"),e[b]("ifChanged")[b]("if"+r(i)))}var l="iCheck",c=l+"-helper",d="radio",u="checked",p="un"+u,h="disabled",f="determinate",m="in"+f,g="update",_="type",v="addClass",y="removeClass",b="trigger",w="label",k="cursor",C=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(s,r){var a='input[type="checkbox"], input[type="'+d+'"]',p=e(),f=function(t){t.each(function(){var t=e(this);p=t.is(a)?p.add(t):p.add(t.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),f(this),p.each(function(){var i=e(this);"destroy"==s?o(i,"ifDestroyed"):t(i,!0,s),e.isFunction(r)&&r()});if("object"!=typeof s&&s)return this;var k=e.extend({checkedClass:u,disabledClass:h,indeterminateClass:m,labelHover:!0,aria:!1},s),z=k.handle,S=k.hoverClass||"hover",I=k.focusClass||"focus",E=k.activeClass||"active",M=!!k.labelHover,R=k.labelHoverClass||"hover",x=0|(""+k.increaseArea).replace("%","");return("checkbox"==z||z==d)&&(a='input[type="'+z+'"]'),-50>x&&(x=-50),f(this),p.each(function(){var s=e(this);o(s);var r=this,a=r.id,p={position:"absolute",top:f=-x+"%",left:f,display:"block",width:p=100+2*x+"%",height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},f=C?{position:"absolute",visibility:"hidden"}:x?p:{position:"absolute",opacity:0},m="checkbox"==r[_]?k.checkboxClass||"icheckbox":k.radioClass||"i"+d,z=e(w+'[for="'+a+'"]').add(s.closest(w)),P=!!k.aria,O=l+"-"+Math.random().toString(36).substr(2,6),D='<div class="'+m+'" '+(P?'role="'+r[_]+'" ':"");P&&z.each(function(){D+='aria-labelledby="',this.id?D+=this.id:(this.id=O,D+=O),D+='"'}),D=s.wrap(D+"/>")[b]("ifCreated").parent().append(k.insert),p=e('<ins class="'+c+'"/>').css(p).appendTo(D),s.data(l,{o:k,s:s.attr("style")}).css(f),k.inheritClass&&D[v](r.className||""),k.inheritID&&a&&D.attr("id",l+"-"+a),"static"==D.css("position")&&D.css("position","relative"),t(s,!0,g),z.length&&z.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(i){var n=i[_],o=e(this);if(!r[h]){if("click"==n){if(e(i.target).is("a"))return;t(s,!1,!0)}else M&&(/ut|nd/.test(n)?(D[y](S),o[y](R)):(D[v](S),o[v](R)));if(!C)return!1;i.stopPropagation()}}),s.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(r[_]==d&&r[u]||(r[u]?n(s,u):i(s,u)),!1):void("keyup"==t&&r[_]==d?!r[u]&&i(s,u):/us|ur/.test(t)&&D["blur"==t?y:v](I)))}),p.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var i=e[_],n=/wn|up/.test(i)?E:S;if(!r[h]){if("click"==i?t(s,!1,!0):(/wn|er|in/.test(i)?D[v](n):D[y](n+" "+E),z.length&&M&&n==S&&z[/ut|nd/.test(i)?y:v](R)),!C)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),"function"!=typeof jQuery.fn.selecter&&function(e,t){"use strict";function i(t,i){if(!t.hasClass("selecter-element")){(i=e.extend({},i,t.data("selecter-options"))).external&&(i.links=!0);var s=t.find("option, optgroup"),u=s.filter("option"),h=u.filter(":selected"),g=""!==i.label?-1:u.index(h),v=i.links?"nav":"div";i.tabIndex=t[0].tabIndex,t[0].tabIndex=-1,i.multiple=t.prop("multiple"),i.disabled=t.is(":disabled");var y="<"+v+' class="selecter '+i.customClass;_?y+=" mobile":i.cover&&(y+=" cover"),y+=i.multiple?" multiple":" closed",i.disabled&&(y+=" disabled"),y+='" tabindex="'+i.tabIndex+'">',i.multiple||(y+='<span class="selecter-selected'+(""!==i.label?" placeholder":"")+'">',y+=e("<span></span").text(f(""!==i.label?i.label:h.text(),i.trim)).html(),y+="</span>"),y+='<div class="selecter-options">',y+="</div>",y+="</"+v+">",t.addClass("selecter-element").after(y);var b=t.next(".selecter"),w=e.extend({$select:t,$allOptions:s,$options:u,$selecter:b,$selected:b.find(".selecter-selected"),$itemsWrapper:b.find(".selecter-options"),index:-1,guid:m++},i);n(w),p(g,w),void 0!==e.fn.scroller&&w.$itemsWrapper.scroller(),w.$selecter.on("touchstart.selecter click.selecter",".selecter-selected",w,o).on("click.selecter",".selecter-item",w,a).on("close.selecter",w,r).data("selecter",w),w.$select.on("change.selecter",w,l),_||(w.$selecter.on("focus.selecter",w,c).on("blur.selecter",w,d),w.$select.on("focus.selecter",w,function(e){e.data.$selecter.trigger("focus")}))}}function n(t){for(var i="",n=t.links?"a":"span",o=0,s=t.$allOptions.length;s>o;o++){var r=t.$allOptions.eq(o);if("OPTGROUP"===r[0].tagName)i+='<span class="selecter-group',r.is(":disabled")&&(i+=" disabled"),i+='">'+r.attr("label")+"</span>";else{var a=r.val();r.attr("value")||r.attr("value",a),i+="<"+n+' class="selecter-item',r.is(":selected")&&""===t.label&&(i+=" selected"),r.is(":disabled")&&(i+=" disabled"),i+='" ',i+=t.links?'href="'+a+'"':'data-value="'+a+'"',i+=">"+e("<span></span>").text(f(r.text(),t.trim)).html()+"</"+n+">",0}}t.$itemsWrapper.html(i),t.$items=t.$selecter.find(".selecter-item")}function o(i){i.preventDefault(),i.stopPropagation();var n=i.data;if(!n.$select.is(":disabled"))if(e(".selecter").not(n.$selecter).trigger("close.selecter",[n]),_){var o=n.$select[0];if(t.document.createEvent){var a=t.document.createEvent("MouseEvents");a.initMouseEvent("mousedown",!1,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(a)}else o.fireEvent&&o.fireEvent("onmousedown")}else n.$selecter.hasClass("closed")?function(t){t.preventDefault(),t.stopPropagation();var i=t.data;if(!i.$selecter.hasClass("open")){var n=i.$selecter.offset(),o=v.outerHeight(),r=i.$itemsWrapper.outerHeight(!0),a=i.index>=0?i.$items.eq(i.index).position():{left:0,top:0};n.top+r>o&&i.$selecter.addClass("bottom"),i.$itemsWrapper.show(),i.$selecter.removeClass("closed").addClass("open"),v.on("click.selecter-"+i.guid,":not(.selecter-options)",i,s),void 0!==e.fn.scroller?i.$itemsWrapper.scroller("scroll",i.$itemsWrapper.find(".scroller-content").scrollTop()+a.top,0).scroller("reset"):i.$itemsWrapper.scrollTop(i.$itemsWrapper.scrollTop()+a.top)}}(i):n.$selecter.hasClass("open")&&r(i)}function s(t){t.preventDefault(),t.stopPropagation(),0===e(t.currentTarget).parents(".selecter").length&&r(t)}function r(e){e.preventDefault(),e.stopPropagation();var t=e.data;t.$selecter.hasClass("open")&&(t.$itemsWrapper.hide(),t.$selecter.removeClass("open bottom").addClass("closed"),v.off(".selecter-"+t.guid))}function a(t){t.preventDefault(),t.stopPropagation();var i=e(this),n=t.data;if(!n.$select.is(":disabled")){if(n.$itemsWrapper.is(":visible"))p(n.$items.index(i),n),h(n);n.multiple||r(t)}}function l(t,i){var n=e(this),o=t.data;i||o.multiple||(p(o.$options.index(o.$options.filter("[value='"+n.val().replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")+"']")),o),h(o))}function c(t){t.preventDefault(),t.stopPropagation();var i=t.data;i.$select.is(":disabled")||i.multiple||(i.$selecter.addClass("focus").on("keydown.selecter"+i.guid,i,u),e(".selecter").not(i.$selecter).trigger("close.selecter",[i]))}function d(t){t.preventDefault(),t.stopPropagation();var i=t.data;i.$selecter.removeClass("focus").off("keydown.selecter"+i.guid+" keyup.selecter"+i.guid),e(".selecter").not(i.$selecter).trigger("close.selecter",[i])}function u(t){var i=t.data;if(13===t.keyCode)i.$selecter.hasClass("open")&&(r(t),p(i.index,i)),h(i);else if(!(9===t.keyCode||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)){t.preventDefault(),t.stopPropagation();var n=i.$items.length-1,o=i.index<0?0:i.index;if(e.inArray(t.keyCode,g?[38,40,37,39]:[38,40])>-1)o+=38===t.keyCode||g&&37===t.keyCode?-1:1,0>o&&(o=0),o>n&&(o=n);else{var s,a,l=String.fromCharCode(t.keyCode).toUpperCase();for(a=i.index+1;n>=a;a++)if(s=i.$options.eq(a).text().charAt(0).toUpperCase(),s===l){o=a;break}if(0>o)for(a=0;n>=a;a++)if(s=i.$options.eq(a).text().charAt(0).toUpperCase(),s===l){o=a;break}}o>=0&&p(o,i)}}function p(e,t){var i=t.$items.eq(e),n=i.hasClass("selected");if(!i.hasClass("disabled")){if(-1===e&&""!==t.label)t.$selected.html(t.label);else if(n)t.multiple&&(t.$options.eq(e).prop("selected",null),i.removeClass("selected"));else{var o=i.html();i.data("value"),t.multiple?t.$options.eq(e).prop("selected",!0):(t.$selected.html(o).removeClass("placeholder"),t.$items.filter(".selected").removeClass("selected"),t.$select[0].selectedIndex=e),i.addClass("selected")}(!n||t.multiple)&&(t.index=e)}}function h(e){var i,n;e.links?(n=(i=e).$select.val(),i.external?t.open(n):t.location.href=n):(e.callback.call(e.$selecter,e.$select.val(),e.index),e.$select.trigger("change",[!0]))}function f(e,t){return 0===t?e:e.length>t?e.substring(0,t)+"...":e}var m=0,g=t.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,_=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(t.navigator.userAgent||t.navigator.vendor||t.opera),v=null,y={callback:e.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},b={defaults:function(t){return y=e.extend(y,t||{}),e(this)},disable:function(t){return e(this).each(function(i,n){var o=e(n).next(".selecter").data("selecter");if(o)if(void 0!==t){var s=o.$items.index(o.$items.filter("[data-value="+t+"]"));o.$items.eq(s).addClass("disabled"),o.$options.eq(s).prop("disabled",!0)}else o.$selecter.hasClass("open")&&o.$selecter.find(".selecter-selected").trigger("click.selecter"),o.$selecter.addClass("disabled"),o.$select.prop("disabled",!0)})},enable:function(t){return e(this).each(function(i,n){var o=e(n).next(".selecter").data("selecter");if(o)if(void 0!==t){var s=o.$items.index(o.$items.filter("[data-value="+t+"]"));o.$items.eq(s).removeClass("disabled"),o.$options.eq(s).prop("disabled",!1)}else o.$selecter.removeClass("disabled"),o.$select.prop("disabled",!1)})},destroy:function(){return e(this).each(function(t,i){var n=e(i).next(".selecter").data("selecter");n&&(n.$selecter.hasClass("open")&&n.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==e.fn.scroller&&n.$selecter.find(".selecter-options").scroller("destroy"),n.$select[0].tabIndex=n.tabIndex,n.$select.off(".selecter").removeClass("selecter-element").show(),n.$selecter.off(".selecter").remove())})},refresh:function(){return e(this).each(function(t,i){var o=e(i).next(".selecter").data("selecter");if(o){var s=o.index;o.$allOptions=o.$select.find("option, optgroup"),o.$options=o.$allOptions.filter("option"),o.index=-1,s=o.$options.index(o.$options.filter(":selected")),n(o),p(s,o)}})}};e.fn.selecter=function(t){return b[t]?b[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:function(t){t=e.extend({},y,t||{}),null===v&&(v=e("body"));for(var n=e(this),o=0,s=n.length;s>o;o++)i(n.eq(o),t);return n}.apply(this,arguments)},e.selecter=function(e){"defaults"===e&&b.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window),"function"!=typeof jQuery.fn.stepper&&function(e){"use strict";function t(t,n){if(!t.hasClass("stepper-input")){n=e.extend({},n,t.data("stepper-options"));var o=parseFloat(t.attr("min")),s=parseFloat(t.attr("max")),r=parseFloat(t.attr("step"))||1;t.addClass("stepper-input").wrap('<div class="stepper '+n.customClass+'" />').after('<span class="stepper-arrow up">'+n.labels.up+'</span><span class="stepper-arrow down">'+n.labels.down+"</span>");var a=t.parent(".stepper"),l=e.extend({$stepper:a,$input:t,$arrow:a.find(".stepper-arrow"),min:void 0!==typeof o&&!isNaN(o)&&o,max:void 0!==typeof s&&!isNaN(s)&&s,step:void 0===typeof r||isNaN(r)?1:r,timer:null},n);l.digits=(c=l.step,(d=String(c)).indexOf(".")>-1?d.length-d.indexOf(".")-1:0),t.is(":disabled")&&a.addClass("disabled"),a.on("touchstart.stepper mousedown.stepper",".stepper-arrow",l,i).data("stepper",l)}var c,d}function i(t){t.preventDefault(),t.stopPropagation(),n(t);var i,r,a,l=t.data;if(!l.$input.is(":disabled")&&!l.$stepper.hasClass("disabled")){var c=e(t.target).hasClass("up")?l.step:-l.step;l.timer=(i=l.timer,r=125,a=function(){o(l,c)},s(i),setInterval(a,r)),o(l,c),e("body").on("touchend.stepper mouseup.stepper",l,n)}}function n(t){t.preventDefault(),t.stopPropagation(),s(t.data.timer),e("body").off(".stepper")}function o(e,t){var i=parseFloat(e.$input.val()),n=t;void 0===typeof i||isNaN(i)?n=!1!==e.min?e.min:0:!1!==e.min&&i<e.min?n=e.min:n+=i;var o,s,r,a=(n-e.min)%e.step;0!==a&&(n-=a),!1!==e.min&&n<e.min&&(n=e.min),!1!==e.max&&n>e.max&&(n-=e.step),n!==i&&(o=n,s=e.digits,r=Math.pow(10,s),n=Math.round(o*r)/r,e.$input.val(n).trigger("change"))}function s(e){e&&(clearInterval(e),e=null)}var r={customClass:"",labels:{up:"Up",down:"Down"}},a={defaults:function(t){return r=e.extend(r,t||{}),e(this)},destroy:function(){return e(this).each(function(){var t=e(this).data("stepper");t&&(t.$stepper.off(".stepper").find(".stepper-arrow").remove(),t.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return e(this).each(function(){var t=e(this).data("stepper");t&&(t.$input.attr("disabled","disabled"),t.$stepper.addClass("disabled"))})},enable:function(){return e(this).each(function(){var t=e(this).data("stepper");t&&(t.$input.attr("disabled",null),t.$stepper.removeClass("disabled"))})}};e.fn.stepper=function(i){return a[i]?a[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?this:function(i){i=e.extend({},r,i||{});for(var n=e(this),o=0,s=n.length;s>o;o++)t(n.eq(o),i);return n}.apply(this,arguments)},e.stepper=function(e){"defaults"===e&&a.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var i,n,o;return t&&t.requirejs||(t?n=t:t={},function(e){function t(e,t){return v.call(e,t)}function s(e,t){var i,n,o,s,r,a,l,c,d,u,p,h=t&&t.split("/"),f=g.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(r=(e=e.split("/")).length-1,g.nodeIdCompat&&b.test(e[r])&&(e[r]=e[r].replace(b,"")),e=h.slice(0,h.length-1).concat(e),d=0;d<e.length;d+=1)if(p=e[d],"."===p)e.splice(d,1),d-=1;else if(".."===p){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||m)&&f){for(d=(i=e.split("/")).length;d>0;d-=1){if(n=i.slice(0,d).join("/"),h)for(u=h.length;u>0;u-=1)if(o=f[h.slice(0,u).join("/")],o&&(o=o[n])){s=o,a=d;break}if(s)break;!l&&m&&m[n]&&(l=m[n],c=d)}!s&&l&&(s=l,a=c),s&&(i.splice(0,a,s),e=i.join("/"))}return e}function r(t,i){return function(){var n=y.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),u.apply(e,n.concat([t,i]))}}function a(e){return function(t){f[e]=t}}function l(i){if(t(m,i)){var n=m[i];delete m[i],_[i]=!0,d.apply(e,n)}if(!t(f,i)&&!t(_,i))throw new Error("No "+i);return f[i]}function c(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}var d,u,p,h,f={},m={},g={},_={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;p=function(e,t){var i,n,o=c(e),r=o[0];return e=o[1],r&&(i=l(r=s(r,t))),r?e=i&&i.normalize?i.normalize(e,(n=t,function(e){return s(e,n)})):s(e,t):(r=(o=c(e=s(e,t)))[0],e=o[1],r&&(i=l(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:i}},h={require:function(e){return r(e)},exports:function(e){var t=f[e];return void 0!==t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:(t=e,function(){return g&&g.config&&g.config[t]||{}})};var t}},d=function(i,n,o,s){var c,d,u,g,v,y,b=[],w=typeof o;if(s=s||i,"undefined"===w||"function"===w){for(n=!n.length&&o.length?["require","exports","module"]:n,v=0;v<n.length;v+=1)if(g=p(n[v],s),d=g.f,"require"===d)b[v]=h.require(i);else if("exports"===d)b[v]=h.exports(i),y=!0;else if("module"===d)c=b[v]=h.module(i);else if(t(f,d)||t(m,d)||t(_,d))b[v]=l(d);else{if(!g.p)throw new Error(i+" missing "+d);g.p.load(g.n,r(s,!0),a(d),{}),b[v]=f[d]}u=o?o.apply(f[i],b):void 0,i&&(c&&c.exports!==e&&c.exports!==f[i]?f[i]=c.exports:u===e&&y||(f[i]=u))}else i&&(f[i]=o)},i=n=u=function(t,i,n,o,s){if("string"==typeof t)return h[t]?h[t](i):l(p(t,i).f);if(!t.splice){if((g=t).deps&&u(g.deps,g.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=s),o?d(e,t,i,n):setTimeout(function(){d(e,t,i,n)},4),u},u.config=function(e){return u(e)},i._defined=f,(o=function(e,i,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");i.splice||(n=i,i=[]),t(f,e)||t(m,e)||(m[e]=[e,i,n])}).amd={jQuery:!0}}(),t.requirejs=i,t.require=n,t.define=o),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,i=[];for(var n in t){"function"==typeof t[n]&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(e,t){function i(){this.constructor=e}var n={}.hasOwnProperty;for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},i.Decorate=function(e,i){function n(){var t=Array.prototype.unshift,n=i.prototype.constructor.length,o=e.prototype.constructor;n>0&&(t.call(arguments,e.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}var o=t(i),s=t(e);i.displayName=e.displayName,n.prototype=new function(){this.constructor=n};for(var r=0;r<s.length;r++){var a=s[r];n.prototype[a]=e.prototype[a]}for(var l=function(e){var t=function(){};e in n.prototype&&(t=n.prototype[e]);var o=i.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),o.apply(this,arguments)}},c=0;c<o.length;c++){var d=o[c];n.prototype[d]=l(d)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;n>i;i++)e[i].apply(this,t)},i.Observable=n,i.generateChars=function(e){for(var t="",i=0;e>i;i++){t+=Math.floor(36*Math.random()).toString(36)}return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var o=0;o<i.length;o++){var s=i[o];(s=s.substring(0,1).toLowerCase()+s.substring(1))in n||(n[s]={}),o==i.length-1&&(n[s]=e[t]),n=n[s]}delete e[t]}}return e},i.hasScroll=function(t,i){var n=e(i),o=i.style.overflowX,s=i.style.overflowY;return(o!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===o||"scroll"===s||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},i}),t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);n.append(i(o(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],o=this.option(n);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var n=e.map(i,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var t=e(this),i=e.data(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&e.inArray(o,n)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},i=this.option(t);i.className+=" loading-results",this.$results.prepend(i)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(i.id=t._resultId),t.title&&(i.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]);for(var o in n){var s=n[o];i.setAttribute(o,s)}if(t.children){var r=e(i),a=document.createElement("strong");a.className="select2-results__group",e(a),this.template(t,a);for(var l=[],c=0;c<t.children.length;c++){var d=t.children[c],u=this.option(d);l.push(u)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(l),r.append(a),r.append(p)}else this.template(t,i);return e.data(i,"data",t),i},i.prototype.bind=function(t,i){var n=this,o=t.id+"-results";this.$results.attr("id",o),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.hideMessages(),n.showLoading(e)}),t.on("select",function(){t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e);if(0!==i){var o=i-1;0===e.length&&(o=0);var s=t.eq(o);s.trigger("mouseenter");var r=n.$results.offset().top,a=s.offset().top,l=n.$results.scrollTop()+(a-r);0===o?n.$results.scrollTop(0):0>a-r&&n.$results.scrollTop(l)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e)+1;if(!(i>=t.length)){var o=t.eq(i);o.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(!1),r=o.offset().top+o.outerHeight(!1),a=n.$results.scrollTop()+r-s;0===i?n.$results.scrollTop(0):r>s&&n.$results.scrollTop(a)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-t+e.deltaY,o=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var i=e(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:o}):n.trigger("close",{})):void n.trigger("select",{originalEvent:t,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var i=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:e(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),i=this.$results.offset().top,n=e.offset().top,o=this.$results.scrollTop()+(n-i),s=n-i;o-=2*e.outerHeight(!1),2>=t?this.$results.scrollTop(0):(s>this.$results.outerHeight()||0>s)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),s=n(t,i);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=o(s):e(i).append(s)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},n.prototype.bind=function(e,t){var n=this,o=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var i=e(t.target).closest(".select2");e(".select2.select2-container--open").each(function(){var t=e(this);this!=i[0]&&t.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var i=this;o.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||i.$selection.focus()}),e.on("selection:update",function(e){i.update(e.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n),i.prop("title",t.title||t.text)}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,i){var o=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){o.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!o.options.get("disabled")){var i=e(this).parent().data("data");o.trigger("unselect",{originalEvent:t,data:i})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},n.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var o=e[n],s=this.selectionContainer(),r=this.display(o,s);s.append(r),s.prop("title",o.title||o.text),s.data("data",o),t.push(s)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||i)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function i(){}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},i.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();for(var n=i.data("data"),o=0;o<n.length;o++){var s={data:n[o]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=e('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("open",function(){o.$search.trigger("focus")}),t.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),t.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),t.on("disable",function(){o.$search.prop("disabled",!0)}),t.on("focus",function(e){o.$search.trigger("focus")}),t.on("results:focus",function(e){o.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){o.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){o._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented(),e.which===i.BACKSPACE&&""===o.$search.val()){var t=o.$searchContainer.prev(".select2-selection__choice");if(t.length>0){var n=t.data("data");o.searchRemoveChoice(n),e.preventDefault()}}});var s=document.documentMode,r=s&&11>=s;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return r?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(r&&"input"===e.type)o.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&o.handleSearch(e)}})},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var o=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,s)){i=i||{};var n=e.Event("select2:"+t,{params:i});o.$element.trigger(n),-1!==e.inArray(t,r)&&(i.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return(n+=e.generateChars(4))+(null!=i.id?"-"+i.id.toString():"-"+e.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),o=n.item(e);t.push(o)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];(e=[e]).push.apply(e,n);for(var s=0;s<e.length;s++){var r=e[s].id;-1===i.inArray(r,o)&&o.push(r)}t.$element.val(o),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,i(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var o=[],s=0;s<n.length;s++){var r=n[s].id;r!==e.id&&-1===i.inArray(r,o)&&o.push(r)}t.$element.val(o),t.$element.trigger("change")})},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(e,t){var n=[],o=this;this.$element.children().each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var s=o.item(t),r=o.matches(e,s);null!==r&&n.push(r)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=i(t),o=this._normalizeItem(e);return o.element=t,i.data(t,"data",o),n},n.prototype.item=function(e){var t={};if(null!=(t=i.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),o=[],s=0;s<n.length;s++){var r=i(n[s]),a=this.item(r);o.push(a)}t.children=o}return(t=this._normalizeItem(t)).element=e[0],i.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){i.isPlainObject(e)||(e={id:e,text:e});return null!=(e=i.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(i))}return t.Extend(n,e),n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){function n(e){return function(){return i(this).val()==e.id}}for(var o=this,s=this.$element.find("option"),r=s.map(function(){return o.item(i(this)).id}).get(),a=[],l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(i.inArray(c.id,r)>=0){var d=s.filter(n(c)),u=this.item(d),p=i.extend(!0,{},c,u),h=this.option(p);d.replaceWith(h)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);t.appendMany(f,m)}a.push(f)}}return a},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var o=i.ajax(e);return o.then(t),o.fail(n),o}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){function n(){var n=s.transport(s,function(n){var s=o.processResults(n,e);o.options.get("debug")&&window.console&&console.error&&(s&&s.results&&i.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(s)},function(){n.status&&"0"===n.status||o.trigger("results:message",{message:"errorLoading"})});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof s.url&&(s.url=s.url.call(this.$element,e)),"function"==typeof s.data&&(s.data=s.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var o=n.get("tags"),s=n.get("createTag");void 0!==s&&(this.createTag=s);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,i,n),e.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,i){var n=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,i):void e.call(this,t,function e(o,s){for(var r=o.results,a=0;a<r.length;a++){var l=r[a],c=null!=l.children&&!e({results:l.children},!0);if(l.text===t.term||c)return!s&&(o.data=r,void i(o))}if(s)return!0;var d=n.createTag(t);if(null!=d){var u=n.option(d);u.attr("data-select2-tag",!0),n.addOptions([u]),n.insertTag(r,d)}o.results=r,i(o)})},t.prototype.createTag=function(t,i){var n=e.trim(i.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,n){var o=this;i.term=i.term||"";var s=this.tokenizer(i,this.options,function(t){var i,n=o._normalizeItem(t);if(!o.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var s=o.option(n);s.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([s])}i=n,o.trigger("select",{data:i})});s.term!==i.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),i.term=s.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,o){for(var s=n.get("tokenSeparators")||[],r=i.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<r.length;){var c=r[a];if(-1!==e.inArray(c,s)){var d=r.substr(0,a),u=l(e.extend({},i,{term:d}));null!=u?(o(u),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,i)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,i)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){var n=this;this.current(function(o){var s=null!=o?o.length:0;return n.maximumSelectionLength>0&&s>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void e.call(n,t,i)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var o=this;t.call(this,i,n),this.$search.on("keydown",function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){o.handleSearch(e)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),i.on("focus",function(){i.isOpen()&&o.$search.focus()}),i.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(o.showSearch(e)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var o=t[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,n){var o=this;t.call(this,i,n),i.on("query",function(e){o.lastParams=e,o.loading=!0}),i.on("query:append",function(e){o.lastParams=e,o.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,o.$loadingMore[0]);!o.loading&&t&&(o.$results.offset().top+o.$results.outerHeight(!1)+50>=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1)&&o.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=n.get("dropdownParent")||e(document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this,o=!1;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),o||(o=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var o=this,s="scroll.select2."+n.id,r="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(s,function(t){var i=e(this).data("select2-scroll-position");e(this).scrollTop(i.y)}),e(window).on(s+" "+r+" "+a,function(e){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,s="resize.select2."+n.id,r="orientationchange.select2."+n.id;this.$container.parents().filter(t.hasScroll).off(o),e(window).off(o+" "+s+" "+r)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=s.top,r.bottom=s.top+r.height;var a=this.$dropdown.outerHeight(!1),l=t.scrollTop(),c=t.scrollTop()+t.height(),d=l<s.top-a,u=c>s.bottom+a,p={left:s.left,top:r.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();p.top-=f.top,p.left-=f.left,i||n||(o="below"),u||!d||i?!d&&u&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(p.top=r.top-f.top-a),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(p)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var o=t[n];o.children?i+=e(o.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var i=t.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var o=n.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,o,s,r,a,l,c,d,u,p,h,f,m,g,_,v,y,b,w,k,C,z,S,I,E,M){function R(){this.reset()}return R.prototype.apply=function(u){if(null==(u=e.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=h:u.dataAdapter=p,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,_)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),(null!=u.tokenSeparators||null!=u.tokenizer)&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var M=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,M)}if(null!=u.initSelection){var R=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,R)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,C)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,I))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=b;else{var x=c.Decorate(b,w);u.dropdownAdapter=x}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,E)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var P=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,P)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,z)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=o:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var O=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,O)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var D=u.language.split("-")[0];u.language=[u.language,D]}else u.language=[u.language];if(e.isArray(u.language)){var A=new d;u.language.push("en");for(var T=u.language,$=0;$<T.length;$++){var Z=T[$],j={};try{j=d.loadPath(Z)}catch(e){try{Z=this.defaults.amdLanguageBase+Z,j=d.loadPath(Z)}catch(e){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+Z+'" could not be automatically loaded. A fallback will be used instead.');continue}}A.extend(j)}u.translations=A}else{var L=d.loadPath(this.defaults.amdLanguageBase+"en"),V=new d(u.language);V.extend(L),u.translations=V}return u},R.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return u[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:M,matcher:function i(n,o){if(""===e.trim(n.term))return o;if(o.children&&o.children.length>0){for(var s=e.extend(!0,{},o),r=o.children.length-1;r>=0;r--)null==i(n,o.children[r])&&s.children.splice(r,1);return s.children.length>0?s:i(n,s)}var a=t(o.text).toUpperCase(),l=t(n.term).toUpperCase();return a.indexOf(l)>-1?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},R.prototype.set=function(t,i){var n={};n[e.camelCase(t)]=i;var o=c._convertData(n);e.extend(this.defaults,o)},new R}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function o(t,o){if(this.options=t,null!=o&&this.fromElement(o),this.options=i.apply(this.options),o&&o.is("input")){var s=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,s)}}return o.prototype.fromElement=function(e){var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var o;o=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var s=t.extend(!0,{},o);s=n._convertData(s);for(var r in s)t.inArray(r,i)>-1||(t.isPlainObject(this.options[r])?t.extend(this.options[r],s[r]):this.options[r]=s[r]);return this},o.prototype.get=function(e){return this.options[e]},o.prototype.set=function(e,t){this.options[e]=t},o}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var o=function(e,i){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),o.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var r=this.render();this._placeContainer(r);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==t){var s=e.attr("style");if("string"!=typeof s)return null;for(var r=s.split(";"),a=0,l=r.length;l>a;a+=1){var c=r[a].replace(/\s/g,"").match(i);if(null!==c&&c.length>=1)return c[1]}return null}return t},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._syncA),e.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},o.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(n,o){-1===e.inArray(n,i)&&t.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},o.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&t.altKey?(e.close(),t.preventDefault()):i===n.ENTER?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var o=0;o<t.addedNodes.length;o++){t.addedNodes[o].selected&&(i=!0)}else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}},o.prototype.trigger=function(e,t){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in n){var s=n[e],r={prevented:!1,name:e,args:t};if(i.call(this,s,r),r.prevented)return void(t.prevented=!0)}i.call(this,e,t)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},o}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,i,n){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var n=e.extend(!0,{},t);new i(e(this),n)}),this;if("string"==typeof t){var n,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=i[t].apply(i,s)}),e.inArray(t,o)>-1?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e,t){function i(e){void 0!==e.open&&(e.open=!e.open)}var n=function(e){for(var t=[],i=e.parentNode;(n=i)&&(0===n.offsetWidth||0===n.offsetHeight||!1===n.open);)t.push(i),i=i.parentNode;var n;return t}(e),o=n.length,s=[],r=e[t];if(o){for(var a=0;a<o;a++)s[a]=n[a].style.cssText,n[a].style.setProperty?n[a].style.setProperty("display","block","important"):n[a].style.cssText+=";display: block !important",n[a].style.height="0",n[a].style.overflow="hidden",n[a].style.visibility="hidden",i(n[a]);r=e[t];for(var l=0;l<o;l++)n[l].style.cssText=s[l],i(n[l])}return r}function i(e,t){var i=parseFloat(e);return Number.isNaN(i)?t:i}function n(e){return e.charAt(0).toUpperCase()+e.substr(1)}function o(t,i){if(this.$window=e(window),this.$document=e(document),this.$element=e(t),this.options=e.extend({},c,i),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=d.orientation[this.orientation].dimension,this.DIRECTION=d.orientation[this.orientation].direction,this.DIRECTION_STYLE=d.orientation[this.orientation].directionStyle,this.COORDINATE=d.orientation[this.orientation].coordinate,this.polyfill&&l)return!1;this.identifier="js-"+r+"-"+a++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=e('<div class="'+this.options.fillClass+'" />'),this.$handle=e('<div class="'+this.options.handleClass+'" />'),this.$range=e('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=e.proxy(this.handleDown,this),this.handleMove=e.proxy(this.handleMove,this),this.handleEnd=e.proxy(this.handleEnd,this),this.init();var n,o,s=this;this.$window.on("resize."+this.identifier,(n=function(){!function(e,t){var i=Array.prototype.slice.call(arguments,2);setTimeout(function(){return e.apply(null,i)},t)}(function(){s.update(!1,!1)},300)},o=(o=20)||100,function(){if(!n.debouncing){var e=Array.prototype.slice.apply(arguments);n.lastReturnVal=n.apply(window,e),n.debouncing=!0}return clearTimeout(n.debounceTimeout),n.debounceTimeout=setTimeout(function(){n.debouncing=!1},o),n.lastReturnVal})),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(e,t){if(!t||t.origin!==s.identifier){var i=e.target.value,n=s.getPositionFromValue(i);s.setPosition(n)}})}Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&e!=e};var s,r="rangeslider",a=0,l=((s=document.createElement("input")).setAttribute("type","range"),"text"!==s.type),c={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},d={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};return o.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},o.prototype.update=function(e,o){(e=e||!1)&&(this.min=i(this.$element[0].getAttribute("min"),0),this.max=i(this.$element[0].getAttribute("max"),100),this.value=i(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=i(this.$element[0].getAttribute("step"),1)),this.handleDimension=t(this.$handle[0],"offset"+n(this.DIMENSION)),this.rangeDimension=t(this.$range[0],"offset"+n(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,o)},o.prototype.handleDown=function(e){if(e.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),!((" "+e.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var t=this.getRelativePosition(e),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=this.getPositionFromNode(this.$handle[0])-i,o="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(o),t>=n&&t<n+this.handleDimension&&(this.grabPos=t-n)}},o.prototype.handleMove=function(e){e.preventDefault();var t=this.getRelativePosition(e),i="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(i)},o.prototype.handleEnd=function(e){e.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$range.removeClass(this.options.activeClass),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},o.prototype.cap=function(e,t,i){return e<t?t:e>i?i:e},o.prototype.setPosition=function(e,t){var i,n;void 0===t&&(t=!0),i=this.getValueFromPosition(this.cap(e,0,this.maxHandlePos)),n=this.getPositionFromValue(i),this.$fill[0].style[this.DIMENSION]=n+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=n+"px",this.setValue(i),this.position=n,this.value=i,t&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(n,i)},o.prototype.getPositionFromNode=function(e){for(var t=0;null!==e;)t+=e.offsetLeft,e=e.offsetParent;return t},o.prototype.getRelativePosition=function(e){var t=n(this.COORDINATE),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],o=0;return void 0!==e.originalEvent["client"+t]?o=e.originalEvent["client"+t]:e.originalEvent.touches&&e.originalEvent.touches[0]&&void 0!==e.originalEvent.touches[0]["client"+t]?o=e.originalEvent.touches[0]["client"+t]:e.currentPoint&&void 0!==e.currentPoint[this.COORDINATE]&&(o=e.currentPoint[this.COORDINATE]),o-i},o.prototype.getPositionFromValue=function(e){var t;return t=(e-this.min)/(this.max-this.min),Number.isNaN(t)?0:t*this.maxHandlePos},o.prototype.getValueFromPosition=function(e){var t,i;return t=e/(this.maxHandlePos||1),i=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min,Number(i.toFixed(this.toFixed))},o.prototype.setValue=function(e){e===this.value&&""!==this.$element[0].value||this.$element.val(e).trigger("input",{origin:this.identifier})},o.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+r),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},e.fn[r]=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),s=n.data("plugin_"+r);s||n.data("plugin_"+r,s=new o(this,t)),"string"==typeof t&&s[t].apply(s,i)})},"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"}),function(e,t,i){e.bind("ready",function(){e.previewedDevice&&e.previewedDevice.bind(function(t){e.previewer.send("previewed-device",t)})})}(wp.customize,jQuery,_),function(e,t,i){e.czr_skopeReady=t.Deferred(),!i.isUndefined(serverControlParams.isSkopOn)&&serverControlParams.isSkopOn||e.czr_skopeReady.resolve();var n=function(e){e=i.extend({bgCol:"#5ed1f5",textCol:"#000",consoleArguments:[]},e);var t,n=Array.from(e.consoleArguments);return n=i.isEmpty(i.filter(n,function(e){return!i.isString(e)}))?n.join(" "):JSON.stringify(n.join(" ")),["%c "+(t=n,i.isString(t)?t.length>150?t.substr(0,149):t:""),["background:"+e.bgCol,"color:"+e.textCol,"display: block;"].join(";")]};e.consoleLog=function(){serverControlParams.isDevMode&&(i.isUndefined(console)&&"function"!=typeof window.console.log||(console.log.apply(console,n({consoleArguments:arguments})),console.log("Unstyled console message : ",arguments)))},e.errorLog=function(){i.isUndefined(console)&&"function"!=typeof window.console.log||(console.log.apply(console,n({bgCol:"#ffd5a0",textCol:"#000",consoleArguments:arguments})),console.log("Unstyled error message : ",arguments))},e.czr_isSkopOn=function(){return!i.isUndefined(serverControlParams.isSkopOn)&&serverControlParams.isSkopOn&&i.has(e,"czr_skopeBase")},e.czr_isChangeSetOn=function(){return serverControlParams.isChangeSetOn&&!0}}(wp.customize,jQuery,_),function(e,t,i){e.Value.prototype.set=function(n,o){var s=this._value,r=t.Deferred(),a=this,l=[];return n=this._setter.apply(this,arguments),n=this.validate(n),args=i.extend({silent:!1},i.isObject(o)?o:{}),null===n||i.isEqual(s,n)?r.resolveWith(a,[n,s,o]).promise():(this._value=n,this._dirty=!0,!0===args.silent?r.resolveWith(a,[n,s,o]).promise():this._deferreds?(i.each(a._deferreds,function(e){l.push(e.apply(null,[n,s,o]))}),t.when.apply(null,l).fail(function(){e.errorLog("A deferred callback failed in api.Value::set()")}).then(function(){a.callbacks.fireWith(a,[n,s,o]),r.resolveWith(a,[n,s,o])}),r.promise(a)):(this.callbacks.fireWith(this,[n,s,o]),r.resolveWith(a,[n,s,o]).promise(a)))},e.Value.prototype.bind=function(){var e=this,n=!1,o=[];return t.each(arguments,function(e,t){n||(n=i.isObject(t)&&t.deferred),i.isFunction(t)&&o.push(t)}),n?(e._deferreds=e._deferreds||[],i.each(o,function(t){i.contains(t,e._deferreds)||e._deferreds.push(t)})):e.callbacks.add.apply(e.callbacks,arguments),this},e.Setting.prototype.silent_set=function(t,n){var o=this._value,s=e.state("saved")();return t=this._setter.apply(this,arguments),null===(t=this.validate(t))||i.isEqual(o,t)?this:(this._value=t,this._dirty=i.isUndefined(n)||!i.isBoolean(n)?this._dirty:n,this.callbacks.fireWith(this,[t,o,{silent:!0}]),e.state("saved")(s),this)}}(wp.customize,jQuery,_),function(e,t,i){e.Setting.prototype.preview=function(n,o,s){var r,a=t.Deferred();return r=this.transport,serverControlParams.isSkopOn&&e.czr_isPreviewerSkopeAware&&"pending"==e.czr_isPreviewerSkopeAware.state()?(this.previewer.refresh(),a.resolve(arguments).promise()):i.isUndefined(o)||i.isEmpty(o)||i.isNull(o)||!i.isObject(s)||!0!==s.not_preview_sent?i.has(s,"silent")&&!1!==s.silent?a.resolve(arguments).promise():("postMessage"!==r||e.state("previewerAlive").get()||(r="refresh"),"postMessage"===r?(this.previewer.send("pre_setting",{set_id:this.id,data:s,value:n}),this.previewer.send("setting",[this.id,this()]),a.resolve(arguments)):"refresh"===r&&(serverControlParams.isSkopOn?this.previewer.refresh().always(function(){a.resolve(arguments)}):(this.previewer.refresh(),a.resolve(arguments))),a.promise()):a.resolve(arguments).promise()}}(wp.customize,jQuery,_),function(e,t,i){if("function"==typeof e.Section){var n=e.Section.prototype.initialize;e.Section.prototype.initialize=function(e,o){n.apply(this,[e,o]);var s=this;this.expanded.callbacks.add(function(e){if(e){var n=s.container.closest(".wp-full-overlay-sidebar-content"),o=s.container.find(".accordion-section-content");_resizeContentHeight=function(){o.css("height",n.innerHeight())},_resizeContentHeight(),t(window).on("resize.customizer-section",i.debounce(_resizeContentHeight,110))}})}}}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{getControlSettingId:function(t,n){return n="default",e.control.has(t)?!i.has(e.control(t),"settings")||i.isEmpty(e.control(t).settings)?t:i.has(e.control(t).settings,n)?i.isUndefined(e.control(t).settings[n].id)?(e.consoleLog("getControlSettingId : The requested control_id has no setting id assigned : "+t),t):e.control(t).settings[n].id:(e.consoleLog("getControlSettingId : The requested control_id does not have the requested setting type : "+t+" , "+n),t):(e.consoleLog("getControlSettingId : The requested control_id is not registered in the api yet : "+t),t)},getDocSearchLink:function(e){var t=(e=i.isString(e)?e:"").replace(/ /g,"+");return['<a href="'+[serverControlParams.docURL,"search?query=",t].join("")+'" title="'+serverControlParams.i18n.readDocumentation+'" target="_blank">'," ",'<span class="far fa-question-circle"></span>'].join("")},build_setId:function(e){return i.contains(serverControlParams.wpBuiltinSettings,e)?e:i.contains(serverControlParams.themeSettingList,e)&&-1==e.indexOf(serverControlParams.themeOptions)?[serverControlParams.themeOptions+"[",e,"]"].join(""):e},getOptionName:function(e){return-1==e.indexOf(serverControlParams.themeOptions)?e:e.replace(/\[|\]/g,"").replace(serverControlParams.themeOptions,"")},hasPartRefresh:function(t){if(i.has(e,"czr_partials"))return i.contains(i.map(e.czr_partials(),function(e,n){return i.contains(e.settings,t)}),!0)},getSectionControlIds:function(t){return t=t||e.czr_activeSectionId(),e.section.has(t)?i.map(e.section(t).controls(),function(e){return e.id}):[]},getSectionSettingIds:function(t){if(t=t||e.czr_activeSectionId(),e.section.has(t)){var n=[],o=this.getSectionControlIds(t);return i.each(o,function(t){i.each(e.control(t).settings,function(e,t){n.push(e.id)})}),n}},capitalize:function(e){return i.isString(e)?e.charAt(0).toUpperCase()+e.slice(1):e},truncate:function(e,t,n){if(!i.isString(e))return"";t=t||20;var o=e.length>t,s=o?e.substr(0,t-1):e;return s=n&&o?s.substr(0,s.lastIndexOf(" ")):s,o?s+"...":s},isMultiItemModule:function(t,n){if(!i.isUndefined(t)||i.isObject(n)){if(i.isObject(n)&&i.has(n,"module_type"))t=n.module_type;else if(i.isUndefined(t)||i.isNull(t))return;if(i.has(e.czrModuleMap,t))return e.czrModuleMap[t].crud||e.czrModuleMap[t].multi_item||!1}},isCrudModule:function(t,n){if(!i.isUndefined(t)||i.isObject(n)){if(i.isObject(n)&&i.has(n,"module_type"))t=n.module_type;else if(i.isUndefined(t)||i.isNull(t))return;if(i.has(e.czrModuleMap,t))return e.czrModuleMap[t].crud||!1}},hasModuleModOpt:function(t,n){if(!i.isUndefined(t)||i.isObject(n)){if(i.isObject(n)&&i.has(n,"module_type"))t=n.module_type;else if(i.isUndefined(t)||i.isNull(t))return;if(i.has(e.czrModuleMap,t))return e.czrModuleMap[t].has_mod_opt||!1}},setupInputCollectionFromDOM:function(){var n=this;if(!i.isFunction(n))throw new Error("setupInputCollectionFromDOM : inputParentInst is not valid.");var o=n.module,s=i.has(n(),"is_mod_opt");if(i.isEmpty(n.inputCollection())){n.czr_Input=n.czr_Input||new e.Values,n.inputConstructor=s?o.inputModOptConstructor:o.inputConstructor;var r=s?n.defaultModOptModel:n.defaultItemModel;if(i.isEmpty(r)||i.isUndefined(r))throw new Error("No default model found in item or mod opt "+n.id+".");var a=t.extend(!0,{},n());a=i.isObject(a)?t.extend(r,a):r;var l={};return t("."+o.control.css_attr.sub_set_wrapper,n.container).each(function(r){var c=t(this).find("[data-type]").attr("data-type"),d=i.has(a,c)?a[c]:"";if(i.isUndefined(c)||i.isEmpty(c))e.consoleLog("setupInputCollectionFromDOM : missing data-type for "+o.id);else{if(!i.has(a,c))throw new Error("The item or mod opt property : "+c+" has been found in the DOM but not in the item or mod opt model : "+n.id+". The input can not be instantiated.");var u=t(this).attr("data-input-type"),p=t(this).attr("data-transport")||"inherit",h=i.has(o.inputOptions,u)?o.inputOptions[u]:{};n.czr_Input.add(c,new n.inputConstructor(c,{id:c,type:u,transport:p,input_value:d,input_options:h,container:t(this),input_parent:n,is_mod_opt:s,module:o})),n.czr_Input(c).ready(),l[c]=d}}),n.inputCollection(l),n}},removeInputCollection:function(){var e=this;if(!i.isFunction(e))throw new Error("removeInputCollection : inputParentInst is not valid.");i.has(e,"czr_Input")&&(e.czr_Input.each(function(t){e.czr_Input.remove(t.id)}),e.inputCollection({}))},refreshModuleControl:function(i){var n=e.controlConstructor.czr_module,o=(e.control(i).params.type,e.settings.controls[i]);t.when(e.control(i).container.remove()).done(function(){e.control.remove(i),e.control.add(i,new n(i,{params:o,previewer:e.previewer}))})},hexToRgb:function(t){try{t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n})}catch(i){return e.errorLog("Error in Helpers::hexToRgb : "+i),t}var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgb("+(i=i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:[]).join(",")+")"},rgbToHex:function(e,t,i){var n=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t};return"#"+n(e)+n(t)+n(i)}})}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{addActions:function(e,t,n){(n=n||this)[e]=n[e]||[],new_event_map=i.clone(n[e]),n[e]=i.union(new_event_map,i.isArray(t)?t:[t])},doActions:function(e,t,i){t.trigger(e,i)},setupDOMListeners:function(n,o,s){var r=this;s=s||r,i.isArray(n)?i.isObject(o)?!(o=i.extend({model:{},dom_el:{}},o)).dom_el instanceof jQuery||1>o.dom_el.length?e.errorLog("setupDomListeners : dom element should be an existing dom element",o):i.map(n,function(n){if(i.isString(n.selector)&&!i.isEmpty(n.selector))if(i.isString(n.selector)&&!i.isEmpty(n.selector)){var a=n.name&&!i.isEmpty(n.name)?n.name:[n.trigger,n.selector].join(""),l=o.dom_el.data("czr-listener-collection");if(l&&i.isArray(l)){if(l=i.isArray(l)?l:[],i.contains(l,a))return;l.push(a)}else l=[a];o.dom_el.data("czr-listener-collection",l),o.dom_el.on(n.trigger,n.selector,function(a,l){if(a.stopPropagation(),!e.utils.isKeydownButNotEnterEvent(a)){a.preventDefault();var c=t.extend(!0,{},o);if(i.has(c,"model")&&i.has(c.model,"id")&&(i.has(s,"get")?c.model=s():c.model=s.getModel(c.model.id)),t.extend(c,{event:n,dom_event:a}),t.extend(c,l),i.has(c,"event")&&i.has(c.event,"actions"))try{r.executeEventActionChain(c,s)}catch(t){e.errorLog("In setupDOMListeners : problem when trying to fire actions : "+c.event.actions),e.errorLog("Error : "+t)}else e.errorLog("executeEventActionChain : missing obj.event or obj.event.actions")}})}else e.errorLog("setupDOMListeners : selector must be a string not empty. Aborting setup of action(s) : "+n.actions.join(","));else e.errorLog("setupDOMListeners : selector must be a string not empty. Aborting setup of action(s) : "+n.actions.join(","))}):e.errorLog("setupDomListeners : args should be an object",n):e.errorLog("setupDomListeners : event_map should be an array",o)},executeEventActionChain:function(e,t){var n=this;if("function"==typeof e.event.actions)return e.event.actions.call(t,e);i.isArray(e.event.actions)||(e.event.actions=[e.event.actions]);var o=!1;i.map(e.event.actions,function(s){if(!o){var r=function(){};if("function"==typeof s)r=s;else{if("function"!=typeof t[s])throw new Error("executeEventActionChain : the action : "+s+" has not been found when firing event : "+e.event.selector);r=t[s]}var a=i.has(e,"dom_el")&&-1!=e.dom_el.length?e.dom_el:n.container;"string"==typeof s&&a.trigger("before_"+s,i.omit(e,"event")),!1===r.call(t,e)&&(o=!0),"string"==typeof s&&a.trigger("after_"+s,i.omit(e,"event"))}})}})}(wp.customize,jQuery,_),function(e,t,i){e.czr_wpQueryDataReady=t.Deferred(),e.czr_wpQueryInfos=e.czr_wpQueryInfos||new e.Value,e.czr_partials=e.czr_partials||new e.Value,e.bind("ready",function(){e.previewer.bind("houston-widget-settings",function(t){var n=i.filter(t.registeredSidebars,function(e){return!i.findWhere(_wpCustomizeWidgetsSettings.registeredSidebars,{id:e.id})}),o=i.filter(t.registeredSidebars,function(e){return!i.has(t.renderedSidebars,e.id)});o=i.map(o,function(e){return e.id});var s=i.map(t.registeredSidebars,function(e){return e.id});e.czr_widgetZoneSettings=e.czr_widgetZoneSettings||new e.Value,e.czr_widgetZoneSettings.set({actives:t.renderedSidebars,inactives:o,registered:s,candidates:n,available_locations:t.availableWidgetLocations})}),e.previewer.bind("czr-query-data-ready",function(t){e.czr_wpQueryInfos(t),"pending"==e.czr_wpQueryDataReady.state()&&e.czr_wpQueryDataReady.resolve(t)}),e.previewer.bind("czr-partial-refresh-data",function(t){e.czr_partials.set(t)}),e.previewer.bind("czr-partial-refresh-done",function(t){if(i.has(t,"set_id")){var n=e.CZR_Helpers.build_setId(t.set_id);if(e.has(n)){var o=e.CZR_Helpers.getControlSettingId(n);e.control.has(o)&&e.control(o).trigger("czr-partial-refresh-done")}}})})}(wp.customize,jQuery,_);var CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{initialize:function(n,o){if(i.isUndefined(o.input_parent)||i.isEmpty(o.input_parent))throw new Error("No input_parent assigned to input "+o.id+". Aborting");if(i.isUndefined(o.module))throw new Error("No module assigned to input "+o.id+". Aborting");e.Value.prototype.initialize.call(this,null,o);var s=this;if(t.extend(s,o||{}),s.isReady=t.Deferred(),i.isUndefined(o.input_value)||s.set(o.input_value),e.czrInputMap&&i.has(e.czrInputMap,s.type)){var r=e.czrInputMap[s.type];i.isFunction(s[r])&&s[r](o.input_options||null)}else e.consoleLog("Warning an input : "+s.id+" has no corresponding method defined in api.czrInputMap.");s.input_event_map=[{trigger:t.trim(["change",{text:"keyup",textarea:"keyup",password:"keyup",color:"colorpickerchange",range:"input propertychange"}[s.type]||""].join(" ")),selector:"input[data-type], select[data-type], textarea[data-type]",name:"set_input_value",actions:function(e){if(!i.has(s.input_parent,"syncElements")||!i.has(s.input_parent.syncElements,s.id))throw new Error("WARNING : THE INPUT "+s.id+" HAS NO SYNCED ELEMENT.")}}],s.visible=new e.Value(!0),s.isReady.done(function(){s.visible.bind(function(e){e?s.container.stop(!0,!0).slideDown(200):s.container.stop(!0,!0).slideUp(200)})}),s.enabled=new e.Value(!0),s.isReady.done(function(){s.enabled.bind(function(e){s.container.toggleClass("disabled",!e)})})},ready:function(){var e=this;e.setupDOMListeners(e.input_event_map,{dom_el:e.container},e),e.callbacks.add(function(){return e.inputReact.apply(e,arguments)}),t.when(e.setupSynchronizer()).done(function(){e.isReady.resolve(e)})},setupSynchronizer:function(){var t=this.input_parent,i=this.container.find("[data-type]");if(this.container.find("[data-type]").is("textarea"))throw new Error("TO DO : THE TEXTAREA INPUT ARE NOT READY IN THE SYNCHRONIZER!");var n=new e.Element(i);t.syncElements=t.syncElements||{},t.syncElements[this.id]=n,n.sync(this),n.set(this())},inputReact:function(e,t,n){var o=this.input_parent(),s=i.clone(o),r=this.is_preItemInput;this.enabled()&&((s=!i.isObject(s)||i.isEmpty(s)?{}:s)[this.id]=e,this.input_parent.set(s,{input_changed:this.id,input_transport:this.transport,not_preview_sent:"postMessage"===this.transport}),r||(this.input_parent.trigger(this.id+":changed",e),i.isEmpty(t)&&(i.isUndefined(t)||"postMessage"!==this.transport)||this.module.sendInputToPreview({input_id:this.id,input_parent_id:this.input_parent.id,to:e,from:t})))},setupColorPicker:function(){this.container.find("input").iris({palettes:!0,hide:!1,change:function(e,i){t(this).val(i.color.toString()).trigger("colorpickerchange").trigger("change")}})},setupSelect:function(){t("select",this.container).not(".no-selecter-js").each(function(){t(this).selecter({})})},setupIcheck:function(e){t("input[type=checkbox]",this.container).each(function(e){0===t(this).closest('div[class^="icheckbox"]').length&&t(this).iCheck({checkboxClass:"icheckbox_flat-grey",checkedClass:"checked",radioClass:"iradio_flat-grey"}).on("ifChanged",function(e){t(this).val(!1===t(this).is(":checked")?0:1),t(e.currentTarget).trigger("change")})})},setupStepper:function(e){t('input[type="number"]',this.container).each(function(e){t(this).stepper()})},setupRangeSlider:function(e){var i,n=function(e,t){e.textContent=t+"%"};t(this.container).find("input").rangeslider({polyfill:!1,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",onInit:function(){i=t(".rangeslider__handle",this.$range),t(".rangeslider__handle",this.$range),n(i[0],this.value)}}).on("input",function(){n(i[0],this.value)})}})}(wp.customize,jQuery,_);CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{setupImageUploader:function(){var e=this,i=e();if(e.attachment={},!e.container)return this;this.tmplRendered=t.Deferred(),this.setupContentRendering(i,{}),this.tmplRendered.done(function(){e.czrImgUploaderBinding()})},setupContentRendering:function(e,t){var n,o=this;o.attachment.id!=e&&t!==e?(e||(o.attachment={},o.renderImageUploaderTemplate()),n=wp.media.attachment(e),i.isObject(n)&&i.has(n,"attributes")&&i.has(n.attributes,"sizes")?(o.attachment=n.attributes,o.renderImageUploaderTemplate()):wp.media.attachment(e).fetch().done(function(){o.attachment=this.attributes,o.renderImageUploaderTemplate()})):o.attachment.id&&o.attachment.id!==e||o.renderImageUploaderTemplate()},czrImgUploaderBinding:function(){var e=this;i.bindAll(e,"czrImgUploadRemoveFile","czrImgUploadOpenFrame","czrImgUploadSelect"),e.container.on("click keydown",".upload-button",e.czrImgUploadOpenFrame),e.container.on("click keydown",".thumbnail-image img",e.czrImgUploadOpenFrame),e.container.on("click keydown",".remove-button",e.czrImgUploadRemoveFile),e.bind(e.id+":changed",function(i,n){e.tmplRendered=t.Deferred(),e.setupContentRendering(i,n)})},czrImgUploadOpenFrame:function(t){e.utils.isKeydownButNotEnterEvent(t)||(t.preventDefault(),this.frame||this.czrImgUploadInitFrame(),this.frame.open())},czrImgUploadInitFrame:function(){var e=this.getUploaderLabels();this.frame=wp.media({button:{text:e.frame_button},states:[new wp.media.controller.Library({title:e.frame_title,library:wp.media.query({type:"image"}),multiple:!1,date:!1})]}),this.frame.on("select",this.czrImgUploadSelect)},czrImgUploadRemoveFile:function(t){e.utils.isKeydownButNotEnterEvent(t)||(t.preventDefault(),this.attachment={},this.set(""))},czrImgUploadSelect:function(){var e=this.frame.state().get("selection").first().toJSON();window._wpmejsSettings;this.attachment=e,this.set(e.id)},renderImageUploaderTemplate:function(){if(0!==t("#tmpl-czr-input-img-uploader-view-content").length){var e=wp.template("czr-input-img-uploader-view-content");if(e&&this.container){var i=this.container.find("."+this.module.control.css_attr.img_upload_container);if(i.length){var n={button_labels:this.getUploaderLabels(),settings:this.id,attachment:this.attachment,canUpload:!0};return i.html(e(n)),this.tmplRendered.resolve(),this.container.trigger(this.id+":content_rendered"),!0}}}},getUploaderLabels:function(){var t=serverControlParams.i18n,n={select:t.select_image,change:t.change_image,remove:t.remove_image,default:t.default_image,placeholder:t.placeholder_image,frame_title:t.frame_title_image,frame_button:t.frame_button_image};return i.each(n,function(t,n){if(i.isUndefined(t)){return e.errorLog("A translated string is missing ( "+n+" ) for the image uploader input in module : "+this.module.id),""}}),n}})}(wp.customize,jQuery,_);CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{setupContentPicker:function(n){var o,s=this;t.extend({post:"",taxonomy:""},i.isObject(n)?n:{}),s.wpObjectTypes=n,s.container.find(".czr-input").append('<select data-select-type="content-picker-select" class="js-example-basic-simple"></select>'),o=[{trigger:"change",selector:"select[data-select-type]",name:"set_input_value",actions:function(n){var o=t(n.dom_event.currentTarget,n.dom_el),r=t(o,n.dom_el).select2("data"),a={};r=i.isArray(r)?r[0]:r,i.isObject(r)&&!i.isEmpty(r)?(i.each({id:"",type_label:"",title:"",object_type:"",url:""},function(t,n){"_custom_"===r.id||i.has(r,n)&&!i.isEmpty(r[n])?a[n]=r[n]:e.errorLog("content_picker : missing input param : "+n)}),s.set(a)):e.errorLog("Content Picker Input : the picked value should be an object not empty.")}}],s.setupDOMListeners(o,{dom_el:s.container},s),s.isReady.done(function(){s.setupContentSelecter()})},setupContentSelecter:function(){var e=this;if(!i.isEmpty(e())){var n={value:e().id||"",title:e().title||"",selected:"selected"};e.container.find("select").append(t("<option>",n))}e.container.find("select").select2({placeholder:{id:"-1",title:"Select"},data:e.setupSelectedContents(),ajax:{url:serverControlParams.AjaxUrl,type:"POST",dataType:"json",delay:250,debug:!0,data:function(t){var i=t.page?t.page:0;return i=t.term?t.page:i,{action:t.term?"search-available-content-items-customizer":"load-available-content-items-customizer",search:t.term,wp_customize:"on",page:i,wp_object_types:JSON.stringify(e.wpObjectTypes),CZRCpNonce:serverControlParams.CZRCpNonce}},processResults:function(t,n){if(e.defaultContentPickerOption=e.defaultContentPickerOption||[],!t.success)return{results:e.defaultContentPickerOption};var o=t.data.items,s=[];return i.each(o,function(e){s.push({id:e.id,title:e.title,type_label:e.type_label,object_type:e.object,url:e.url})}),{results:s,pagination:{more:t.data.items.length>=10}}}},templateSelection:e.czrFormatContentSelected,templateResult:e.czrFormatContentSelected,escapeMarkup:function(e){return e}})},czrFormatContentSelected:function(e){if(e.loading)return e.text;var t="<div class='content-picker-item clearfix'><div class='content-item-bar'><span class='czr-picker-item-title'>"+e.title+"</span>";return e.type_label&&(t+="<span class='czr-picker-item-type'>"+e.type_label+"</span>"),t+="</div></div>"},setupSelectedContents:function(){return this()}})}(wp.customize,jQuery,_);CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{setupTextEditor:function(){this();if(!this.container)throw new Error("The input container is not set for WP text editor in module."+this.module.id);this.czrRenderInputTextEditorTemplate()&&(this.editor=tinyMCE("czr-customize-content_editor"),this.textarea=t("#czr-customize-content_editor"),this.editorPane=t("#czr-customize-content_editor-pane"),this.dragbar=t("#czr-customize-content_editor-dragbar"),this.editorFrame=t("#czr-customize-content_editor_ifr"),this.mceTools=t("#wp-czr-customize-content_editor-tools"),this.mceToolbar=this.editorPane.find(".mce-toolbar-grp"),this.mceStatusbar=this.editorPane.find(".mce-statusbar"),this.preview=t("#customize-preview"),this.collapse=t(".collapse-sidebar"),this.textpreview=this.container.find("textarea"),this.toggleButton=this.container.find("button.text_editor-button"),this.editorExpanded=new e.Value(!1),this.czrUpdateTextPreview(),this.czrSetToggleButtonText(this.editorExpanded()),this.czrTextEditorBinding(),this.czrResizeEditorOnUserRequest())},czrTextEditorBinding:function(){var n=this,o=n.editor,s=n.textarea,r=n.toggleButton,a=(n.editorExpanded,n.editorPane);n.bind(n.id+":changed",n.czrUpdateTextPreview),i.bindAll(n,"czrOnVisualEditorChange","czrOnTextEditorChange","czrResizeEditorOnWindowResize"),r.on("click",function(){n.editorExpanded.set(!n.editorExpanded()),n.editorExpanded()&&o.focus()}),n.module.czr_ModuleState.bind(function(e){"expanded"!=e&&n.editorExpanded.set(!1)}),n.editorExpanded.bind(function(i){e.consoleLog("in input.editorExpanded",i,n()),o.locker&&o.locker!==n&&(o.locker.editorExpanded.set(!1),o.locker=null),o.locker&&o.locker!==n||(t(document.body).toggleClass("czr-customize-content_editor-pane-open",i),o.locker=n),n.czrSetToggleButtonText(i),i?(o.setContent(wp.editor.autop(n())),o.on("input change keyup",n.czrOnVisualEditorChange),s.on("input",n.czrOnTextEditorChange),n.czrResizeEditor(window.innerHeight-a.height()),t(window).on("resize",n.czrResizeEditorOnWindowResize)):(o.off("input change keyup",n.czrOnVisualEditorChange),s.off("input",n.czrOnTextEditorChange),t(window).off("resize",n.czrResizeEditorOnWindowResize),n.czrResizeReset())})},czrOnVisualEditorChange:function(){var e,t=this.editor;e=wp.editor.removep(t.getContent()),this.set(e)},czrOnTextEditorChange:function(){var e;e=this.textarea.val(),this.set(e)},czrUpdateTextPreview:function(){var e;(e=this().replace(/(<([^>]+)>)/gi,"")).length>30&&(e=e.substring(0,34)+"..."),this.textpreview.val(e)},czrRenderInputTextEditorTemplate:function(){if(0===t("#tmpl-czr-input-text_editor-view-content").length)throw new Error("Missing js template for text editor input in module : "+this.module.id);var i=wp.template("czr-input-text_editor-view-content"),n=this.container.find("input");if(i&&this.container)return e.consoleLog("Model injected in text editor tmpl : ",this()),n.after(i(this())),!0},czrIsEditorExpanded:function(){return t(document.body).hasClass("czr-customize-content_editor-pane-open")},czrResizeReset:function(){var e=this.preview,t=this.collapse;this.container.closest("ul.accordion-section-content").css("padding-bottom",""),e.css("bottom",""),t.css("bottom","")},czrResizeEditor:function(e){var t=window.innerHeight,n=window.innerWidth,o={},s=this.container.closest("ul.accordion-section-content"),r=this.mceTools,a=this.mceToolbar,l=this.mceStatusbar,c=this.preview,d=this.collapse,u=this.editorPane,p=this.editorFrame;this.editorExpanded()&&(i.isNaN(e)||(resizeHeight=t-e),o.height=resizeHeight,o.components=r.outerHeight()+a.outerHeight()+l.outerHeight(),resizeHeight<40&&(o.height=40),resizeHeight>t-1&&(o.height=t-1),t<u.outerHeight()&&(o.height=t),c.css("bottom",o.height),u.css("height",o.height),p.css("height",o.height-o.components),d.css("bottom",o.height+8),56>t-o.height&&d.css("bottom",l.outerHeight()+4),n<=782?s.css("padding-bottom",o.height):s.css("padding-bottom",""))},czrResizeEditorOnWindowResize:function(){var e=this,t=e.editorPane;e.editorExpanded()&&i.delay(function(){e.czrResizeEditor(window.innerHeight-t.height())},50)},czrResizeEditorOnUserRequest:function(){var e=this,i=e.dragbar,n=e.editorFrame;i.on("mousedown",function(){e.editorExpanded()&&t(document).on("mousemove.czr-customize-content_editor",function(i){i.preventDefault(),t(document.body).addClass("czr-customize-content_editor-pane-resize"),n.css("pointer-events","none"),e.czrResizeEditor(i.pageY)})}),i.on("mouseup",function(){e.editorExpanded()&&(t(document).off("mousemove.czr-customize-content_editor"),t(document.body).removeClass("czr-customize-content_editor-pane-resize"),n.css("pointer-events",""))})},czrSetToggleButtonText:function(e){this.toggleButton.text(serverControlParams.i18n.mods.textEditor[e?"Close Editor":"Edit"])}})}(wp.customize,jQuery,_);var CZRItemMths=CZRItemMths||{};!function(e,t,i){t.extend(CZRItemMths,{initialize:function(n,o){if(i.isUndefined(o.module)||i.isEmpty(o.module))throw new Error("No module assigned to item "+n+". Aborting");var s=this;e.Value.prototype.initialize.call(s,null,o),s.isReady=t.Deferred(),s.embedded=t.Deferred(),s.container=null,s.contentContainer=null,s.czr_Input=new e.Values,s.inputCollection=new e.Value({}),s.viewState=new e.Value("closed"),s.removeDialogVisible=new e.Value(!1),t.extend(s,o||{}),s.defaultItemModel=i.clone(o.defaultItemModel)||{id:"",title:""};var r=t.extend(s.defaultItemModel,o.initial_item_model);r=s.validateItemModelOnInitialize(r),s.set(r),s.userEventMap=new e.Value([{trigger:"click keydown",selector:["."+s.module.control.css_attr.display_alert_btn,"."+s.module.control.css_attr.cancel_alert_btn].join(","),name:"toggle_remove_alert",actions:function(){var e=this.removeDialogVisible();this.module.closeRemoveDialogs(),this.removeDialogVisible(!e)}},{trigger:"click keydown",selector:"."+s.module.control.css_attr.remove_view_btn,name:"remove_item",actions:["removeItem"]},{trigger:"click keydown",selector:["."+s.module.control.css_attr.edit_view_btn,"."+s.module.control.css_attr.item_title].join(","),name:"edit_view",actions:["setViewVisibility"]},{trigger:"click keydown",selector:".tabs nav li",name:"tab_nav",actions:function(e){this.module.toggleTabVisibility.call(this,e)}}]),s.isReady.done(function(){s.module.updateItemsCollection({item:s()}),s.callbacks.add(function(){return s.itemReact.apply(s,arguments)}),s.bind("contentRendered",function(){if(i.isEmpty(s.inputCollection()))try{e.CZR_Helpers.setupInputCollectionFromDOM.call(s),s.module.setupTabNav.call(s)}catch(t){e.errorLog("In item.isReady.done : "+t)}}),s.bind("contentRemoved",function(){i.has(s,"czr_Input")&&e.CZR_Helpers.removeInputCollection.call(s)}),s.mayBeRenderItemWrapper(),s.embedded.done(function(){s.itemWrapperViewSetup(r)})})},ready:function(){this.isReady.resolve()},validateItemModelOnInitialize:function(e){return e},itemReact:function(e,t,i){var n=this,o=n.module;i=i||{},o.updateItemsCollection({item:e,data:i}).done(function(){n.writeItemViewTitle(e,i)})}})}(wp.customize,jQuery,_);CZRItemMths=CZRItemMths||{};!function(e,t,i){t.extend(CZRItemMths,{_sendItem:function(t,n){var o=this,s=o.module,r=[];i.each(n,function(e,i){e!=t[i]&&r.push(i)}),i.each(r,function(i){e.previewer.send("sub_setting",{set_id:s.control.id,id:t.id,changed_prop:i,value:t[i]}),s.trigger("item_sent",{item:t,dom_el:o.container,changed_prop:i})})},removeItem:function(){var e=this.module,n=i.clone(e.itemCollection());e.trigger("pre_item_dom_remove",this()),this._destroyView(),n=i.without(n,i.findWhere(n,{id:this.id})),e.itemCollection.set(n),e.trigger("pre_item_api_remove",this());var o=t.extend(!0,{},this());e.czr_Item.remove(this.id),e.trigger("item-removed",o)},getModel:function(e){return this()}})}(wp.customize,jQuery,_);CZRItemMths=CZRItemMths||{};!function(e,t,i){t.extend(CZRItemMths,{mayBeRenderItemWrapper:function(){var e=this;"pending"==e.embedded.state()&&t.when(e.renderItemWrapper()).done(function(t){if(e.container=t,i.isUndefined(e.container)||!e.container.length)throw new Error("In mayBeRenderItemWrapper the Item view has not been rendered : "+e.id);e.embedded.resolve()})},renderItemWrapper:function(e){var i=this.module;if(e=e||this(),$_view_el=t("<li>",{class:i.control.css_attr.single_item,"data-id":e.id,id:e.id}),i.itemsWrapper.append($_view_el),i.isMultiItem()){var n=i.getTemplateEl("rudItemPart",e);if(0===t("#tmpl-"+n).length)throw new Error("Missing template for item "+this.id+". The provided template script has no been found : #tmpl-"+i.getTemplateEl("rudItemPart",e));$_view_el.append(t(wp.template(n)(e)))}return $_view_el.append(t("<div/>",{class:i.control.css_attr.item_content})),$_view_el},itemWrapperViewSetup:function(n){var o=this,s=this.module;n=o()||o.initial_item_model,o.writeItemViewTitle();var r=function(e,t,n){if(i.isUndefined(e)||!1===e.length)throw new Error("Module : "+o.module.id+", the item content has not been rendered for "+o.id);o.trigger("contentRendered"),o.contentContainer=e,o.toggleItemExpansion(t,n)};o.module.isMultiItem()?o.viewState.callbacks.add(function(n,a){var l=-1!==n.indexOf("expanded");s.hasModOpt()&&l&&e.czr_ModOptVisible(!1),l?i.isObject(o.contentContainer)&&!1!==o.contentContainer.length?o.toggleItemExpansion(n,a):t.when(o.renderItemContent(o()||o.initial_item_model)).done(function(e){(r=i.debounce(r,50))(e,n,a)}):o.toggleItemExpansion(n,a).done(function(){i.isObject(o.contentContainer)&&!1!==o.contentContainer.length&&(o.trigger("beforeContenRemoved"),t("."+s.control.css_attr.item_content,o.container).children().each(function(){t(this).remove()}),t("."+s.control.css_attr.item_content,o.container).html(""),o.contentContainer=null,o.trigger("contentRemoved"))})}):(o.viewState.callbacks.add(function(e,t){o.toggleItemExpansion.apply(o,arguments)}),t.when(o.renderItemContent(n)).done(function(e){r(e,!0)})),e.CZR_Helpers.setupDOMListeners(o.userEventMap(),{model:n,dom_el:o.container},o),o.removeDialogVisible.bind(function(n){var s=o.module,r=t("."+s.control.css_attr.remove_alert_wrapper,o.container).first();if(n&&s.closeAllItems(),n&&s.hasModOpt()&&e.czr_ModOptVisible(!1),n&&i.has(s,"preItem")&&s.preItemExpanded(!1),t("."+s.control.css_attr.remove_alert_wrapper,o.container).not(r).each(function(){t(this).hasClass("open")&&t(this).slideToggle({duration:200,done:function(){t(this).toggleClass("open",!1),t(this).siblings().find("."+s.control.css_attr.display_alert_btn).toggleClass("active",!1)}})}),n){if(!wp.template(s.AlertPart)||!o.container)return void e.consoleLog("No removal alert template available for items in module :"+s.id);r.html(wp.template(s.AlertPart)({title:o().title||o.id})),o.trigger("remove-dialog-rendered")}var a=function(e){r.toggleClass("open",e),o.container.find("."+s.control.css_attr.display_alert_btn).toggleClass("active",e),e&&s._adjustScrollExpandedBlock(o.container)};n?r.stop(!0,!0).slideDown(200,function(){a(n)}):r.stop(!0,!0).slideUp(200,function(){a(n)})})},renderItemContent:function(e){var i=this.module;if(e=e||this(),0===t("#tmpl-"+i.getTemplateEl("itemInputList",e)).length)throw new Error("No item content template defined for module "+i.id+". The template script id should be : #tmpl-"+i.getTemplateEl("itemInputList",e));var n=wp.template(i.getTemplateEl("itemInputList",e));return n?(t(n(e)).appendTo(t("."+i.control.css_attr.item_content,this.container)),t(t(n(e)),this.container)):this},writeItemViewTitle:function(n){var o=this.module,s=n||this(),r=i.has(s,"title")?e.CZR_Helpers.capitalize(s.title):s.id;r=e.CZR_Helpers.truncate(r,20),t("."+o.control.css_attr.item_title,this.container).text(r),e.CZR_Helpers.doActions("after_writeViewTitle",this.container,s,this)},setViewVisibility:function(e,t){var n=this.module;t?this.viewState.set("expanded_noscroll"):(n.closeAllItems(this.id),i.has(n,"preItem")&&n.preItemExpanded.set(!1),this.viewState.set("expanded"==this._getViewState()?"closed":"expanded"))},_getViewState:function(){return-1==this.viewState().indexOf("expanded")?"closed":"expanded"},toggleItemExpansion:function(e,i,n){var o="closed"!=e,s=this,r=this.module,a=t("."+r.control.css_attr.item_content,s.container).first(),l=t.Deferred(),c=function(t){s.container.toggleClass("open",t),t&&r.closeRemoveDialogs();var i=a.siblings().find("."+r.control.css_attr.edit_view_btn);i.toggleClass("active",t),t?i.removeClass("fa-pencil-alt").addClass("fa-minus-square").attr("title",serverControlParams.i18n.close):i.removeClass("fa-minus-square").addClass("fa-pencil-alt").attr("title",serverControlParams.i18n.edit),"expanded"==e&&r._adjustScrollExpandedBlock(s.container),l.resolve()};return o?a.stop(!0,!0).slideDown(n||200,function(){c(o)}):a.stop(!0,!0).slideUp(200,function(){c(o)}),l.promise()},_destroyView:function(e){this.container.fadeOut({duration:e||400,done:function(){t(this).remove()}})}})}(wp.customize,jQuery,_);var CZRModOptMths=CZRModOptMths||{};!function(e,t,i){t.extend(CZRModOptMths,{initialize:function(n){if(i.isUndefined(n.module)||i.isEmpty(n.module))throw new Error("No module assigned to modOpt.");var o=this;e.Value.prototype.initialize.call(o,null,n),o.isReady=t.Deferred(),o.container=null,o.inputCollection=new e.Value({}),t.extend(o,n||{}),o.defaultModOptModel=i.clone(n.defaultModOptModel)||{is_mod_opt:!0};var s=t.extend(o.defaultModOptModel,n.initial_modOpt_model),r=o.module.control;o.set(s),e.czr_ModOptVisible=new e.Value(!1),e.czr_ModOptVisible.bind(function(n,r,a){a=a||{},n?(o.module.closeRemoveDialogs().closeAllItems(),o.modOptWrapperViewSetup(s).done(function(t){o.container=t;try{e.CZR_Helpers.setupInputCollectionFromDOM.call(o).toggleModPanelView(n)}catch(t){e.consoleLog(t)}a.module&&a.focus&&i.delay(function(){!i.isNull(a.module.czr_ModOpt.container)&&a.module.czr_ModOpt.container.find('[data-tab-id="'+a.focus+'"] a').length&&a.module.czr_ModOpt.container.find('[data-tab-id="'+a.focus+'"] a').trigger("click")},200)})):o.toggleModPanelView(n).done(function(){!1!==o.container.length?t.when(o.container.remove()).done(function(){e.CZR_Helpers.removeInputCollection.call(o)}):e.CZR_Helpers.removeInputCollection.call(o),o.container=null})}),o.isReady.done(function(){t("."+r.css_attr.edit_modopt_icon,r.container).length||t.when(r.container.find(".customize-control-title").first().append(t("<span/>",{class:[r.css_attr.edit_modopt_icon,"fas fa-cog"].join(" "),title:serverControlParams.i18n.Settings}))).done(function(){t("."+r.css_attr.edit_modopt_icon,r.container).fadeIn(400)}),e.CZR_Helpers.setupDOMListeners([{trigger:"click keydown",selector:"."+r.css_attr.edit_modopt_icon,name:"toggle_mod_option",actions:function(){e.czr_ModOptVisible(!e.czr_ModOptVisible())}}],{dom_el:r.container},o)})},ready:function(){this.isReady.resolve()}})}(wp.customize,jQuery,_);CZRModOptMths=CZRModOptMths||{};!function(e,t,i){t.extend(CZRModOptMths,{modOptWrapperViewSetup:function(n){var o=this,s=this.module,r=t.Deferred();return n=o()||o.initial_modOpt_model,t.when(o.renderModOptContent(n)).done(function(t){if(i.isUndefined(t)||!1===t.length)throw new Error("Module : "+o.module.id+", the modOpt content has not been rendered");var n;n=t,e.CZR_Helpers.setupDOMListeners([{trigger:"click keydown",selector:"."+s.control.css_attr.close_modopt_icon,name:"close_mod_option",actions:function(){e.czr_ModOptVisible(!1)}},{trigger:"click keydown",selector:".tabs nav li",name:"tab_nav",actions:function(e){this.module.toggleTabVisibility.call(this,e)}}],{dom_el:n},o),r.resolve(t)}).then(function(){o.module.setupTabNav.call(o)}),r.promise()},renderModOptContent:function(i){var n=this.module;if(i=i||this(),0!==t("#tmpl-"+n.getTemplateEl("modOptInputList",i)).length){var o=wp.template(n.getTemplateEl("modOptInputList",i));if(!o)return this;var s="";try{s=[serverControlParams.i18n["Options for"],n.control.params.label].join(" ")}catch(t){e.errorLog("In renderModOptContent : "+t),s=serverControlParams.i18n.Settings}return t("#widgets-left").after(t("<div/>",{class:n.control.css_attr.mod_opt_wrapper,html:[['<h2 class="mod-opt-title">',s,"</h2>"].join(""),'<span class="fas fa-times '+n.control.css_attr.close_modopt_icon+'" title="close"></span>'].join("")})),t("."+n.control.css_attr.mod_opt_wrapper).append(t(o(i))),t("."+n.control.css_attr.mod_opt_wrapper)}e.errorLog("renderModOptContent : No modOpt content template defined for module "+n.id+". The template script id should be : #tmpl-"+n.getTemplateEl("modOptInputList",i))},toggleModPanelView:function(e){var n=this.module,o=(n.control,t.Deferred());return n.control.container.toggleClass("czr-modopt-visible",e),t("body").toggleClass("czr-editing-modopt",e),i.delay(function(){o.resolve()},200),o.promise()}})}(wp.customize,jQuery,_);var CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{initialize:function(n,o){if(i.isUndefined(o.control)||i.isEmpty(o.control))throw new Error("No control assigned to module "+n);var s=this;e.Value.prototype.initialize.call(this,null,o),s.isReady=t.Deferred(),t.extend(s,o||{}),t.extend(s,{crudModulePart:"czr-crud-module-part",rudItemPart:"czr-rud-item-part",ruItemPart:"czr-ru-item-part",itemInputList:"",modOptInputList:"",AlertPart:"czr-rud-item-alert-part"}),s.embedded=t.Deferred(),s.itemsWrapper="",s.isInSektion()||(s.container=t(s.control.selector),s.embedded.resolve()),s.embedded.done(function(){t.when(s.renderModuleParts()).done(function(e){if(!1===e.length)throw new Error("The items wrapper has not been rendered for module : "+s.id);s.itemsWrapper=e})}),s.defaultAPImodOptModel={initial_modOpt_model:{},defaultModOptModel:{},control:{},module:{}},s.defaultModOptModel={},s.modOptConstructor=e.CZRModOpt,s.itemCollection=new e.Value([]),s.defaultAPIitemModel={id:"",initial_item_model:{},defaultItemModel:{},control:{},module:{},is_added_by_user:!1},s.defaultItemModel={id:"",title:""},s.itemConstructor=e.CZRItem,s.czr_Item=new e.Values,s.inputConstructor=e.CZRInput,s.hasModOpt()&&(s.inputModOptConstructor=e.CZRInput),s.inputOptions={},s.isReady.done(function(){s.isDirty=new e.Value(o.dirty||!1),s.initializeModuleModel(o).done(function(e){s.set(e)}).fail(function(t){e.consoleLog("Module : "+s.id+" initialize module model failed : ",t)}).always(function(e){s.callbacks.add(function(){return s.moduleReact.apply(s,arguments)}),s.control.isModuleRegistered(s.id)||s.control.updateModulesCollection({module:o,is_registered:!1}),s.bind("items-collection-populated",function(e){s.itemCollection.callbacks.add(function(){return s.itemCollectionReact.apply(s,arguments)}),s.isMultiItem()&&s._makeItemsSortable()}),s.isInSektion()||s.populateSavedItemCollection(),s.hasModOpt()&&s.instantiateModOpt()})})},ready:function(){this.isReady.resolve()},initializeModuleModel:function(e){var n=t.Deferred();if(!this.isMultiItem()&&!this.isCrud()&&i.isEmpty(e.items)){var o=i.clone(this.defaultItemModel);e.items=[t.extend(o,{id:this.id})]}return n.resolve(e).promise()},itemCollectionReact:function(e,i,n){var o=this(),s=t.extend(!0,{},o);s.items=e,this.isDirty.set(!0),this.set(s,n||{})},moduleReact:function(e,n,o){var s=this.control;i.size(n.items)==i.size(e.items)&&i.isEmpty(i.difference(e.items,n.items)),e.column_id,n.column_id;s.updateModulesCollection({module:t.extend(!0,{},e),data:o})},getModuleSection:function(){return this.section},isInSektion:function(){return i.has(this,"sektion_id")},isMultiItem:function(){return e.CZR_Helpers.isMultiItemModule(null,this)},isCrud:function(){return e.CZR_Helpers.isCrudModule(null,this)},hasModOpt:function(){return e.CZR_Helpers.hasModuleModOpt(null,this)},instantiateModOpt:function(){var e=this,i=e.prepareModOptForAPI(e().modOpt||{});e.czr_ModOpt=new e.modOptConstructor(i),e.czr_ModOpt.ready(),e.czr_ModOpt.callbacks.add(function(i,n,o){var s=e(),r=t.extend(!0,{},s);r.modOpt=i,e.isDirty(!0),e(r,o)})},prepareModOptForAPI:function(e){var t=this,n={};return e=i.isObject(e)?e:{},i.each(t.defaultAPImodOptModel,function(o,s){e[s];switch(s){case"initial_modOpt_model":i.each(t.getDefaultModOptModel(),function(t,n){i.has(e,n)||(e[n]=t)}),n[s]=e;break;case"defaultModOptModel":n[s]=i.clone(t.defaultModOptModel);break;case"control":n[s]=t.control;break;case"module":n[s]=t}}),n},getDefaultModOptModel:function(e){return t.extend(i.clone(this.defaultModOptModel),{is_mod_opt:!0})},sendInputToPreview:function(n){n=i.extend({input_id:"",input_parent_id:"",to:null,from:null},n),i.isEqual(n.to,n.from)||(e.previewer.send("czr_input",{set_id:e.CZR_Helpers.getControlSettingId(this.control.id),module_id:this.id,module:{items:t.extend(!0,{},this().items),modOpt:this.hasModOpt()?t.extend(!0,{},this().modOpt):{}},input_parent_id:n.input_parent_id,input_id:n.input_id,value:n.to,isPartialRefresh:n.isPartialRefresh}),this.trigger("input_sent",{input:n.to,dom_el:this.container}))},sendModuleInputsToPreview:function(e){var n=this,o=function(){var o=this,s=t.extend(!0,{},o());s=i.omit(s,"id"),i.each(s,function(t,i){n.sendInputToPreview({input_id:i,input_parent_id:o.id,to:t,from:null,isPartialRefresh:e.isPartialRefresh})})};n.czr_Item.each(function(e){o.call(e)}),n.hasModOpt()&&o.call(n.czr_ModOpt)}})}(wp.customize,jQuery,_);CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{populateSavedItemCollection:function(){var t=this,n=[];i.isArray(t().items)?(i.each(t().items,function(e,t){i.has(e,"id")&&!i.has(e,"is_mod_opt")&&n.push(e)}),i.each(n,function(i,n){try{t.instantiateItem(i).ready()}catch(t){e.errorLog("populateSavedItemCollection : "+t)}}),i.each(n,function(e){if(i.isUndefined(i.findWhere(t.itemCollection(),e.id)))throw new Error("populateSavedItemCollection : The saved items have not been properly populated in module : "+t.id)}),t.trigger("items-collection-populated")):e.errorLog("populateSavedItemCollection : The saved items collection must be an array in module :"+t.id)},instantiateItem:function(t,n){if(item_candidate=this.prepareItemForAPI(t),item_candidate&&!i.isNull(item_candidate)){if(!i.has(item_candidate,"id"))throw new Error("CZRModule::instantiateItem() : an item has no id and could not be added in the collection of : "+this.id);if(this.czr_Item.has(item_candidate.id))throw new Error("CZRModule::instantiateItem() : the following item id "+item_candidate.id+" already exists in module.czr_Item() for module "+this.id);if(this.czr_Item.add(item_candidate.id,new this.itemConstructor(item_candidate.id,item_candidate)),!this.czr_Item.has(item_candidate.id))throw new Error("CZRModule::instantiateItem() : instantiation failed for item id "+item_candidate.id+" for module "+this.id);return this.czr_Item(item_candidate.id)}e.consoleLog("item_candidate invalid. InstantiateItem aborted in module "+this.id)},prepareItemForAPI:function(e){var t=this,n={};return e=i.isObject(e)?e:{},i.each(t.defaultAPIitemModel,function(o,s){var r=e[s];switch(s){case"id":i.isEmpty(r)?n[s]=t.generateItemId(t.module_type):t.isItemRegistered(r)?t.generateItemId(r):n[s]=r;break;case"initial_item_model":i.each(t.getDefaultItemModel(),function(t,n){i.has(e,n)||(e[n]=t)}),n[s]=e;break;case"defaultItemModel":n[s]=i.clone(t.defaultItemModel);break;case"control":n[s]=t.control;break;case"module":n[s]=t;break;case"is_added_by_user":n[s]=!!i.isBoolean(r)&&r}}),i.has(n,"id")||(n.id=t.generateItemId(t.module_type)),n.initial_item_model.id=n.id,t.validateItemBeforeInstantiation(n)},validateItemBeforeInstantiation:function(e){return e},generateItemId:function(e,t,n){if((n=n||1)>100)throw new Error("Infinite loop when generating of a module id.");var o=e+"_"+(t=t||this._getNextItemKeyInCollection());if(!i.has(this,"itemCollection")||!i.isArray(this.itemCollection()))throw new Error("The item collection does not exist or is not properly set in module : "+this.id);return this.isItemRegistered(o)?(t++,n++,this.generateItemId(e,t,n)):o},_getNextItemKeyInCollection:function(){var e={},t=0;return i.isEmpty(this.itemCollection())?t:(e=i.isArray(this.itemCollection())&&1===i.size(this.itemCollection())?this.itemCollection()[0]:i.max(this.itemCollection(),function(e){return i.isNumber(e.id.replace(/[^\/\d]/g,""))?parseInt(e.id.replace(/[^\/\d]/g,""),10):0}),!i.isUndefined(e)&&i.isNumber(e.id.replace(/[^\/\d]/g,""))&&(t=parseInt(e.id.replace(/[^\/\d]/g,""),10)+1),t)},isItemRegistered:function(e){return!i.isUndefined(i.findWhere(this.itemCollection(),{id:e}))},updateItemsCollection:function(e){var n=this.itemCollection(),o=i.clone(n),s=t.Deferred();if(!i.has(e,"collection")){if(!i.has(e,"item"))throw new Error("updateItemsCollection, no item provided "+this.control.id+". Aborting");e=i.extend({data:{}},e);var r=i.clone(e.item);return i.each(this.defaultItemModel,function(e,t){if(!i.has(r,t))throw new Error('CZRModuleMths => updateItemsCollection : Missing property "'+t+'" for item candidate')}),i.findWhere(o,{id:r.id})?i.each(n,function(e,t){e.id==r.id&&(o[t]=r)}):o.push(r),this.itemCollection.set(o,e.data),s.resolve({collection:o,data:e.data}).promise()}this.itemCollection.set(e.collection)},_getSortedDOMItemCollection:function(){var e=i.clone(this.itemCollection()),n=[],o=t.Deferred();if(t("."+this.control.css_attr.single_item,this.container).each(function(o){var s=i.findWhere(e,{id:t(this).attr("data-id")});s&&(n[o]=s)}),e.length!=n.length)throw new Error("There was a problem when re-building the item collection from the DOM in module : "+this.id);return o.resolve(n).promise()},refreshItemCollection:function(){var i=this;i.czr_Item.each(function(e){t.when(i.czr_Item(e.id).container.remove()).done(function(){i.czr_Item.remove(e.id)})}),i.itemCollection=new e.Value([]),i.populateSavedItemCollection()}})}(wp.customize,jQuery,_);CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{getDefaultItemModel:function(e){return t.extend(i.clone(this.defaultItemModel),{id:e||""})},_initNewItem:function(e,n){var o,s={id:""};return n=void 0!==n?n:i.size(this.itemCollection()),i.isNumber(n)?o=this.module_type+"_"+n:(o=n,n=0),s=e&&!i.isEmpty(e)?t.extend(e,{id:o}):this.getDefaultItemModel(o),i.has(s,"id")&&this._isItemIdPossible(o)?(i.map(this.getDefaultItemModel(),function(e,t){i.has(s,t)||(s[t]=e)}),s):this._initNewItem(s,n+1)}})}(wp.customize,jQuery,_);CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{renderModuleParts:function(){var e=this.isInSektion()?t(this.container).find(".czr-mod-content"):t(this.container);if(this.isCrud()){if(0===t("#tmpl-"+this.crudModulePart).length)throw new Error("No crud Module Part template for module "+this.id+". The template script id should be : #tmpl-"+this.crudModulePart);e.append(t(wp.template(this.crudModulePart)({})))}var i=t("<ul/>",{class:[this.control.css_attr.items_wrapper,this.module_type,this.isMultiItem()?"multi-item-mod":"mono-item-mod",this.isCrud()?"crud-mod":"not-crud-mod"].join(" ")});return e.append(i),t(i,e)},getTemplateEl:function(e,t){var n;switch(e){case"rudItemPart":n=this.rudItemPart;break;case"ruItemPart":n=this.ruItemPart;break;case"modOptInputList":n=this.modOptInputList;break;case"itemInputList":n=this.itemInputList}if(i.isEmpty(n))throw new Error("No valid template has been found in getTemplateEl() "+this.id+". Aborting");return n},getViewEl:function(e){return t('[data-id = "'+e+'"]',this.container)},closeAllItems:function(e){var t=this,n=i.clone(t.itemCollection()),o=i.filter(n,function(t){return t.id!=e});return i.each(o,function(e){t.czr_Item.has(e.id)&&"expanded"==t.czr_Item(e.id)._getViewState(e.id)&&t.czr_Item(e.id).viewState.set("closed")}),this},_adjustScrollExpandedBlock:function(e,n){if(e.length&&!i.isUndefined(this.getModuleSection())){var o,s=t(".accordion-section-content",this.section.container),r=s.scrollTop(),a=n||90;setTimeout(function(){e.offset().top+e.height()+a>t(window.top).height()&&(o=e.offset().top+e.height()+a-t(window.top).height())>0&&s.animate({scrollTop:r+o},500)},50)}},closeRemoveDialogs:function(){if(i.isArray(this.itemCollection()))return this.czr_Item.each(function(e){e.removeDialogVisible(!1)}),this},_makeItemsSortable:function(n){if(!wp.media.isTouchDevice&&t.fn.sortable){var o=this;t("."+o.control.css_attr.items_wrapper,o.container).sortable({handle:"."+o.control.css_attr.item_sort_handle,start:function(){i.has(e,"czrModulePanelState")&&e.czrModulePanelState.set(!1),i.has(e,"czrSekSettingsPanelState")&&e.czrSekSettingsPanelState.set(!1)},update:function(t,n){o._getSortedDOMItemCollection().done(function(e){o.itemCollection.set(e)}).then(function(){!function(){i.has(o,"preItem")&&o.preItemExpanded.set(!1),o.closeAllItems().closeRemoveDialogs();var t=function(){e.previewer.refresh()};"postMessage"!=e(o.control.id).transport||e.CZR_Helpers.hasPartRefresh(o.control.id)||(t=i.debounce(t,500))(),o.trigger("item-collection-sorted")}()})}})}},toggleTabVisibility:function(e){t(this.container).find("li"),t(this.container).find("section");var i=t(e.dom_event.currentTarget,e.dom_el).attr("data-tab-id");t(".tabs nav li",this.container).each(function(){t(this).removeClass("tab-current").addClass("tab-inactive")}),t(this.container).find('li[data-tab-id="'+i+'"]').addClass("tab-current").removeClass("tab-inactive"),t("section",this.container).each(function(){t(this).removeClass("content-current")}),t(this.container).find('section[id="'+i+'"]').addClass("content-current")},setupTabNav:function(){var e=this;setTimeout(function(){(function(){var i=t.Deferred(),n=t(".tabs nav li",e.container);n.each(function(){t(this).removeClass("tab-current").addClass("tab-inactive")}),n.first().addClass("tab-current").removeClass("tab-inactive"),t("section",e.container).first().addClass("content-current");var o=n.length;return n.each(function(){t(this).addClass(o>0?"cols-"+o:"")}),i.resolve().promise()})().done(function(){t(".tabs",e.container).fadeIn(450)})},20)}})}(wp.customize,jQuery,_);var CZRDynModuleMths=CZRDynModuleMths||{};!function(e,t,i){t.extend(CZRDynModuleMths,{initialize:function(i,n){e.CZRModule.prototype.initialize.call(this,i,n),t.extend(this,{itemPreAddEl:""}),this.preItemsWrapper="",this.preItemExpanded=new e.Value(!1),this.itemAddedMessage=serverControlParams.i18n.successMessage,this.userEventMap=new e.Value([{trigger:"click keydown",selector:["."+this.control.css_attr.open_pre_add_btn,"."+this.control.css_attr.cancel_pre_add_btn].join(","),name:"pre_add_item",actions:["closeAllItems","closeRemoveDialogs",function(e){this.preItemExpanded.set(!this.preItemExpanded())}]},{trigger:"click keydown",selector:"."+this.control.css_attr.add_new_btn,name:"add_item",actions:["closeRemoveDialogs","closeAllItems","addItem"]}])},ready:function(){var i=this;i.setupDOMListeners(i.userEventMap(),{dom_el:i.container}),i.preItem=new e.Value(i.getDefaultItemModel()),i.preItemExpanded.callbacks.add(function(n){n?i.renderPreItemView().done(function(e){i.preItemsWrapper=e,i.preItem(i.getDefaultItemModel()),i.trigger("before-pre-item-input-collection-setup"),i.setupPreItemInputCollection()}).fail(function(t){e.errorLog("Pre-Item : "+t)}):t.when(i.preItemsWrapper.remove()).done(function(){i.preItem.czr_Input={},i.preItemsWrapper=null,i.trigger("pre-item-input-collection-destroyed")}),i._togglePreItemViewExpansion(n)}),e.CZRModule.prototype.ready.call(i)},setupPreItemInputCollection:function(){var i=this;i.preItem.czr_Input=new e.Values,t("."+i.control.css_attr.pre_add_wrapper,i.container).find("."+i.control.css_attr.sub_set_wrapper).each(function(e){var n=t(this).find("[data-type]").attr("data-type")||"sub_set_"+e;i.preItem.czr_Input.add(n,new i.inputConstructor(n,{id:n,type:t(this).attr("data-input-type"),container:t(this),input_parent:i.preItem,module:i,is_preItemInput:!0})),i.preItem.czr_Input(n).ready()}),i.trigger("pre-item-input-collection-ready")},validateItemBeforeAddition:function(e){return e},addItem:function(n){var o=this,s=o.preItem(),r=function(){o.preItemExpanded.set(!1)},a=t.Deferred();return i.isEmpty(s)||!i.isObject(s)?(e.errorLog("addItem : an item_candidate should be an object and not empty. In : "+o.id+". Aborted."),a.resolve().promise()):(r=i.debounce(r,200),(s=o.validateItemBeforeAddition(s))&&!i.isNull(s)?(o.instantiateItem(s,!0).ready(),t.Deferred(function(){var t=this;o.czr_Item(s.id).isReady.then(function(){r(),o.trigger("item-added",s);var a=function(){e.previewer.unbind("ready",a),t.resolve()};"postMessage"!=e(o.control.id).transport||!i.has(n,"dom_event")||i.has(n.dom_event,"isTrigger")||e.CZR_Helpers.hasPartRefresh(o.control.id)?t.resolve():(e.previewer.bind("ready",a),e.previewer.refresh())})}).done(function(){o.czr_Item(s.id).viewState("expanded")}).always(function(){a.resolve()}),a.promise()):void e.consoleLog("item_candidate invalid. InstantiateItem aborted in module "+o.id))}})}(wp.customize,jQuery,_);CZRDynModuleMths=CZRDynModuleMths||{};!function(e,t,i){t.extend(CZRDynModuleMths,{renderPreItemView:function(e){var n=t.Deferred();if(i.isObject(this.preItemsWrapper)&&0<this.preItemsWrapper.length)return n.resolve(this.preItemsWrapper).promise();if(!i.has(this,"itemPreAddEl")||0===t("#tmpl-"+this.itemPreAddEl).length)return n.reject("Missing itemPreAddEl or template ").promise();var o=wp.template(this.itemPreAddEl);if(!o||!this.container)return n.reject("Missing html template ").promise();var s=t("."+this.control.css_attr.pre_add_item_content,this.container);return s.prepend(t("<div>",{class:"pre-item-wrapper"})),s.find(".pre-item-wrapper").append(o()),n.resolve(s.find(".pre-item-wrapper")).promise()},_getPreItemView:function(){return t("."+this.control.css_attr.pre_add_item_content,this.container)},_togglePreItemViewExpansion:function(e){var i=this;t("."+i.control.css_attr.pre_add_item_content,i.container).slideToggle({duration:200,done:function(){var n=t("."+i.control.css_attr.open_pre_add_btn,i.container);t(this).toggleClass("open",e),e?n.find(".fas").removeClass("fa-plus-square").addClass("fa-minus-square"):n.find(".fas").removeClass("fa-minus-square").addClass("fa-plus-square"),n.toggleClass("active",e),t(i.container).toggleClass(i.control.css_attr.adding_new,e),i._adjustScrollExpandedBlock(t(this),120)}})},toggleSuccessMessage:function(e){var i=this.itemAddedMessage,n=t("."+this.control.css_attr.pre_add_wrapper,this.container);return $_success_wrapper=t("."+this.control.css_attr.pre_add_success,this.container),"on"==e?($_success_wrapper.find("p").text(i),$_success_wrapper.css("z-index",1000001).css("height",n.height()+"px").css("line-height",n.height()+"px")):$_success_wrapper.attr("style",""),this.container.toggleClass("czr-model-added","on"==e),this}})}(wp.customize,jQuery,_);var CZRBaseControlMths=CZRBaseControlMths||{};!function(e,t,i){t.extend(CZRBaseControlMths,{initialize:function(t,n){var o=this;o.css_attr=i.has(serverControlParams,"css_attr")?serverControlParams.css_attr:{},e.Control.prototype.initialize.call(o,t,n),o.bind("czr-partial-refresh-done",function(){i.has(o,"czr_moduleCollection")&&i.each(o.czr_moduleCollection(),function(e){o.czr_Module(e.id)&&o.czr_Module(e.id).sendModuleInputsToPreview({isPartialRefresh:!0})})})},refreshPreview:function(e){this.previewer.refresh()}})}(wp.customize,jQuery,_);var CZRBaseModuleControlMths=CZRBaseModuleControlMths||{};!function(e,t,i){t.extend(CZRBaseModuleControlMths,{initialize:function(n,o){var s=this;s.czr_Module=new e.Values,s.czr_moduleCollection=new e.Value,s.czr_moduleCollection.set([]),s.moduleCollectionReady=t.Deferred(),s.moduleCollectionReady.done(function(e){s.isMultiModuleControl(o),s.czr_moduleCollection.callbacks.add(function(){return s.moduleCollectionReact.apply(s,arguments)})}),s.isMultiModuleControl(o)&&(s.syncSektionModule=new e.Value),e.CZRBaseControl.prototype.initialize.call(s,n,o),e.section(s.section()).expanded.bind(function(e){s.czr_Module.each(function(e){e.closeAllItems().closeRemoveDialogs(),i.has(e,"preItem")&&e.preItemExpanded(!1)})})},ready:function(){var t=this;if(t.isMultiModuleControl())t.syncSektionModule.bind(function(e,i){"resolved"!=t.moduleCollectionReady.state()&&(t.registerModulesOnInit(e),t.moduleCollectionReady.resolve())});else{var n={};i.each(t.getSavedModules(),function(i,o){n=i;try{t.instantiateModule(i,{})}catch(t){return void e.errorLog("Failed to instantiate module "+i.id+" "+t)}t.container.attr("data-module",i.id)}),t.moduleCollectionReady.resolve(n)}t.bind("user-module-candidate",function(i){var n;try{n=t.instantiateModule(i,{})}catch(t){return void e.errorLog("Failed to instantiate module "+i.id+" "+t)}n.ready(i.is_added_by_user)})},getDefaultModuleApiModel:function(){var e={id:"",module_type:"",modOpt:{},items:[],crud:!1,multi_item:!1,sortable:!1,control:{}};return this.isMultiModuleControl()?t.extend(e,{column_id:"",sektion:{},sektion_id:"",is_added_by_user:!1,dirty:!1}):t.extend(e,{section:""})},getDefaultModuleDBModel:function(){var e={items:[]};return this.isMultiModuleControl()?t.extend(e,{id:"",module_type:"",column_id:"",sektion_id:"",dirty:!1}):e},isMultiModuleControl:function(e){return"czr_multi_module"==(i.isUndefined(e)?i.has(this,"params")?this.params.type:this.type:i.has(e,"params")?e.params.type:e.type)},getSyncCollectionControl:function(){if(i.isUndefined(this.params.syncCollection))throw new Error("Control "+this.id+" has no synchronized sektion control defined.");return e.control(e.CZR_Helpers.build_setId(this.params.syncCollection))},getSavedModules:function(){var n=this,o=[],s=n.params.module_type,r=[],a=[],l={};return n.isMultiModuleControl()?o=t.extend(!0,[],e(n.id)()):(!e.CZR_Helpers.isMultiItemModule(s)||i.isEmpty(e(n.id)())||i.isObject(e(n.id)())||e.consoleLog("Module Control Init for "+n.id+"  : a mono item module control value should be an object if not empty."),r=i.isArray(e(n.id)())?e(n.id)():[e(n.id)()],i.each(r,function(t,o){e.CZR_Helpers.hasModuleModOpt(s)&&0===o&&(i.has(t,"id")?e.consoleLog("getSavedModules : the module "+s+" in control "+n.id+" has no mod_opt defined while it should."):l=t),i.has(t,"id")&&!i.has(t,"is_mod_opt")&&a.push(t)}),o.push({id:e.CZR_Helpers.getOptionName(n.id)+"_"+n.params.type,module_type:n.params.module_type,section:n.section(),modOpt:t.extend(!0,{},l),items:t.extend(!0,[],a)})),o},isModuleRegistered:function(e){return!i.isUndefined(i.findWhere(this.czr_moduleCollection(),{id:e}))}})}(wp.customize,jQuery,_);CZRBaseModuleControlMths=CZRBaseModuleControlMths||{};!function(e,t,i){t.extend(CZRBaseModuleControlMths,{instantiateModule:function(e,t){if(!i.has(e,"id"))throw new Error("CZRModule::instantiateModule() : a module has no id and could not be added in the collection of : "+this.id+". Aborted.");if((i.isUndefined(t)||i.isEmpty(t))&&(t=this.getModuleConstructor(e)),!i.isEmpty(e.id)&&this.czr_Module.has(e.id))throw new Error("The module id already exists in the collection in control : "+this.id);var n=this.prepareModuleForAPI(e);if(this.czr_Module.add(n.id,new t(n.id,n)),!this.czr_Module.has(n.id))throw new Error("instantiateModule() : instantiation failed for module id "+n.id+" in control "+this.id);return this.czr_Module(n.id)},getModuleConstructor:function(t){var n={},o={};if(!i.has(t,"module_type"))throw new Error("CZRModule::getModuleConstructor : no module type found for module "+t.id);if(!i.has(e.czrModuleMap,t.module_type))throw new Error("Module type "+t.module_type+" is not listed in the module map api.czrModuleMap.");var s=e.czrModuleMap[t.module_type].mthds,r=e.czrModuleMap[t.module_type].crud?e.CZRDynModule:e.CZRModule;if(o=i.isEmpty(t.sektion_id)?r.extend(s):(n=r.extend(s)).extend(this.getMultiModuleExtender(n)),i.isUndefined(o)||i.isEmpty(o)||!o)throw new Error("CZRModule::getModuleConstructor : no constructor found for module type : "+t.module_type+".");return o},prepareModuleForAPI:function(t){if(!i.isObject(t))throw new Error("prepareModuleForAPI : a module must be an object to be instantiated.");var n=this,o={};return i.each(n.getDefaultModuleApiModel(),function(s,r){var a=t[r];switch(r){case"id":i.isEmpty(a)?o[r]=n.generateModuleId(t.module_type):o[r]=a;break;case"module_type":if(!i.isString(a)||i.isEmpty(a))throw new Error("prepareModuleForAPI : a module type must a string not empty");o[r]=a;break;case"items":if(!i.isArray(a))throw new Error("prepareModuleForAPI : a module item list must be an array");o[r]=a;break;case"modOpt":if(!i.isObject(a))throw new Error("prepareModuleForAPI : a module modOpt property must be an object");o[r]=a;break;case"crud":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].crud;else if(!i.isUndefined(a)&&!i.isBoolean(a))throw new Error('prepareModuleForAPI : the module param "crud" must be a boolean');o[r]=a||!1;break;case"multi_item":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].crud||e.czrModuleMap[t.module_type].multi_item;else if(!i.isUndefined(a)&&!i.isBoolean(a))throw new Error('prepareModuleForAPI : the module param "multi_item" must be a boolean');o[r]=a||!1;break;case"sortable":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].sortable||e.czrModuleMap[t.module_type].crud||e.czrModuleMap[t.module_type].multi_item;else if(!i.isUndefined(a)&&!i.isBoolean(a))throw new Error('prepareModuleForAPI : the module param "sortable" must be a boolean');o[r]=a||!1;break;case"control":o[r]=n;break;case"section":if(!i.isString(a)||i.isEmpty(a))throw new Error("prepareModuleForAPI : a module section must be a string not empty");o[r]=a;break;case"column_id":if(!i.isString(a)||i.isEmpty(a))throw new Error("prepareModuleForAPI : a module column id must a string not empty");o[r]=a;break;case"sektion":if(!i.isObject(a)||i.isEmpty(a))throw new Error("prepareModuleForAPI : a module sektion must be an object not empty");o[r]=a;break;case"sektion_id":if(!i.isString(a)||i.isEmpty(a))throw new Error("prepareModuleForAPI : a module sektion id must be a string not empty");o[r]=a;break;case"is_added_by_user":if(!i.isUndefined(a)&&!i.isBoolean(a))throw new Error('prepareModuleForAPI : the module param "is_added_by_user" must be a boolean');o[r]=a||!1;break;case"dirty":o[r]=a||!1}}),o},generateModuleId:function(e,t,n){if((n=n||1)>100)throw new Error("Infinite loop when generating of a module id.");var o=e+"_"+(t=t||this._getNextModuleKeyInCollection());if(!i.has(this,"czr_moduleCollection")||!i.isArray(this.czr_moduleCollection()))throw new Error("The module collection does not exist or is not properly set in control : "+this.id);return this.isModuleRegistered(o)?(t++,n++,this.generateModuleId(e,t,n)):o},_getNextModuleKeyInCollection:function(){var e={},t=0;return i.isEmpty(this.czr_moduleCollection())||(e=i.max(this.czr_moduleCollection(),function(e){return parseInt(e.id.replace(/[^\/\d]/g,""),10)}),t=parseInt(e.id.replace(/[^\/\d]/g,""),10)+1),t}})}(wp.customize,jQuery,_);CZRBaseModuleControlMths=CZRBaseModuleControlMths||{};!function(e,t,i){t.extend(CZRBaseModuleControlMths,{registerModulesOnInit:function(n){var o=this,s=[];i.each(o.getSavedModules(),function(r,a){if(!n.czr_Item.has(r.sektion_id))return e.errorLog("Warning Module "+r.id+" is orphan : it has no sektion to be embedded to. It Must be removed."),void s.push(r);var l=n.czr_Item(r.sektion_id);if(i.isUndefined(l))throw new Error("sektion instance missing. Impossible to instantiate module : "+r.id);t.extend(r,{sektion:l}),o.updateModulesCollection({module:r})}),o.moduleCollectionReady.then(function(){i.isEmpty(s)||o.moduleCollectionReact(o.czr_moduleCollection(),[],{orphans_module_removal:s})})},updateModulesCollection:function(e){var n=this.czr_moduleCollection(),o=t.extend(!0,[],n);if(i.has(e,"collection"))this.czr_moduleCollection.set(e.collection,e.data||{});else{if(!i.has(e,"module"))throw new Error("updateModulesCollection, no module provided "+this.id+". Aborting");var s=this.prepareModuleForAPI(i.clone(e.module));i.findWhere(o,{id:s.id})?i.each(n,function(e,t){e.id==s.id&&(o[t]=s)}):o.push(s);var r={};i.has(e,"data")&&(r=t.extend(!0,{},e.data),t.extend(r,{module:s})),this.czr_moduleCollection.set(o,r)}},moduleCollectionReact:function(n,o,s){var r=i.size(n)>i.size(o),a=i.size(o)>i.size(n);i.size(o),i.size(n);if(is_collection_sorted=!1,a){var l=i.filter(o,function(e){return i.isUndefined(i.findWhere(n,{id:e.id}))});l=l[0],this.czr_Module.remove(l.id)}i.isObject(s)&&i.has(s,"module")&&(s.module_id=s.module.id,s.module=this.prepareModuleForDB(t.extend(!0,{},s.module))),!this.isMultiModuleControl()&&r||e(this.id).set(this.filterModuleCollectionBeforeAjax(n),s)},filterModuleCollectionBeforeAjax:function(e){var n,o=this,s=t.extend(!0,[],e);if(i.each(e,function(e,i){var n=t.extend(!0,{},e);s[i]=o.prepareModuleForDB(n)}),o.isMultiModuleControl())return s;if(i.size(e)>1)throw new Error("There should not be several modules in the collection of control : "+o.id);if(!i.isArray(e)||i.isEmpty(e)||!i.has(e[0],"items"))throw new Error("The setting value could not be populated in control : "+o.id);var r=e[0].id;if(!o.czr_Module.has(r))throw new Error("The single module control ("+o.id+") has no module registered with the id "+r);var a=o.czr_Module(r);if(!i.isArray(a().items))throw new Error("The module "+r+" should be an array in control : "+o.id);return n=a.isMultiItem()?a().items:a().items[0]||[],a.hasModOpt()?i.union([a().modOpt],n):n},prepareModuleForDB:function(e){if(!i.isObject(e))throw new Error("MultiModule Control::prepareModuleForDB : a module must be an object. Aborting.");var t=this,n={};return i.each(t.getDefaultModuleDBModel(),function(o,s){if(!i.has(e,s))throw new Error("MultiModule Control::prepareModuleForDB : a module is missing the property : "+s+" . Aborting.");var r=e[s];switch(s){case"items":if(!i.isArray(r))throw new Error("prepareModuleForDB : a module item list must be an array");n[s]=r;break;case"id":if(!i.isString(r)||i.isEmpty(r))throw new Error("prepareModuleForDB : a module id must a string not empty");n[s]=r;break;case"module_type":if(!i.isString(r)||i.isEmpty(r))throw new Error("prepareModuleForDB : a module type must a string not empty");n[s]=r;break;case"column_id":if(!i.isString(r)||i.isEmpty(r))throw new Error("prepareModuleForDB : a module column id must a string not empty");n[s]=r;break;case"sektion_id":if(!i.isObject(e.sektion)||!i.has(e.sektion,"id"))throw new Error("prepareModuleForDB : a module sektion must be an object with an id.");n[s]=e.sektion.id;break;case"dirty":if(t.czr_Module.has(e.id)?n[s]=t.czr_Module(e.id).isDirty():n[s]=r,!i.isBoolean(n[s]))throw new Error("prepareModuleForDB : a module dirty state must be a boolean.")}}),n}})}(wp.customize,jQuery,_);var CZRMultiModuleControlMths=CZRMultiModuleControlMths||{};!function(e,t,i){t.extend(CZRMultiModuleControlMths,{initialize:function(t,i){var n=this;e.consoleLog("IN MULTI MODULE INITIALIZE ? ",i),e(t).callbacks.add(function(){return n.syncColumn.apply(n,arguments)}),e.CZRBaseModuleControl.prototype.initialize.call(n,t,i)},ready:function(){e.consoleLog("MODULE-COLLECTION CONTROL READY",this.id),e.CZRBaseModuleControl.prototype.ready.apply(this,arguments)},syncColumn:function(n,o,s){if(e.consoleLog("IN SYNC COLUMN",n,o,s),(i.isUndefined(s)||!s.silent)&&(e.consoleLog("IN SYNXXX",e.control("hu_theme_options[module-collection]").syncSektionModule()(),this.syncSektionModule()(),this.id),!i.has(s,"orphans_module_removal"))){var r=e.control(this.id),a=i.filter(n,function(e,t){return!i.findWhere(o,{id:e.id})});i.isEmpty(a)||(e.consoleLog("ADDED MODULE?",a),i.each(a,function(e){r.syncSektionModule().czr_Column(e.column_id).updateColumnModuleCollection({module:e})}));var l=i.filter(o,function(e,t){return!i.findWhere(n,{id:e.id})});i.isEmpty(l)||i.each(l,function(e){r.syncSektionModule().czr_Column(e.column_id).removeModuleFromColumnCollection(e)}),i.size(o)==i.size(n)&&i.has(s,"module")&&i.has(s,"source_column")&&i.has(s,"target_column")&&t.when(r.syncSektionModule().moveModuleFromTo(s.module,s.source_column,s.target_column)).done(function(){r.syncSektionModule().control.trigger("module-moved",{module:s.module,source_column:s.source_column,target_column:s.target_column})}),r.trigger("columns-synchronized",n)}},removeModule:function(e){this.czr_Module.has(e.id)&&"resolved"==this.czr_Module(e.id).embedded.state()&&this.czr_Module(e.id).container.remove(),this.removeModuleFromCollection(e)},removeModuleFromCollection:function(e){var n=this.czr_moduleCollection(),o=t.extend(!0,[],n);o=i.filter(o,function(t){return t.id!=e.id}),this.czr_moduleCollection.set(o)}})}(wp.customize,jQuery,_);CZRMultiModuleControlMths=CZRMultiModuleControlMths||{};!function(e,t,i){t.extend(CZRMultiModuleControlMths,{getMultiModuleExtender:function(n){return t.extend(this.CZRModuleExtended,{initialize:function(i,o){var s=this;n.prototype.initialize.call(s,i,o),e.consoleLog("MODULE INSTANTIATED : ",s.id),t.extend(s,{singleModuleWrapper:"czr-single-module-wrapper",sektionModuleTitle:"czr-module-sektion-title-part",ruModuleEl:"czr-ru-module-sektion-content"}),s.czr_ModuleState=new e.Value(!1),s.isReady.done(function(){s.setupModuleView()}),s.moduleTitleEmbedded=t.Deferred(),s.modColumn=new e.Value,s.modColumn.set(o.column_id),s.modColumn.bind(function(i,n){e.consoleLog("MODULE "+s.id+" HAS BEEN MOVED TO COLUMN",i,s());var o=s(),r=t.extend(!0,{},o);r.column_id=i,s.set(r,{target_column:i,source_column:n})})},ready:function(o){var s=this;e.consoleLog("MODULE READY IN EXTENDED MODULE CLASS : ",s.id),t.when(s.renderModuleWrapper(o)).done(function(e){if(i.isUndefined(e)||!1===e.length)throw new Error("Module container has not been embedded for module :"+s.id);s.container=e,s.embedded.resolve()}),n.prototype.ready.call(s)}}),this.CZRModuleExtended},CZRModuleExtended:{renderModuleWrapper:function(e){var i=this;if("resolved"==i.embedded.state())return i.container;if(0===t("#tmpl-"+i.singleModuleWrapper).length)throw new Error("No template for module "+i.id+". The template script id should be : #tmpl-"+i.singleModuleWrapper);var n=wp.template(i.singleModuleWrapper),o={id:i.id,type:i.module_type},s=t(n(o));return e?t.when(t(".czr-module-collection-wrapper",i._getColumn().container).find(".czr-module-candidate").after(s)).done(function(){t(".czr-module-collection-wrapper",i._getColumn().container).find(".czr-module-candidate").remove()}):t(".czr-module-collection-wrapper",i._getColumn().container).append(s),s},setupModuleView:function(){var t=this;t.view_event_map=[{trigger:"click keydown",selector:[".czr-remove-mod","."+t.control.css_attr.cancel_alert_btn].join(","),name:"toggle_remove_alert",actions:["toggleModuleRemoveAlert"]},{trigger:"click keydown",selector:"."+t.control.css_attr.remove_view_btn,name:"remove_module",actions:["removeModule"]},{trigger:"click keydown",selector:".czr-edit-mod",name:"edit_module",actions:["setModuleViewVisibility","sendEditModule"]},{trigger:"click keydown",selector:".czr-module-back",name:"back_to_column",actions:["setModuleViewVisibility"]},{trigger:"mouseenter",selector:".czr-mod-header",name:"hovering_module",actions:function(i){e.previewer.send("start_hovering_module",{id:t.id})}},{trigger:"mouseleave",selector:".czr-mod-header",name:"hovering_module",actions:function(i){e.previewer.send("stop_hovering_module",{id:t.id})}}],t.embedded.done(function(){t.czr_ModuleState.callbacks.add(function(){return t.setupModuleViewStateListeners.apply(t,arguments)}),e.CZR_Helpers.setupDOMListeners(t.view_event_map,{module:{id:t.id},dom_el:t.container},t)})},setModuleViewVisibility:function(i,n){this.czr_ModuleState(!this.czr_ModuleState()),e.czrModulePanelState.set(!1),e.czrSekSettingsPanelState.set(!1),this.control.syncSektionModule().closeAllOtherSektions(t(i.dom_event.currentTarget,i.dom_el))},sendEditModule:function(t){e.previewer.send("edit_module",{id:this.id})},setupModuleViewStateListeners:function(i){var n=this;e.czr_isModuleExpanded=e.czr_isModuleExpanded||new e.Value,i?e.czr_isModuleExpanded(n):e.czr_isModuleExpanded(!1),t.when(n.toggleModuleViewExpansion(i)).done(function(){i?(n.renderModuleTitle(),n.populateSavedItemCollection()):n.czr_Item.each(function(e){e.viewState.set("closed"),e._destroyView(0),n.czr_Item.remove(e.id)})})},renderModuleTitle:function(){var e=this;if("resolved"!=e.moduleTitleEmbedded.state()){if(0===t("#tmpl-"+e.sektionModuleTitle).length)throw new Error("No sektion title Module Part template for module "+e.id+". The template script id should be : #tmpl-"+e.sektionModuleTitle);t.when(t(e.container).find(".czr-mod-content").prepend(t(wp.template(e.sektionModuleTitle)({id:e.id})))).done(function(){e.moduleTitleEmbedded.resolve()})}},toggleModuleViewExpansion:function(e,i){var n=this;t(".czr-mod-content",n.container).slideToggle({duration:i||200,done:function(){var t=n.container.closest(".wp-full-overlay"),i=n.container.find(".czr-module-back"),o=n.container.find(".czr-module-title");n.container.toggleClass("open",e),t.toggleClass("czr-module-open",e),o.attr("tabindex",e?"-1":"0"),i.attr("tabindex",e?"0":"-1"),e?i.focus():o.focus(),e&&n._adjustScrollExpandedBlock(n.container)}})},toggleModuleRemoveAlert:function(e){var n=this,o=this.control,s=t("."+n.control.css_attr.remove_alert_wrapper,n.container).first(),r=(e.dom_event,o.syncSektionModule().czr_Column(n.column_id).container);if(i.has(n,"preItem")&&o.syncSektionModule().preItemExpanded.set(!1),t("."+n.control.css_attr.remove_alert_wrapper,r).not(s).each(function(){t(this).hasClass("open")&&t(this).slideToggle({duration:200,done:function(){t(this).toggleClass("open",!1),t(this).siblings().find("."+n.control.css_attr.display_alert_btn).toggleClass("active",!1)}})}),!wp.template(n.AlertPart)||!n.container)throw new Error("No removal alert template available for module :"+n.id);s.html(wp.template(n.AlertPart)({title:n().title||n.id})),s.slideToggle({duration:200,done:function(){var i=!t(this).hasClass("open")&&t(this).is(":visible");t(this).toggleClass("open",i),t(e.dom_el).find("."+n.control.css_attr.display_alert_btn).toggleClass("active",i),i&&n._adjustScrollExpandedBlock(n.container)}})},removeModule:function(e){this.control.removeModule(e.module)},_getColumn:function(){return this.control.syncSektionModule().czr_Column(this.modColumn())},_getSektion:function(){}}})}(wp.customize,jQuery,_),function(e,t,i){t.extend(CZRBaseControlMths,e.Events),t.extend(e.Control.prototype,e.Events),t.extend(CZRModuleMths,e.Events),t.extend(CZRItemMths,e.Events),t.extend(CZRModOptMths,e.Events),t.extend(CZRBaseControlMths,e.CZR_Helpers),t.extend(CZRInputMths,e.CZR_Helpers),t.extend(CZRModuleMths,e.CZR_Helpers),e.CZRInput=e.Value.extend(CZRInputMths),e.czrInputMap=e.czrInputMap||{},t.extend(e.czrInputMap,{text:"",textarea:"",check:"setupIcheck",select:"setupSelect",number:"setupStepper",upload:"setupImageUploader",color:"setupColorPicker",content_picker:"setupContentPicker",text_editor:"setupTextEditor",password:"",range_slider:"setupRangeSlider",hidden:""}),e.CZRItem=e.Value.extend(CZRItemMths),e.CZRModOpt=e.Value.extend(CZRModOptMths),e.CZRModule=e.Value.extend(CZRModuleMths),e.CZRDynModule=e.CZRModule.extend(CZRDynModuleMths),i.isUndefined(window.CZRColumnMths)||(e.CZRColumn=e.Value.extend(CZRColumnMths)),e.CZRBaseControl=e.Control.extend(CZRBaseControlMths),e.CZRBaseModuleControl=e.CZRBaseControl.extend(CZRBaseModuleControlMths),e.CZRMultiModuleControl=e.CZRBaseModuleControl.extend(CZRMultiModuleControlMths),t.extend(e.controlConstructor,{czr_module:e.CZRBaseModuleControl,czr_multi_module:e.CZRMultiModuleControl})}(wp.customize,jQuery,_),function(e,t,i){e.bind("ready",function(){if(serverControlParams.isSkopOn){var n=e.previewer.query;e.previewer.query=function(o){if(!serverControlParams.isSkopOn)return n.apply(this);if(!i.has(e,"czr_skope"))return e.consoleLog("QUERY : SKOPE IS NOT FULLY READY YEY. FALLING BACK ON CORE QUERY"),n.apply(this);if("pending"==e.czr_initialSkopeCollectionPopulated.state())return e.consoleLog("QUERY : INITIAL SKOPE COLLECTION NOT POPULATED YET. FALLING BACK ON CORE QUERY"),n.apply(this);if("pending"==e.czr_isPreviewerSkopeAware.state()&&e.czr_isPreviewerSkopeAware.resolve(),!i.isObject(o)&&"resolved"==e.czr_initialSkopeCollectionPopulated.state()&&"resolved"==e.czr_initialSkopeCollectionPopulated.state())return n.apply(this);!i.isUndefined(o.skope_id)&&i.isString(o.skope_id)||(o.skope_id=e.czr_activeSkopeId()||e.czr_skopeBase.getGlobalSkopeId());var s,r={},a={};if(o=t.extend({skope_id:null,action:null,the_dirties:{},dyn_type:null,opt_name:null},o),!i.isObject(o.the_dirties))throw e.consoleLog("QUERY PARAMS : ",o),new Error("QUERY DIRTIES MUST BE AN OBJECT. Requested action : "+o.action);if("pending"!=e.czr_isPreviewerSkopeAware.state()&&i.isNull(o.skope_id))throw e.consoleLog("QUERY PARAMS : ",o),new Error("OVERRIDEN QUERY : NO SKOPE ID. FALLING BACK ON CORE QUERY. Requested action : "+o.action);if(!i.contains([null,"refresh","save","reset","changeset_update"],o.action))throw e.consoleLog("QUERY PARAMS : ",o),new Error("A REQUESTED QUERY HAS NO AUTHORIZED ACTION. Requested action : "+o.action);switch(i.isNull(o.the_dirties)||i.isEmpty(o.the_dirties)?(r=e.dirtyValues({unsaved:o.excludeCustomizedSaved||!1}),a=function(){if("pending"==e.czr_initialSkopeCollectionPopulated.state())return{};var t={};return i.each(e.czr_currentSkopesCollection(),function(i){"global"!=i.skope&&(t[i.id]=e.czr_skopeBase.getSkopeDirties(i.id))}),t}()):"global"==e.czr_skopeBase.getActiveSkopeName()?r=o.the_dirties:a[e.czr_activeSkopeId()]=o.the_dirties,o.action){case null:case"refresh":break;case"changeset_update":if(i.isUndefined(o.opt_name))throw new Error("Missing opt_name param in the changeset_update query for skope : "+o.skope_id);break;case"save":if(i.isNull(o.dyn_type)&&(o.dyn_type=e.czr_skope(o.skope_id)().dyn_type),i.isNull(o.dyn_type)||i.isUndefined(o.dyn_type))throw new Error("QUERY : A SAVE QUERY MUST HAVE A VALID DYN TYPE."+o.skope_id);break;case"reset":if(i.isNull(o.dyn_type)&&(o.dyn_type=e.czr_skope(o.skope_id)().dyn_type),i.isNull(o.dyn_type)||i.isUndefined(o.dyn_type))throw new Error("QUERY : A RESET QUERY MUST HAVE A VALID DYN TYPE."+o.skope_id)}var l={};return i.each(e.czr_currentSkopesCollection(),function(e){l[e.skope]={id:e.id,opt_name:e.opt_name}}),s={wp_customize:"on",customized:"{}"==JSON.stringify(r)?'{"__not_customized__"}':JSON.stringify(r),skopeCustomized:JSON.stringify(a),nonce:this.nonce.preview,skope:e.czr_skope(o.skope_id)().skope,level_id:e.czr_skope(o.skope_id)().level,skope_id:o.skope_id,dyn_type:o.dyn_type,opt_name:i.isNull(o.opt_name)?e.czr_skope(o.skope_id)().opt_name:o.opt_name,obj_id:e.czr_skope(o.skope_id)().obj_id,current_skopes:JSON.stringify(l)||{},channel:this.channel(),revisionIndex:e._latestRevision},s=e.czr_isChangeSetOn()?t.extend(s,{customize_theme:e.settings.theme.stylesheet,customize_changeset_uuid:e.settings.changeset.uuid}):t.extend(s,{theme:e.settings.theme.stylesheet})}}})}(wp.customize,jQuery,_),function(e,t,i){e.bind("czr-skope-started",function(){var t,n=e.previewer.save;e.previewer.save=function(s){return e.requestChangesetUpdate({},{autosave:!0}).always(function(r){t=r.response,n.apply(e.previewer,s).done(function(){e.state.has("selectedChangesetStatus")&&"publish"!=e.state("selectedChangesetStatus")()||e.previewer.refresh({waitSkopeSynced:!0}).fail(function(t){e.consoleLog("Refresh failed after a save action",t)}).done(function(e){t=i.extend({changeset_status:"publish"},t||{}),o(e.skopesServerData)})})}).fail(function(i){t=i.response,e.consoleLog("apiRequestChangesetUpdate failed => ",t)}).done(function(t){var n={};i.each(e.czr_currentSkopesCollection(),function(t){i.each(e.czr_skope(t.id).dirtyValues(),function(e,t){n[t]=e})}),i.isEmpty(n)&&(e.state("changesetStatus").set("auto-draft"==e.state("changesetStatus")()?"":e.state("changesetStatus")()),e.state("saved")(!0))})};var o=function(t){var n={};t=i.extend({czr_skopes:[],isChangesetDirty:!1},t),i.each(e.czr_skopeCollection(),function(t){n[t.opt_name]=e.czr_skopeBase.getSkopeDirties(t.id),e.czr_skope(t.id).dirtyValues({}),e.czr_skope(t.id).changesetValues({})});var o=[],s=t.czr_skopes;i.each(n,function(t,n){i.each(t,function(t,r){if(!i.isUndefined(i.findWhere(s,{opt_name:n}))&&e.czr_skopeBase.isSettingSkopeEligible(r)){var a=i.findWhere(s,{opt_name:n}).db,l=i.findWhere(s,{opt_name:n}).skope,c=e.CZR_Helpers.build_setId(r),d=e.CZR_Helpers.getOptionName(r),u=a[c];i.isUndefined(u)&&"global"==l&&t===serverControlParams.defaultOptionsValues[d]||!i.isUndefined(u)&&i.isEqual(u,t)||o.push({opt_name:n,setId:c,server_val:u,api_val:t})}})}),i.isEmpty(o)?e.consoleLog("ALL RIGHT, SERVER AND API ARE SYNCHRONIZED AFTER SAVE"):e.consoleLog("SOME SETTINGS HAVE NOT BEEN PROPERLY SAVED : ",o),e.czr_skopeBase.maybeSynchronizeGlobalSkope(),e.czr_skopeBase.updateCtrlSkpNot(e.CZR_Helpers.getSectionControlIds())}})}(wp.customize,jQuery,_),function(e,t,i){if(serverControlParams.isSkopOn){e.Element.synchronizer.checkbox.update=function(e){this.element.prop("checked",e),this.element.iCheck("update")};var n=e.Element.synchronizer.val.update;e.Element.synchronizer.val.update=function(t){var i=this,o=function(){i.element.is("select")?i.element.val(t).trigger("change"):i.element.hasClass("wp-color-picker")?i.element.val(t).trigger("change"):i.element.val(t)};if(serverControlParams.isSkopOn){if("resolved"!=e.czr_skopeReady.state())return n.call(i,t);e.czr_skopeReady.then(function(){o()})}else o()},e.Element.synchronizer.val.refresh=function(){return this.element.is("select")&&i.isNull(this.element.val())?i.isArray(this())?[]:i.isObject(this())?{}:"":this.element.val()}}}(wp.customize,jQuery,_),function(e,t,i){var n=e.Previewer.prototype.refresh,o=function(o){o=i.extend({waitSkopeSynced:!0,the_dirties:{}},o);var s=this,r=t.Deferred();if(!serverControlParams.isSkopOn)return r.resolve().promise();if(!i.has(e,"czr_activeSkopeId")||i.isUndefined(e.czr_activeSkopeId()))return e.consoleLog("The api.czr_activeSkopeId() is undefined in the api.previewer._new_refresh() method."),n.apply(s),r.resolve().promise();s.send("loading-initiated"),s.abort();var a=e.czr_getSkopeQueryParams({skope_id:e.czr_activeSkopeId(),action:"refresh",the_dirties:o.the_dirties||{}});return s.loading=new e.PreviewFrame({url:s.url(),previewUrl:s.previewUrl(),query:s.query(a)||{},container:s.container,signature:"WP_CUSTOMIZER_SIGNATURE"}),s.settingsModifiedWhileLoading={},onSettingChange=function(e){s.settingsModifiedWhileLoading[e.id]=!0},e.bind("change",onSettingChange),s.loading.always(function(){e.unbind("change",onSettingChange)}),e.czr_isChangeSetOn()||(s._previousPreview=s._previousPreview||s.preview),s.loading.done(function(t){var i,n=this;s.preview=n,s.targetWindow(n.targetWindow()),s.channel(n.channel()),i=function(t){n.unbind("synced",i),n.unbind("czr-skopes-synced",i),s._previousPreview?s._previousPreview.destroy():s.preview&&s.preview.destroy(),s._previousPreview=s.preview,s.deferred.active.resolve(),delete s.loading,e.trigger("pre_refresh_done",{previewer:s,skopesServerData:t||{}}),r.resolve({previewer:s,skopesServerData:t||{}})},e.czr_isChangeSetOn()||s.send("sync",{scroll:s.scroll,settings:e.get()}),o.waitSkopeSynced?n.bind("czr-skopes-synced",i):n.bind("synced",i),s.trigger("ready",t)}),s.loading.fail(function(t,i){e.consoleLog("LOADING FAILED : ",t,i,arguments),s.send("loading-failed"),e.czr_isChangeSetOn()||"redirect"===t&&i&&s.previewUrl(i),"logged out"===t&&(s.preview&&(s.preview.destroy(),delete s.preview),s.login().done(s.refresh)),"cheatin"===t&&s.cheatin(),r.reject(t)}),r.promise()};e.bind("czr-skope-started",function(){czr_override_refresh_for_skope(),e.Previewer.prototype.refresh=o}),e.czr_getSkopeQueryParams=function(n){if(!e.czr_isChangeSetOn())return n;switch((n=i.isObject(n)?n:{}).action||"refresh"){case"refresh":n=t.extend(n,{excludeCustomizedSaved:!0})}return n},czr_override_refresh_for_skope=function(){serverControlParams.isSkopOn&&(e.previewer.refresh=function(n){var s=t.Deferred(),r=function(t){var i,n=function(){return 0===e.state("processing").get()},r=function(){o.call(e.previewer,t).done(function(e){s.resolve(e)})};n()?r():(i=function(){n()&&(r(),e.state("processing").unbind(i))},e.state("processing").bind(i))};return(r=i.debounce(r,e.previewer.refreshBuffer))(n),s.promise()})}}(wp.customize,jQuery,_),function(e,t,i){serverControlParams.isSkopOn&&(e.dirtyValues=function(t){return e.czr_skopeBase.getSkopeDirties(e.czr_skopeBase.getGlobalSkopeId(),t)})}(wp.customize,jQuery,_),function(e,t,i){if(serverControlParams.isSkopOn&&e.czr_isChangeSetOn()){var n=e.requestChangesetUpdate;e.requestChangesetUpdate=function(o,s){var r=t.Deferred(),a=[],l=[],c=o||{},d=[],u=[],p=t.Deferred();if(s=s||{},!serverControlParams.isSkopOn)return n();(0===e._lastSavedRevision||i.isEmpty(e.state("changesetStatus")()))&&(c=i.extend(c,{blogname:{dummy_change:"dummy_change"}})),i.each(e.czr_currentSkopesCollection(),function(e){"global"!=e.skope&&a.push(e.id)});var h=function(n){if(i.isUndefined(a[n+1])&&l.length==a.length){if(i.isEmpty(d))p.resolve(u);else{p.reject((o=[],i.each(d,function(t){o.push(e.czr_skopeBase.buildServerResponse(t))}),t.trim(o.join(" | "))))}var o;return!0}},f=function(t){return(i.isUndefined(t)||0==t)&&e.state("processing").set(1),t=t||0,i.isUndefined(a[t])?(e.consoleLog("Undefined Skope in changeset recursive call ",t,a,a[t]),p.resolve(u).promise()):(e._requestSkopeChangetsetUpdate(o,a[t],s).always(function(){l.push(t)}).fail(function(i){d.push(i),e.consoleLog("CHANGESET UPDATE RECURSIVE FAIL FOR SKOPE : ",a[t]),h(t)||f(t+1)}).done(function(e){u.push(e),h(t)||f(t+1)}),p.promise())},m=e._lastSavedRevision;return n(c,s).fail(function(t){e.consoleLog("WP requestChangesetUpdateFail",t,e.czr_skopeBase.buildServerResponse(t)),e._lastSavedRevision=Math.max(e._latestRevision,e._lastSavedRevision),e.state("processing").set(0),r.reject(t),t=e.czr_skopeBase.buildServerResponse(t),i.isUndefined(e.notifications)?e.czr_serverNotification({status:"error",message:t}):(e.notifications.add(new wp.customize.Notification("changeset_update_failed",{type:"error",message:t,dismissible:!0})),i.delay(function(){if(e.notifications.has("changeset_update_failed")){var t=e.notifications("changeset_update_failed");t.parent?t.parent.remove(t.code):t.container.remove()}},5e3))}).done(function(t){"pending"==e.czr_initialSkopeCollectionPopulated.state()&&r.resolve(t),e._lastSavedRevision=m,f().always(function(){e._lastSavedRevision=Math.max(e._latestRevision,e._lastSavedRevision);var t={};i.each(e.czr_currentSkopesCollection(),function(n){i.each(e.czr_skope(n.id).dirtyValues(),function(e,i){t[i]=e})}),i.isEmpty(t)&&i.isEqual(c,{blogname:{dummy_change:"dummy_change"}})&&(e.state("changesetStatus").set("auto-draft"==e.state("changesetStatus")()?"":e.state("changesetStatus")()),e.state("saved")(!0)),e.state("processing").set(0)}).fail(function(t){r.reject(t),e.consoleLog("CHANGESET UPDATE RECURSIVE PUSH FAIL",t,u),e.trigger("changeset-error",t),e.czr_serverNotification({message:t,status:"error"})}).done(function(){r.resolve(t)})}),r.promise()},e._requestSkopeChangetsetUpdate=function(n,o,s){if(i.isUndefined(o)||!e.czr_skope.has(o))throw new Error("In api._requestSkopeChangetsetUpdate() : a valid and registered skope_id must be provided");var r,a,l=new t.Deferred,c={};if(o=o||e.czr_activeSkopeId(),a=i.extend({title:null,date:null,autosave:!1,force:!1},s),n&&i.extend(c,n),i.each(e.czr_skopeBase.getSkopeDirties(o),function(e,t){n&&null===n[t]||(c[t]=i.extend({},c[t]||{},{value:e}))}),!a.force&&i.isEmpty(c)&&null===a.title&&null===a.date)return l.resolve({}),l.promise();if(a.status)return l.reject({code:"illegal_status_in_changeset_update"}).promise();if(a.date&&a.autosave)return l.reject({code:"illegal_autosave_with_date_gmt"}).promise();if(e._latestRevision<=e._lastSavedRevision)return l.resolve({}),l.promise();e.trigger("skope-changeset-save",c);var d={skope_id:o,action:"changeset_update",opt_name:e.czr_skope(o).opt_name};return delete(r=e.previewer.query(i.extend(d,{excludeCustomizedSaved:!0}))).customized,i.extend(r,{nonce:e.settings.nonce.save,customize_changeset_data:JSON.stringify(c)}),wp.ajax.post("customize_skope_changeset_save",r).done(function(e){l.resolve(e)}).fail(function(t){e.consoleLog("SKOPE CHANGESET FAIL FOR SKOPE "+t.skope_id,t),l.reject(t)}).always(function(t){!i.isUndefined(t)&&t.setting_validities&&e._handleSettingValidities({settingValidities:t.setting_validities,focusInvalidControl:!0})}),l.promise()}}}(wp.customize,jQuery,_),function(e,t,i){e.bind("ready",function(){if(serverControlParams.isSkopOn){e.czr_isLoadingSkope=new e.Value(!1),e.czr_isLoadingSkope.bind(function(e){n(e)}),e.czr_skopeBase=new e.CZR_skopeBase,e.czr_skopeReset=new e.CZR_skopeReset,e.trigger("czr-skope-started");var t=function(){e.czr_skopeBase.toggleTopNote(!0,{title:serverControlParams.i18n.skope["There was a problem when trying to load the customizer."],message:[serverControlParams.i18n.skope["Please refer to"],'<a href="http://docs.presscustomizr.com/article/285-there-was-a-problem-when-trying-to-load-the-customizer" target="_blank">',serverControlParams.i18n.skope["this documentation page"],"</a>",serverControlParams.i18n.skope["to understand how to fix the problem."]].join(" "),selfCloseAfter:4e4})};e.czr_skopeReady.done(function(){e.trigger("czr-skope-ready")}).fail(function(i){e.errorLog("Skope could not be instantiated : "+i),t(),serverControlParams.isSkopOn=!1}).always(function(){e.czr_isLoadingSkope(!1)}),"rejected"!=e.czr_skopeReady.state()&&setTimeout(function(){"pending"==e.czr_skopeReady.state()&&(t(),e.czr_isLoadingSkope(!1))},4e4)}serverControlParams.isChangeSetOn&&(e.settings.timeouts.changesetAutoSave=1e4)}),i.has(e,"_latestRevision")||(e._latestRevision=0,e._latestSettingRevisions={},e.bind("change",function(t){e._latestRevision+=1,e._latestSettingRevisions[t.id]=e._latestRevision}),e.bind("ready",function(){e.bind("add",function(t){t._dirty&&(e._latestRevision+=1,e._latestSettingRevisions[t.id]=e._latestRevision)})}));var n=function(n){n=!!i.isUndefined(n)||n;var o,s=function(){i.delay(function(){t.when(t("body").removeClass("czr-skope-pane-open")).done(function(){i.delay(function(){t.when(t("body").removeClass("czr-skop-loading")).done(function(){!1!==t("#czr-skope-pane").length&&setTimeout(function(){t("#czr-skope-pane").remove()},400)})},200)})},50)};"pending"==e.czr_skopeReady.state()&&n&&(t("body").addClass("czr-skop-loading"),function(){var i=t.Deferred();try{_tmpl=wp.template("czr-skope-pane")({is_skope_loading:!0})}catch(t){e.errorLog("In toggleSkopeLoadPane : error when parsing the the reset skope template : "+t),i.resolve(!1)}return t.when(t("#customize-preview").after(t(_tmpl))).always(function(){i.resolve(t("#czr-skope-pane"))}),i.promise()}().done(function(e){o=e}).then(function(){o.length&&i.delay(function(){var e=t("#customize-preview").height();o.css("line-height",e+"px").css("height",e+"px"),t("body").addClass("czr-skope-pane-open")},50)})),e.czr_skopeReady.done(function(){s()}),n||s()}}(wp.customize,jQuery,_);var CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{globalSettingVal:{},initialize:function(){var n=this;n.skope_colors={global:"rgb(255, 255, 255)",special_group:"rgba(173, 213, 247, 0.55)",group:"rgba(120, 136, 158, 0.12)",local:"rgba(187, 211, 247, 0.28)"},e.czr_isPreviewerSkopeAware=t.Deferred(),e.czr_initialSkopeCollectionPopulated=t.Deferred(),n.skopeWrapperEmbedded=t.Deferred(),e.czr_skope=new e.Values,e.czr_skopeCollection=new e.Value([]),e.czr_currentSkopesCollection=new e.Value([]),e.czr_activeSkopeId=new e.Value,e.czr_dirtyness=new e.Value(!1),e.czr_isResettingSkope=new e.Value(!1),e.state.create("switching-skope")(!1),e.czr_dirtyness.callbacks.add(function(){return n.apiDirtynessReact.apply(n,arguments)}),e.czr_isLoadingSkope(!0),n.bindAPISettings(),e.czr_skopeReady.then(function(){"pending"==n.skopeWrapperEmbedded.state()&&t.when(n.embedSkopeWrapper()).done(function(){n.skopeWrapperEmbedded.resolve()})}),e.previewer.bind("czr-skopes-synced",function(t){if(serverControlParams.isSkopOn&&"rejected"!=e.czr_skopeReady.state()){var o=e.czr_currentSkopesCollection();if(!i.has(t,"czr_skopes"))return"resolved"!=e.czr_skopeReady.state()&&e.czr_skopeReady.reject(),void e.errorLog("On 'czr-skopes-synced' : missing skopes in the server data");try{e.czr_skopeBase.updateSkopeCollection(t.czr_skopes,this.channel())}catch(t){return void e.czr_skopeReady.reject(t)}var s=function(){n._writeCurrentSkopeTitle(),e.czr_bottomInfosVisible()?n.renderBottomInfosTmpl():e.czr_bottomInfosVisible(!0)};e.czr_initialSkopeCollectionPopulated.then(function(){var r=i.isUndefined(i.findWhere(e.czr_currentSkopesCollection(),{id:e.czr_activeSkopeId()}));e.czr_skopeBase.reactWhenSkopeSyncedDone(t).done(function(){if(r)try{e.czr_activeSkopeId(n.getActiveSkopeId()).done(function(){"resolved"!=e.czr_skopeReady.state()&&e.czr_skopeReady.resolve(n.getActiveSkopeId()),s()}).fail(function(){throw new Error("Error when trying to set the active skope after skope synced.")})}catch(t){e.errorLog("In reactWhenSkopeSyncedDone => api.czr_activeSkopeId() : "+t)}else if(!i.isEmpty(o)){var a=i.findWhere(o,{skope:"local"}).opt_name;i.findWhere(t.czr_skopes,{skope:"local"}).opt_name!==a&&"resolved"==e.czr_skopeReady.state()&&s()}})})}}),e.czr_currentSkopesCollection.bind(function(e,t){return n.currentSkopesCollectionReact(e,t)},{deferred:!0}),e.czr_initialSkopeCollectionPopulated.done(function(){e.czr_activeSkopeId.bind(function(t,o){return i.has(e,"czr_ModOptVisible")&&e.czr_ModOptVisible(!1),n.activeSkopeReact(t,o).then(function(i){e.trigger("skope-switched-done",{current_skope_id:t,previous_skope_id:o,updated_setting_ids:i||[]})})},{deferred:!0}),e.czr_activeSectionId.callbacks.add(function(){return n.activeSectionReact.apply(n,arguments)}),e.czr_activePanelId.callbacks.add(function(){return n.activePanelReact.apply(n,arguments)})}),e.bind("skope-switched-done",function(e){return e=i.extend({current_skope_id:"",previous_skope_id:"",updated_setting_ids:[]},e),n.skopeSwitchedDoneReact(e)}),e.czr_serverNotification=new e.Value({status:"success",message:"",expanded:!0}),e.czr_serverNotification.bind(function(e,t){n.toggleServerNotice(e)}),n._setupPreviewNotificationsBlocks(),n.scopeSwitcherEventMap=[{trigger:"click keydown",selector:".czr-dismiss-notification",name:"dismiss-notification",actions:function(){e.czr_serverNotification({expanded:!1})}},{trigger:"click keydown",selector:".czr-toggle-title-notice",name:"toggle-title-notice",actions:function(t){i.isUndefined(n.skopeTitleNoticeVisible)&&(n.skopeTitleNoticeVisible=new e.Value(!1),n.skopeTitleNoticeVisible.bind(function(e){t.dom_el.find(".czr-skope-title").toggleClass("notice-visible",e)})),n.skopeTitleNoticeVisible(!n.skopeTitleNoticeVisible())}}],n.skopeWrapperEmbedded.then(function(){e.CZR_Helpers.setupDOMListeners(n.scopeSwitcherEventMap,{dom_el:t(".czr-scope-switcher")},n)}),n.refreshedControls=["czr_cropped_image"],n.initWidgetSidebarSpecifics(),e.bind("czr-paint",function(t){e.czr_skopeReady.then(function(){n.wash(t).paint(t)})})},embedSkopeWrapper:function(){t("#customize-header-actions").append(t("<div/>",{class:"czr-scope-switcher",html:'<div class="czr-skopes-wrapper"></div>'})),t("body").addClass("czr-skop-on");var n=[{trigger:"click keydown",selector:".czr-skope-switch",name:"control_skope_switch",actions:function(n){var o=t(n.dom_event.currentTarget,n.dom_el).attr("data-skope-id");!i.isEmpty(o)&&e.czr_skope.has(o)&&e.czr_activeSkopeId(o)}}];e.CZR_Helpers.setupDOMListeners(n,{dom_el:t(".czr-scope-switcher")},this)},apiDirtynessReact:function(i){t("body").toggleClass("czr-api-dirty",i),e.state("saved")(!i)},setSaveButtonStates:function(){e.state.has("saving")||(e.state.create("saving"),e.state("saving").bind(function(e){t(document.body).toggleClass("saving",e)}));var i=t("#save"),n=t(".customize-controls-close"),o=e.state("saved"),s=e.state("saving"),r=e.state("activated"),a=e.state.has("changesetStatus")?e.state("changesetStatus")():"auto-draft";e.czr_dirtyness()||!o()?(i.val(e.l10n.save),n.find(".screen-reader-text").text(e.l10n.cancel)):(i.val(e.l10n.saved),n.find(".screen-reader-text").text(e.l10n.close));var l=!(s()||r()&&o()||"publish"===a);i.prop("disabled",!l)},skopeSwitchedDoneReact:function(n){var o=this,s=function(){e.czr_CrtlDependenciesReady.then(function(){if(!i.isUndefined(e.czr_activeSectionId())&&!i.isEmpty(e.czr_activeSectionId()))try{e.czr_ctrlDependencies.setServiDependencies(e.czr_activeSectionId(),null,!0)}catch(t){e.errorLog("On skope-switched-done : "+t)}}),o.updateCtrlSkpNot(e.CZR_Helpers.getSectionControlIds()),e.czr_skope.has(n.previous_skope_id)&&t("#customize-controls").removeClass(["czr-",e.czr_skope(n.previous_skope_id)().skope,"-skope-level"].join("")),e.czr_skope.has(n.current_skope_id)&&t("#customize-controls").addClass(["czr-",e.czr_skope(n.current_skope_id)().skope,"-skope-level"].join(""));e.czr_bottomInfosVisible()?o.renderBottomInfosTmpl():e.czr_bottomInfosVisible(!0),i.delay(function(){!function(){if(!i.isUndefined(e.czr_activeSectionId())&&!i.isEmpty(e.czr_activeSectionId())){var t=e.CZR_Helpers.getSectionControlIds(e.czr_activeSectionId());i.each(t,function(t){e.control.when(t,function(){var n=e.control(t);i.has(n,"czr_states")&&n.deferred.embedded.then(function(){n.czr_states("noticeVisible")(o.isCtrlNoticeVisible(t)),n.czr_states("resetVisible")(!1)})})})}}()},500)};e.czr_skopeReady.then(function(){s()})},_setupPreviewNotificationsBlocks:function(){var n=this;e.czr_topNoteVisible=new e.Value(!1),e.czr_skopeReady.then(function(){e.czr_topNoteVisible.bind(function(i){var o={};(o=t.extend({title:"",message:"",actions:"",selfCloseAfter:2e4},serverControlParams.topNoteParams)).actions=function(){var i=t.extend(e.previewer.query(),{nonce:e.previewer.nonce.save});wp.ajax.post("czr_dismiss_top_note",i).always(function(){}).fail(function(t){e.consoleLog("czr_dismiss_top_note failed",i,t)}).done(function(e){})},n.toggleTopNote(i,o)}),i.delay(function(){e.czr_topNoteVisible(!i.isEmpty(serverControlParams.isTopNoteOn)||1==serverControlParams.isTopNoteOn)},2e3)}),e.czr_bottomInfosVisible=new e.Value(!1),e.czr_skopeReady.then(function(){e.czr_bottomInfosVisible.bind(function(e){var i;return i=t.extend({title:"",message:"",actions:"",selfCloseAfter:2e4},{}),n.toggleBottomInfos(e,i)},{deferred:!0});var o=e.CZR_Helpers.build_setId("show-skope-infos");e.when(o,function(t){e.czr_bottomInfosVisible.validate=function(e){var i=t();return!!(0!==i&&"0"!==i&&!1!==i&&"off"!==i)&&e},t.bind(function(t){e.czr_bottomInfosVisible(0!==t&&"0"!==t&&!1!==t&&"off"!==t)})}),i.delay(function(){e.czr_bottomInfosVisible(!0)},2e3)})}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{toggleServerNotice:function(n){if(n=i.isObject(n)?n:{},"changeset_already_published"!=(n=i.extend({status:"success",expanded:!0,message:"",auto_collapse:!1},n)).message&&serverControlParams.isDevMode){this.serverNoticeEmbedded=this.serverNoticeEmbedded||t.Deferred();var o=this,s=function(){var e,s=t(".czr-server-notice",".czr-scope-switcher"),r=t(".wp-full-overlay-header");t(".wp-full-overlay-sidebar .wp-full-overlay-sidebar-content");o.skopeTitleNoticeVisible&&o.skopeTitleNoticeVisible(!1),n.expanded?(s.toggleClass("czr-server-error","error"==n.status),"error"==n.status?t(".czr-server-message",s).html(i.isEmpty(n.message)?"Server Problem.":n.message):t(".czr-server-message",s).html(i.isEmpty(n.message)?"Success.":n.message),e=t(".czr-server-notice",".czr-scope-switcher").outerHeight(),r.outerHeight()+e,setTimeout(function(){t.when(!0).done(function(){s.fadeIn({duration:200,complete:function(){t(this).css("height","auto")}})})},400)):(s.fadeOut({duration:200,complete:function(){}}),setTimeout(function(){},200))};"pending"==o.serverNoticeEmbedded.state()?t.when(void t(".czr-scope-switcher").prepend(t("<div/>",{class:"czr-server-notice",html:'<span class="czr-server-message"></span><span class="fas fa-times-circle czr-dismiss-notification"></span>'}))).done(function(){setTimeout(function(){o.serverNoticeEmbedded.resolve(),s()},200)}):s(),i.delay(function(){e.czr_serverNotification({expanded:!1})},"success"==n.status||!1!==n.auto_collapse?4e3:5e3)}},buildServerResponse:function(e){var t=!1;if(i.isObject(e)&&(!i.has(e,"responseJSON")||i.isUndefined(e.responseJSON.data)||i.isEmpty(e.responseJSON.data)?i.has(e,"statusText")&&!i.isEmpty(e.statusText)&&(t=e.statusText):t=e.responseJSON.data),i.isObject(e)&&!t)try{JSON.stringify(e)}catch(e){t="Server Error"}else t?"-1"===e&&(t="Identification issue detected, please refresh your page."):t="0"===e?"Not logged in.":e;return t}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{toggleTopNote:function(n,o){o=i.isObject(o)?o:{};var s=this,r=function(){var e=t.Deferred();return t("body").removeClass("czr-top-note-open"),s.welcomeNote.length?i.delay(function(){s.welcomeNote.remove(),e.resolve()},300):e.resolve(),e.promise()};o=t.extend({title:"",message:"",actions:"",selfCloseAfter:2e4},o),n?t.when(s.renderTopNoteTmpl(o)).done(function(n){s.welcomeNote=n,i.delay(function(){t("body").addClass("czr-top-note-open")},200),e.CZR_Helpers.setupDOMListeners([{trigger:"click keydown",selector:".czr-preview-note-close",actions:function(){r().done(function(){e.czr_topNoteVisible(!1),i.isFunction(o.actions)&&o.actions()})}}],{dom_el:s.welcomeNote},s)}):r().done(function(){e.czr_topNoteVisible(!1)}),i.delay(function(){e.czr_topNoteVisible(!1)},o.selfCloseAfter||2e4)},renderTopNoteTmpl:function(i){if(t("#czr-top-note").length)return t("#czr-top-note");var n="",o=i.title||"",s=i.message||"";try{n=wp.template("czr-top-note")({title:o})}catch(t){return e.errorLog("Error when parsing the the top note template : "+t),!1}return t("#customize-preview").after(t(n)),t(".czr-note-message","#czr-top-note").html(s),t("#czr-top-note")}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{bindAPISettings:function(t){var n=this,o=function(t,o,s){var r,a=this.id;serverControlParams.isSkopOn&&(i.has(e,"czr_activeSkopeId")&&!i.isUndefined(e.czr_activeSkopeId())||e.errorLog("The api.czr_activeSkopeId() is undefined in the api.czr_skopeBase.bindAPISettings method."),e(a)._dirty&&(r=n.isSettingSkopeEligible(a)?e.czr_activeSkopeId():n.getGlobalSkopeId(),e.czr_skope(r).updateSkopeDirties(a,t)),i.has(e.control(a),"czr_states")&&!e.control(a).czr_states("isResetting")()&&e.control(a).czr_states("resetVisible")(!1),n.isSettingSkopeEligible(a)&&n.updateCtrlSkpNot(a))};i.isUndefined(t)?e.each(function(e){e.bind(o)}):e(t).bind(o);var s=function(e){e.callbacks.has(o)||e.bind(o)};e.topics.change.has(s)||e.bind("change",s)}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{reactWhenSkopeSyncedDone:function(n){var o=t.Deferred();if(!i.has(n,"czr_skopes")||i.isEmpty(n.czr_skopes))return e.errorLog("Missing skope data after refresh",n),o.resolve().promise();e.czr_dirtyness()||e.czr_dirtyness(!!i.isBoolean(n.isChangesetDirty)&&n.isChangesetDirty);var s=n.czr_skopes;return i.each(e.czr_skopeCollection(),function(t){var n=i.findWhere(s,{opt_name:t.opt_name});if(!i.isUndefined(n)){var o=i.isEmpty(n.changeset||{})?{}:n.changeset,r={};i.each(o,function(t,i){e.has(i)||e.consoleLog("In reactWhenSkopeSyncedDone : attempting to update the changeset with a non registered setting : "+i),r[i]=t}),e.czr_skope(t.id).changesetValues(r)}}),i.each(e.czr_skopeCollection(),function(n){var o=i.findWhere(s,{opt_name:n.opt_name});if(!i.isUndefined(o)){var r=t.extend(!0,{},e.czr_skope(n.id).dbValues()),a=t.extend(r,o.db||{}),l={};i.each(a,function(t,i){e.has(i)||e.consoleLog("In reactWhenSkopeSyncedDone : attempting to update the db values with a non registered setting : "+i),l[i]=t}),e.czr_skope(n.id).dbValues(l)}}),i.delay(function(){o.resolve()},500),o.promise()}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{_maybeSetupAssignedMenuLocations:function(t){(i.isUndefined(t)||i.isEmpty(t)||!e.section.has(t.id))&&e.consoleLog("In _maybeSetupAssignedMenuLocations : no valid section_id provided.");if(t.assignedLocations){var n=function(e){};t.assignedLocations.callbacks.has(n)||t.assignedLocations.bind(n)}},activeSectionReact:function(t,n){"add_menu"!=t&&e.trigger("czr-paint",{active_section_id:t});var o=this,s=function(t,n){o.setupActiveSkopedControls({section_id:n}),o.processSilentUpdates({section_id:n}).fail(function(){throw new Error("Fail to process silent updates after initial skope collection has been populated")}).done(function(){i.delay(function(){var t;t=e.CZR_Helpers.getSectionControlIds(n),i.each(t,function(t){if(e.has(t)&&!i.isUndefined(e.control(t))){var n=e.control(t);i.has(n,"czr_states")&&n.czr_states("noticeVisible")(o.isCtrlNoticeVisible(t))}})},700),o.isExcludedSidebarsWidgets()||o.forceSidebarDirtyRefresh(n,e.czr_activeSkopeId())}),i.has(e.topics,"active-section-setup")||e.bind("active-section-setup",function(e){e=i.extend({controls:[],section_id:""},e),o._maybeSetupAssignedMenuLocations(e)}),e.czr_skopeReady.then(function(){var t=function(t){i.isUndefined(e.notifications)?e.czr_serverNotification({status:"success",message:[t,serverControlParams.i18n.skope["is always customized sitewide."]].join(" ")}):(e.notifications.add(new wp.customize.Notification(t,{type:"info",message:[t,serverControlParams.i18n.skope["is always customized sitewide."]].join(" "),dismissible:!0})),i.delay(function(){if(e.notifications.has(t)){var i=e.notifications(t);i.parent?i.parent.remove(i.code):i.container.remove()}},5e3)),e.czr_activeSkopeId(o.getGlobalSkopeId())};"global"!=e.czr_skope(e.czr_activeSkopeId())().skope&&(o.isExcludedWPCustomCss()&&"custom_css"==n&&t(e.section(n).params.title),i.contains(["admin_sec","tc_font_customizer_settings"],n)&&t(e.section(n).params.title),"nav_menu["!=n.substring(0,"nav_menu[".length)&&"add_menu"!=n||(i.isUndefined(e.notifications)?e.czr_serverNotification({status:"success",message:serverControlParams.i18n.skope["Menus are created sitewide."]}):(e.notifications.add(new wp.customize.Notification("nav_menus_sitewide",{type:"info",message:serverControlParams.i18n.skope["Menus are created sitewide."],dismissible:!0})),i.delay(function(){if(e.notifications.has("nav_menus_sitewide")){var t=e.notifications("nav_menus_sitewide");t.parent?t.parent.remove(t.code):t.container.remove()}},5e3))))}),e.trigger("active-section-setup",t)};e.czr_initialSkopeCollectionPopulated.then(function(){var o,r;e.section.when(t,function(i){"publish_settings"!=t&&i.deferred.embedded.then(function(){try{s(i,t)}catch(t){e.errorLog("activeSectionReact => _doReactActive : "+t)}})}),!i.isEmpty(n)&&e.section.has(n)&&(o=n,r=e.CZR_Helpers.getSectionControlIds(o),i.each(r,function(t){if(e.has(t)&&!i.isUndefined(e.control(t))){var n=e.control(t);i.has(n,"czr_states")&&n.czr_states("resetVisible")(!1)}}))})},activePanelReact:function(t,n){var o=this;e.czr_initialSkopeCollectionPopulated.then(function(){e.trigger("czr-paint",{active_panel_id:t});e.czr_skopeReady.then(function(){"global"!=e.czr_skope(e.czr_activeSkopeId())().skope&&o.isExcludedSidebarsWidgets()&&"widgets"==t&&(i.isUndefined(e.notifications)?e.czr_serverNotification({status:"success",message:serverControlParams.i18n.skope["Widgets are created sitewide."]}):(e.notifications.add(new wp.customize.Notification("widgets_are_sitewide",{type:"info",message:serverControlParams.i18n.skope["Widgets are created sitewide."],dismissible:!0})),i.delay(function(){if(e.notifications.has("widgets_are_sitewide")){var t=e.notifications("widgets_are_sitewide");t.parent?t.parent.remove(t.code):t.container.remove()}},5e3)))}),e.czr_skopeReady.then(function(){"nav_menus"==t&&i.each(e.panel(t).sections(),function(e){o.processSilentUpdates({section_id:e.id,awake_if_not_active:!0})})})})}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{wash:function(n){return e.czr_skopeBase.paintedElements&&(i.each(e.czr_skopeBase.paintedElements(),function(e){var n;n=e,i.has(n,"el")&&n.el.length&&t.when(n.el.removeClass("czr-painted")).done(function(){t(this).css("background","").css("color","")})}),e.czr_skopeBase.paintedElements([])),this},paint:function(n){var o="inherit",s={active_panel_id:e.czr_activePanelId(),active_section_id:e.czr_activeSectionId(),is_skope_switch:!1},r=[];n=t.extend(s,n),!i.isUndefined(e.czr_activeSkopeId())&&e.czr_skope.has(e.czr_activeSkopeId())&&(o=e.czr_skope(e.czr_activeSkopeId()).color);return e.czr_skopeBase.paintedElements=e.czr_skopeBase.paintedElements||new e.Value([]),i.isEmpty(n.active_panel_id)&&i.isEmpty(n.active_section_id)&&(r.push({el:t("#customize-info").find(".accordion-section-title").first()}),e.panel.each(function(e){r.push({el:e.container.find(".accordion-section-title").first()})}),e.section.each(function(e){i.isEmpty(e.panel())&&r.push({el:e.container.find(".accordion-section-title").first()})})),!i.isEmpty(n.active_panel_id)&&i.isEmpty(n.active_section_id)&&e.panel.when(n.active_panel_id,function(e){e.deferred.embedded.then(function(){r.push({el:e.container.find(".accordion-section-title, .customize-panel-back")})})}),i.isEmpty(n.active_section_id)||e.section.when(n.active_section_id,function(t){t.deferred.embedded.then(function(){r.push({el:t.container.find(".customize-section-title, .customize-section-back"),bgColor:"inherit"},{el:t.container}),e.czr_isChangeSetOn()||r.push({el:t.container.find(".accordion-section-content")})})}),i.each(r,function(s){var r;r=s,i.has(r,"el")&&r.el.length&&(n.is_skope_switch?t.when(r.el.addClass("czr-painted")).done(function(){t(this).css("background",r.bgColor||o)}):r.el.css("background",r.bgColor||o),"global"!=e.czr_skope(e.czr_activeSkopeId())().skope&&r.el.css("color","#000"))}),e.czr_skopeBase.paintedElements(r),this}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{toggleBottomInfos:function(n,o){o=i.isObject(o)?o:{};var s,r=this,a=t.Deferred(),l=e.CZR_Helpers.build_setId("show-skope-infos"),c=function(){return t.Deferred(function(){var e=this;t("body").removeClass("czr-bottom-infos-open"),r.bottomInfosContainer.length?i.delay(function(){r.bottomInfosContainer.remove(),r.bottomInfosContainer=!1,e.resolve()},300):e.resolve()})};return o=t.extend({title:"",message:"",actions:"",selfCloseAfter:2e4},o),n?(s=t.Deferred(),t.when(r.renderBottomInfosTmpl(o)).done(function(n){r.bottomInfosContainer=n,i.delay(function(){t("body").addClass("czr-bottom-infos-open"),s.resolve()},200),e.CZR_Helpers.setupDOMListeners([{trigger:"click keydown",selector:".czr-preview-note-close",actions:function(){c().done(function(){e.czr_bottomInfosVisible(!1),i.isFunction(o.actions)&&o.actions()})}},{trigger:"click keydown",selector:".czr-skope-switch",actions:function(n){var o=t(n.dom_event.currentTarget,n.dom_el).attr("data-skope-id");!i.isEmpty(o)&&e.czr_skope.has(o)&&e.czr_activeSkopeId(o)}},{trigger:"click keydown",selector:".czr-disable-bottom-infos",actions:function(t){e.control.has(l)&&e.control(l).focus()}}],{dom_el:r.bottomInfosContainer},r)}).fail(function(){s.resolve()}),s.promise()).always(function(){a.resolve()}):c().done(function(){e.czr_bottomInfosVisible(!1),a.resolve()}),a.promise()},renderBottomInfosTmpl:function(n){n=n||{};var o=this,s="",r=e.czr_activeSkopeId();if(!e.czr_skope.has(r)||!i.isObject(e.czr_skope(r)()))return!1;var a=e.czr_skope(r)().long_title,l=e.czr_skope(r)().ctx_title;a=i.isString(a)?a:"",l=i.isString(l)?l:"";var c=n.title||["Customizing",l.toLowerCase()].join(" "),d=n.message||o._getSkopeInfosMessage(r);return i.isUndefined(this.bottomInfosContainer)||1!=this.bottomInfosContainer.length?t.Deferred(function(){var i=this;try{s=wp.template("czr-bottom-infos")({title:c}),t("#customize-preview").after(t(s)),i.resolve()}catch(t){e.errorLog("Error when parsing the the bottom infos template : "+t),i.reject(t)}}).done(function(){t(".czr-note-message","#czr-bottom-infos").html(d)}):t(".czr-note-content",o.bottomInfosContainer).fadeOut({duration:"fast",complete:function(){t("h2",o.bottomInfosContainer).html(["&middot;",c,"&middot;"].join(" ")),t(".czr-note-message",o.bottomInfosContainer).html(d),t(this).fadeIn("fast")}}),this.bottomInfosContainer&&1==this.bottomInfosContainer.length?this.bottomInfosContainer:t("#czr-bottom-infos")},_getSkopeInfosMessage:function(n){n=n||e.czr_activeSkopeId();var o=i.findWhere(e.czr_currentSkopesCollection(),{skope:"local"}).id;if(!e.czr_skope.has(n)||!i.isObject(e.czr_skope(n)())||i.isUndefined(o))return"";var s,r=e.czr_skope(n)().skope,a=this.getInheritedSkopeTitles(),l=this.getOverridenSkopeTitles(),c=e.czr_skope(o)().ctx_title;e.czr_skope(n)().long_title;switch(r){case"global":s=[serverControlParams.i18n.skope["The customizations made site wide are inherited by all other levels of customization."],"<br/>",serverControlParams.i18n.skope["The current context"],["(",c,")"].join(" "),serverControlParams.i18n.skope["can be customized more specifically at the following level"]+"(s)",":",l+"."].join(" ");break;case"group":s=[serverControlParams.i18n.skope["The current customizations will be applied to"],e.czr_skope(n)().ctx_title.toLowerCase()+".","<br/>",serverControlParams.i18n.skope["The options not customized at this level will inherit their value from"],a,".<br/>",serverControlParams.i18n.skope["The current context"],["(",c,")"].join(" "),serverControlParams.i18n.skope["can be customized more specifically at the following level"],":",l+"."].join(" ");break;case"local":s=[serverControlParams.i18n.skope["The current context"],["(",c,")"].join(" "),serverControlParams.i18n.skope["can be customized with a specific set of options."],"<br/>",serverControlParams.i18n.skope["The options not customized at this level will inherit their value from"],a+"."].join(" ")}return t.trim(['<span class="czr-skope-bottom-infos">',s,"</span>"].join(" "))}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{isSkopeRegisteredInCollection:function(t,n){return n=n||e.czr_skopeCollection(),!i.isUndefined(i.findWhere(n,{id:t}))},isSkopeRegisteredInCurrentCollection:function(t,n){return n=n||e.czr_currentSkopesCollection(),!i.isUndefined(i.findWhere(n,{id:t}))},isGlobalSkopeRegistered:function(){var t=i.findWhere(e.czr_currentSkopesCollection(),{skope:"global"});return i.isObject(t)&&i.has(t,"id")},getGlobalSkopeId:function(){if(!i.has(e,"czr_skope"))return"";var t="";return e.czr_skope.each(function(e){"global"==e().skope&&(t=e().id)}),t},getChangedGlobalDBSettingValues:function(t){var n={};return i.each(t,function(t,o){_wpSetId=e.CZR_Helpers.build_setId(o),i.has(e.settings.settings,_wpSetId)&&(i.isEqual(t,e.settings.settings[_wpSetId].value)||(n[o]=t))}),n},getActiveSkopeId:function(t){var n,o,s;if(t=t||e.czr_currentSkopesCollection(),n=!i.isEmpty(e.czr_activeSkopeId())&&e.czr_skope.has(e.czr_activeSkopeId())?e.czr_skope(e.czr_activeSkopeId())().skope:serverControlParams.isLocalSkope?"local":"global",o=i.findWhere(t,{skope:n}),s=i.isUndefined(o)?i.findWhere(t,{skope:"global"}).id:o.id,i.isUndefined(s))throw new Error("No default skope was found in getActiveSkopeId ",t);return s},getActiveSkopeName:function(){return e.czr_skope.has(e.czr_activeSkopeId())?e.czr_skope(e.czr_activeSkopeId())().skope:"global"},isSettingSkopeEligible:function(t){var n=e.CZR_Helpers.getOptionName(t);return i.isUndefined(t)||!e.has(t)?(e.consoleLog("THE SETTING "+t+" IS NOT ELIGIBLE TO SKOPE BECAUSE UNDEFINED OR NOT REGISTERED IN THE API."),!1):!this.isExcludedWPBuiltinSetting(t)&&(!i.contains(serverControlParams.skopeExcludedSettings,n)&&(this.isThemeSetting(t),!0))},isSettingResetEligible:function(t){e.CZR_Helpers.getOptionName(t);if(!i.isUndefined(t)&&e.has(t)){if(!this.isExcludedWPBuiltinSetting(t))return!(!this.isThemeSetting(t)&&!this.isWPAuthorizedSetting(t))||void e.consoleLog("THE SETTING "+t+" IS NOT ELIGIBLE TO RESET BECAUSE NOT PART OF THE THEME OPTIONS AND NOT WP AUTHORIZED BUILT IN OPTIONS")}else e.consoleLog("THE SETTING "+t+" IS NOT ELIGIBLE TO RESET BECAUSE UNDEFINED OR NOT REGISTERED IN THE API.")},isThemeSetting:function(e){return i.isString(e)&&-1!==e.indexOf(serverControlParams.themeOptions)},isWPAuthorizedSetting:function(e){return i.isString(e)&&i.contains(serverControlParams.wpBuiltinSettings,e)},isExcludedWPBuiltinSetting:function(e){var t=this;if(i.isUndefined(e))return!0;if("active_theme"==e)return!0;if(i.contains(serverControlParams.wpBuiltinSettings,e))return!1;var n=!1;return i.each(["widget_","nav_menu","sidebars_","custom_css","nav_menu[","nav_menu_item","nav_menus_created_posts","nav_menu_locations"],function(i){switch(i){case"widget_":case"sidebars_":i==e.substring(0,i.length)&&(n=t.isExcludedSidebarsWidgets());break;case"nav_menu[":case"nav_menu_item":case"nav_menus_created_posts":i==e.substring(0,i.length)&&(n=!0);break;case"nav_menu_locations":i==e.substring(0,i.length)&&(n=t.isExcludedNavMenuLocations());break;case"custom_css":i==e.substring(0,i.length)&&(n=t.isExcludedWPCustomCss())}}),n},isExcludedSidebarsWidgets:function(){var e=serverControlParams.isSidebarsWigetsSkoped;return!(!i.isUndefined(e)&&!i.isEmpty(e)&&!1!==e)},isExcludedNavMenuLocations:function(){if(!e.czr_isChangeSetOn())return!0;var t=serverControlParams.isNavMenuLocationsSkoped;return!(!i.isUndefined(t)&&!i.isEmpty(t)&&!1!==t)},isExcludedWPCustomCss:function(){var e=serverControlParams.isWPCustomCssSkoped;return!(!i.isUndefined(e)&&!i.isEmpty(e)&&!1!==e)},_getDBSettingVal:function(t,n){var o=e.CZR_Helpers.getOptionName(t),s=e.CZR_Helpers.build_setId(t);return e.czr_skope.has(n)?i.has(e.czr_skope(n).dbValues(),s)?e.czr_skope(n).dbValues()[s]:i.has(e.czr_skope(n).dbValues(),o)?e.czr_skope(n).dbValues()[o]:"_no_db_val":(e.consoleLog("_getDBSettingVal : the requested skope id is not registered : "+n),"_no_db_val")},getSkopeDirties:function(t,n){if(!e.czr_skope.has(t))return{};n=n||{},n=i.extend({unsaved:!0},n);var o={};return i.each(e.czr_skope(t).dirtyValues(),function(t,s){var r;e.czr_isChangeSetOn()&&(r=e._latestSettingRevisions[s],e.state("changesetStatus").get()&&n&&n.unsaved&&(i.isUndefined(r)||r<=e._lastSavedRevision))||(o[s]=t)}),o},getSkopeExcludedDirties:function(){var t=this,n={};e.each(function(e,t){e._dirty&&(n[t]=e())});var o=t.getGlobalSkopeId();t.getSkopeDirties(o);return i.omit(n,function(e,i){return t.isSettingSkopeEligible(i)})},parseWidgetId:function(e,t){var n,o={number:null,id_base:null};return(n=e.match(/^(.+)-(\d+)$/))?(o.id_base=n[1],o.number=parseInt(n[2],10)):o.id_base=e,i.isUndefined(t)||(o.id_base=o.id_base.replace(t,"")),o},widgetIdToSettingId:function(e,t){var i,n=this.parseWidgetId(e,t);return i=n.id_base,n.number&&(i+="["+n.number+"]"),i},isWidgetRegisteredGlobally:function(e){var t=this;return registered=!1,i.each(_wpCustomizeWidgetsSettings.registeredWidgets,function(i,n){registered||"widget_"+t.widgetIdToSettingId(n)!=e||(registered=!0)}),registered}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{getAppliedPrioritySkopeId:function(t,n){if(!e.has(e.CZR_Helpers.build_setId(t)))return e.errorLog("getAppliedPrioritySkopeId : the requested setting id does not exist in the api : "+e.CZR_Helpers.build_setId(t)),n;if(!e.czr_skope.has(n))return e.errorLog("getAppliedPrioritySkopeId : the requested skope id is not registered : "+n),n;var o=this,s=i.findWhere(e.czr_currentSkopesCollection(),{skope:"local"}).id;if(i.isUndefined(s)||n==s)return n;var r=function(i){var s=e.CZR_Helpers.build_setId(t),a=e.czr_skope(i)();return i==n?n:e.czr_skope(i).getSkopeSettingAPIDirtyness(s)?a.id:e.czr_isChangeSetOn()&&e.czr_skope(i).getSkopeSettingChangesetDirtyness(s)?a.id:"_no_db_val"!=o._getDBSettingVal(t,i)?a.id:"global"==a.skope?a.id:r(o._getParentSkopeId(a))};return r(s)},getOverridenSkopeTitles:function(){var t=t||e.czr_activeSkopeId();if(!e.czr_skope.has(t))return e.errorLog("getInheritedSkopeTitles : the requested skope id is not registered : "+t),"";var n=this,o=i.findWhere(e.czr_currentSkopesCollection(),{skope:"local"}).id;if(i.isUndefined(o)||t==o)return"";var s=function(i,o){o=o||[];var r=e.czr_skope(i)();return i==t?o:(o.unshift(i),s(n._getParentSkopeId(r),o))};return i.map(s(o),function(e){return n.buildSkopeLink(e)}).join(" "+serverControlParams.i18n.skope.and+" ")},getInheritedSkopeId:function(t,n){if(!e.has(e.CZR_Helpers.build_setId(t)))return e.errorLog("getInheritedSkopeId : the requested setting id does not exist in the api : "+e.CZR_Helpers.build_setId(t)),n;if(!e.czr_skope.has(n))return e.errorLog("getInheritedSkopeId : the requested skope id is not registered : "+n),n;var o=e.CZR_Helpers.build_setId(t),s=e.czr_skope(n)();return i.has(e.settings.settings,o)?e.settings.settings[o].value:null,e.czr_skope(n).getSkopeSettingAPIDirtyness(o)?n:e.czr_isChangeSetOn()&&e.czr_skope(n).getSkopeSettingChangesetDirtyness(o)?n:"_no_db_val"!=this._getDBSettingVal(t,n)?n:"global"==s.skope?n:this.getInheritedSkopeId(t,this._getParentSkopeId(s))},getInheritedSkopeTitles:function(t,n){if(t=t||e.czr_activeSkopeId(),!e.czr_skope.has(t))return e.errorLog("getInheritedSkopeTitles : the requested skope id is not registered : "+t),"";n=n||[];var o=this,s=e.czr_skope(t)();return t!==e.czr_activeSkopeId()&&n.unshift(t),"global"!==s.skope?o.getInheritedSkopeTitles(o._getParentSkopeId(s),n):i.map(n,function(e){return o.buildSkopeLink(e)}).join(" "+serverControlParams.i18n.skope.and+" ")},buildSkopeLink:function(t){return e.czr_skope.has(t)?['<span class="czr-skope-switch" title=" '+[serverControlParams.i18n.skope["Switch to scope"],e.czr_skope(t)().title].join(" : ")+'" data-skope-id="'+t+'">',e.czr_skope(t)().title,"</span>"].join(""):(e.errorLog("buildSkopeLink : the requested skope id is not registered : "+t),"")},getSkopeSettingVal:function(t,n){if(!e.has(e.CZR_Helpers.build_setId(t)))return e.errorLog("getSkopeSettingVal : the requested setting id does not exist in the api : "+e.CZR_Helpers.build_setId(t)),null;if(!e.czr_skope.has(n))return e.errorLog("getSkopeSettingVal : the requested skope id is not registered : "+n),null;var o,s=e.CZR_Helpers.build_setId(t),r=e.czr_skope(n)();if(o=i.has(e.settings.settings,s)?e.settings.settings[s].value:null,e.czr_skope(n).getSkopeSettingAPIDirtyness(s))return e.czr_skope(n).dirtyValues()[s];if(e.czr_isChangeSetOn()&&e.czr_skope(n).getSkopeSettingChangesetDirtyness(s))return e.czr_skope(n).changesetValues()[s];var a=this._getDBSettingVal(t,n);return"_no_db_val"!=a?a:"global"==r.skope?o:this.getSkopeSettingVal(t,this._getParentSkopeId(r))},applyDirtyCustomizedInheritance:function(t,n){n=n||e.czr_activeSkopeId()||e.czr_skopeBase.getGlobalSkopeId(),t=t||{};var o=e.czr_skope(n)();if("global"==o.skope)return t;var s=this._getParentSkopeId(o),r=e.czr_skope(s).dirtyValues();return i.each(r,function(n,s){var r=e.CZR_Helpers.getOptionName(s);i.isUndefined(t[s])&&i.isUndefined(e.czr_skope(o.id).dbValues()[r])&&(t[s]=n)}),"global"==e.czr_skope(s)().skope?t:this.applyDirtyCustomizedInheritance(t,s)},_getParentSkopeId:function(t,n){var o=["local","group","special_group","global"],s=n||1*(i.findIndex(o,function(e){return t.skope==e})+1),r=o[s];return i.isUndefined(r)?i.findWhere(e.czr_currentSkopesCollection(),{skope:"global"}).id:i.isUndefined(i.findWhere(e.czr_currentSkopesCollection(),{skope:r}))?this._getParentSkopeId(t,s+1):i.findWhere(e.czr_currentSkopesCollection(),{skope:r}).id},_getChildSkopeId:function(t,n){var o=["local","group","special_group","global"],s=n||1*(i.findIndex(o,function(e){return t.skope==e})-1),r=o[s];return i.isUndefined(r)?i.findWhere(e.czr_currentSkopesCollection(),{skope:"local"}).id:i.isUndefined(i.findWhere(e.czr_currentSkopesCollection(),{skope:r}))?this._getParentSkopeId(t,s-1):i.findWhere(e.czr_currentSkopesCollection(),{skope:r}).id}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{updateSkopeCollection:function(n,o){var s=this;if(_api_ready_collection=[],i.each(n,function(e,i){var n=t.extend(!0,{},e);_api_ready_collection.push(s.prepareSkopeForAPI(n))}),s.isGlobalSkopeRegistered()){var r=[],a=t.extend(!0,{},e.czr_skope(s.getGlobalSkopeId())());i.each(_api_ready_collection,function(e,t){"global"==e.skope?r.push(a):r.push(e)}),_api_ready_collection=r}e.czr_currentSkopesCollection(_api_ready_collection)},prepareSkopeForAPI:function(e){if(!i.isObject(e))throw new Error("prepareSkopeForAPI : a skope must be an object to be API ready");var t={};if(i.each(serverControlParams.defaultSkopeModel,function(n,o){var s=e[o];switch(o){case"title":case"long_title":if(!i.isString(s))throw new Error("prepareSkopeForAPI : a skope title property must a string");t[o]=s;break;case"ctx_title":if(!i.isString(s))throw new Error("prepareSkopeForAPI : a skope context title property must a string");t[o]=s;break;case"skope":if(!i.isString(s)||i.isEmpty(s))throw new Error('prepareSkopeForAPI : a skope "skope" property must a string not empty');t[o]=s;break;case"level":if(!i.isString(s)||i.isEmpty(s))throw new Error("prepareSkopeForAPI : a skope level must a string not empty for skope "+s.skope);t[o]=s;break;case"dyn_type":if(!i.isString(s)||!i.contains(serverControlParams.skopeDynTypes,s))throw new Error("prepareSkopeForAPI : missing or invalid dyn type for skope "+e);t[o]=s;break;case"opt_name":if(!i.isString(s)||i.isEmpty(s))throw new Error('prepareSkopeForAPI : invalid "opt_name" property for skope '+s.skope);t[o]=s;break;case"obj_id":if(!i.isString(s))throw new Error('prepareSkopeForAPI : invalid "obj_id" for skope '+s.skope);t[o]=s;break;case"is_winner":if(!i.isUndefined(s)&&!i.isBoolean(s))throw new Error('prepareSkopeForAPI : skope property "is_winner" must be a boolean');t[o]=s;break;case"is_forced":if(!i.isUndefined(s)&&!i.isBoolean(s))throw new Error('prepareSkopeForAPI : skope property "is_primary" must be a boolean');t[o]=s;break;case"db":if((i.isArray(s)||i.isEmpty(s))&&(s={}),i.isUndefined(s)||!i.isObject(s))throw new Error('prepareSkopeForAPI : skope property "db" must be an object');t[o]=s;break;case"changeset":if((i.isArray(s)||i.isEmpty(s))&&(s={}),i.isUndefined(s)||!i.isObject(s))throw new Error('prepareSkopeForAPI : skope property "changeset" must be an object');t[o]=s;break;case"has_db_val":if(!i.isUndefined(s)&&!i.isBoolean(s))throw new Error('prepareSkopeForAPI : skope property "has_db_val" must be a boolean');t[o]=s}}),t.color=this.skope_colors[t.skope]||"rgb(255, 255, 255)",t.id=t.skope+"_"+t.level,!i.isString(t.id)||i.isEmpty(t.id))throw new Error("prepareSkopeForAPI : a skope id must a string not empty");return i.isString(t.title)&&!i.isEmpty(t.title)||(t.title=id,t.long_title=id),t},currentSkopesCollectionReact:function(n,o){var s=t.extend(!0,[],n)||[],r=(t.extend(!0,[],o),t.Deferred()),a=[];_to_remove=[],_to_update=[],_instantiateAndEmbed=function(n){i.each(n,function(i){i=t.extend(!0,{},i),e.czr_skope.add(i.id,new e.CZR_skope(i.id,i))}),i.each(n,function(t){if(!e.czr_skope.has(t.id))throw new Error("Skope id : "+t.id+" has not been instantiated.");"pending"==e.czr_skope(t.id).isReady.state()&&e.czr_skope(t.id).ready()})},i.each(s,function(t){e.czr_skope.has(t.id)||a.push(t)});try{_instantiateAndEmbed(a)}catch(t){return e.errorLog("currentSkopesCollectionReact : "+t),r.resolve().promise()}var l=function(){var n=i.size(s);e.czr_skope.each(function(e){if(i.isUndefined(i.findWhere(s,{id:e().id})))e.visible(!1),e.isReady.then(function(){e.container.toggleClass("active-collection",!1)});else{e.visible(!0);var o=function(){var o,s;s=(o=e).container.attr("class").split(" "),i.each(o.container.attr("class").split(" "),function(e){"width-"==e.substring(0,6)&&(s=i.without(s,e))}),t.when(o.container.attr("class",s.join(" "))).done(function(){o.container.addClass("width-"+Math.round(100/n))}),e.container.toggleClass("active-collection",!0)};"pending"==e.isReady.state()?e.isReady.then(function(){o()}):o()}})};return this.skopeWrapperEmbedded.then(function(){l()}),i.isEmpty(o)&&!i.isEmpty(n)&&e.czr_initialSkopeCollectionPopulated.resolve(),this.maybeSynchronizeGlobalSkope(),r.resolve("changed").promise()},maybeSynchronizeGlobalSkope:function(n){if(n=n||{},!i.isObject(n))throw new Error("maybeSynchronizeGlobalSkope : args must be an object");var o,s,r,a=this,l=t.Deferred();i.extend({isGlobalReset:!1,isSetting:!1,settingIdToReset:"",isSkope:!1,skopeIdToReset:""},n);if(a.isGlobalSkopeRegistered()){var c=e.czr_skope(a.getGlobalSkopeId()).dbValues();if(i.each(c,function(t,n){e.has(n)&&!i.isEqual(e.settings.settings[n].value,t)&&(e.settings.settings[n].value=t)}),n.isGlobalReset&&n.isSetting){if(o=n.settingIdToReset,s=e.CZR_Helpers.getOptionName(o),r=serverControlParams.defaultOptionsValues[s],i.isUndefined(e.settings.settings[o])||i.isUndefined(r))return;r!=e.settings.settings[o].value&&(e.settings.settings[o].value=r)}n.isGlobalReset&&n.isSkope&&i.each(e.settings.settings,function(t,n){a.isThemeSetting(n)&&(s=e.CZR_Helpers.getOptionName(n),i.has(serverControlParams.defaultOptionsValues,s)&&(e.settings.settings[n].value=serverControlParams.defaultOptionsValues[s]))})}return l.resolve().promise()}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{activeSkopeReact:function(n,o){var s=this,r=t.Deferred();if(!i.isUndefined(o)&&e.czr_skope.has(o))e.czr_skope(o).active(!1);else if(!i.isUndefined(o))throw new Error("listenToActiveSkope : previous scope does not exist in the collection",o);if(i.isUndefined(n)||!e.czr_skope.has(n))throw new Error("listenToActiveSkope : requested scope "+n+" does not exist in the collection");e.czr_skope(n).active(!0);var a=function(t){return e.czr_activeSkopeId(s.getGlobalSkopeId()),i.isUndefined(e.notifications)?e.czr_serverNotification({status:"success",message:[t,"is always customized sitewide."].join(" ")}):(e.notifications.add(new wp.customize.Notification(t,{type:"info",message:[t,"is always customized sitewide."].join(" "),dismissible:!0})),i.delay(function(){if(e.notifications.has(t)){var i=e.notifications(t);i.parent?i.parent.remove(i.code):i.container.remove()}},5e3)),r.resolve().promise()};if(s.isExcludedSidebarsWidgets()&&"widgets"==e.czr_activePanelId()&&n!=s.getGlobalSkopeId()&&(i.isUndefined(e.notifications)?e.czr_serverNotification({status:"success",message:[serverControlParams.i18n.skope["Widgets are created sitewide."]].join(" ")}):(e.notifications.add(new wp.customize.Notification("widgets_are_sidewide",{type:"info",message:serverControlParams.i18n.skope["Widgets are created sitewide."],dismissible:!0})),i.delay(function(){if(e.notifications.has("widgets_are_sidewide")){var t=e.notifications("widgets_are_sidewide");t.parent?t.parent.remove(t.code):t.container.remove()}},5e3))),s.isExcludedWPCustomCss()&&"custom_css"==e.czr_activeSectionId()&&n!=s.getGlobalSkopeId())return a(e.section(e.czr_activeSectionId()).params.title);if("admin_sec"==e.czr_activeSectionId()&&n!=s.getGlobalSkopeId())return a(e.section(e.czr_activeSectionId()).params.title);if("tc_font_customizer_settings"==e.czr_activeSectionId()&&n!=s.getGlobalSkopeId())return a(e.section(e.czr_activeSectionId()).params.title);if("nav_menu"!=e.czr_activeSectionId().substring(0,"nav_menu".length)&&"add_menu"!=e.czr_activeSectionId()||n==s.getGlobalSkopeId()||e.czr_serverNotification({status:"success",message:[serverControlParams.i18n.skope["Menus are created sitewide."]].join(" ")}),"nav_menus"==e.czr_activePanelId()&&i.each(e.panel(e.czr_activePanelId()).sections(),function(e){s.processSilentUpdates({section_id:e.id,awake_if_not_active:!0})}),e.state("switching-skope")(!0),s._writeCurrentSkopeTitle(n),e.trigger("czr-paint",{is_skope_switch:!0}),i.isUndefined(e.czr_activeSectionId()))return e.state("switching-skope")(!1),e.previewer.refresh(),r.resolve().promise();i.has(e,"czrModulePanelState")&&e.czrModulePanelState(!1);var l=s._getSilentUpdateCandidates();i.isUndefined(o)||i.each(e.czr_skope(o).dirtyValues(),function(e,t){i.contains(l,t)||l.push(t)}),i.isUndefined(n)||i.each(e.czr_skope(n).dirtyValues(),function(e,t){i.contains(l,t)||l.push(t)});var c=function(){s.processSilentUpdates({candidates:l,section_id:null,refresh:!1}).fail(function(){throw r.reject(),e.state("switching-skope")(!1),new Error("Fail to process silent updates in _debouncedProcessSilentUpdates")}).done(function(t){e.previewer.refresh().always(function(){r.resolve(t),e.state("switching-skope")(!1)})})};return i.has(e,"czr_isModuleExpanded")&&!1!==e.czr_isModuleExpanded()?(e.czr_isModuleExpanded().setupModuleViewStateListeners(!1),(c=i.debounce(c,400))()):c(),r.promise()},_writeCurrentSkopeTitle:function(n){var o=this,s=e.czr_skope(n||e.czr_activeSkopeId())().long_title,r=function(){var r=o.getInheritedSkopeTitles(),a=o.getOverridenSkopeTitles();return t.trim(['<span class="czr-main-title"><span class="czr-toggle-title-notice fas fa-info-circle"></span>',"global"==e.czr_skope(n||e.czr_activeSkopeId())().skope?s:["Customizing",s].join(" "),"</span>",'<span class="czr-skope-inherits-from">',serverControlParams.i18n.skope["In this context :"],i.isEmpty(r)?" ":serverControlParams.i18n.skope["inherits from"],r,i.isEmpty(r)?"":i.isEmpty(a)?".":[",",serverControlParams.i18n.skope.and].join(" "),i.isEmpty(a)?" ":serverControlParams.i18n.skope["overridden by"],a,i.isEmpty(a)?"":".","</span>"].join(" "))},a=function(e){e?t(".czr-scope-switcher").find(".spinner").fadeIn():t(".czr-scope-switcher").find(".spinner").fadeOut()};o.skopeWrapperEmbedded.then(function(){t(".czr-scope-switcher").find(".czr-current-skope-title").length?t.when(t(".czr-scope-switcher").find(".czr-skope-title").fadeOut(200)).done(function(){t(this).html(r()).fadeIn(200)}):t(".czr-scope-switcher").prepend(t("<h2/>",{class:"czr-current-skope-title",html:['<span class="czr-skope-title">','<span class="spinner">',r(),"</span>","</span>"].join("")})),i.isUndefined(e.state("switching-skope").isBound)&&(e.state("switching-skope").bind(a),e.state("switching-skope").isBound=!0)})}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{processSilentUpdates:function(n){n=i.isString(n)?{candidates:[n]}:n||{};var o=this,s={candidates:[],section_id:e.czr_activeSectionId(),refresh:!0,awake_if_not_active:!1},r=t.Deferred();if(n=t.extend(s,n),i.isString(n.candidates)&&(n.candidates=[n.candidates]),i.isEmpty(n.candidates)&&(n.candidates=o._getSilentUpdateCandidates(n.section_id,n.awake_if_not_active)),!i.isArray(n.candidates))throw new Error("processSilentUpdates : the update candidates must be an array.");if(i.isEmpty(n.candidates))return r.resolve([]).promise();var a=function(){o.silentlyUpdateSettings(n.candidates,n.refresh).fail(function(){r.reject()}).done(function(e){i.delay(function(){o.setupActiveSkopedControls({section_id:n.section_id})},1e3),r.resolve(e)})};return"resolved"!=e.czr_skopeReady.state()?(r.resolve([]),e.czr_skopeReady.done(function(){a()})):a(),r.promise()},silentlyUpdateSettings:function(n,o){e.state.has("silent-update-processing")||e.state.create("silent-update-processing")(!1),e.state("silent-update-processing")(!0);var s=this,r={},a=t.Deferred();o=!!i.isUndefined(o)||o,(i.isUndefined(n)||i.isEmpty(n))&&(n=s._getSilentUpdateCandidates()),i.isString(n)&&(n=[n]),i.each(n,function(t){e.control.has(t)&&"czr_multi_module"==e.control(t).params.type||(r[t]=s.getSettingUpdatePromise(t))});var l=[],c=[];return i.each(r,function(t,n){t.done(function(t){var o=e.CZR_Helpers.build_setId(n),s=e.czr_skope(e.czr_activeSkopeId()).getSkopeSettingDirtyness(n);i.isEqual(e(o)(),t)||c.push(n),e(o).silent_set(t,s)}),l.push(t)}),t.when.apply(null,l).fail(function(){throw a.reject(),new Error("silentlyUpdateSettings FAILED. Candidates : "+n)}).always(function(){e.state("silent-update-processing")(!1)}).then(function(){i.each(l,function(e){if(i.isObject(e)&&"resolved"!==e.state())throw new Error("a silent update promise is unresolved : "+n)}),o&&!i.isEmpty(c)?e.previewer.refresh().always(function(){a.resolve(c)}):a.resolve(c)}),a.promise()},getSettingUpdatePromise:function(n){if(i.isUndefined(n))throw new Error("getSettingUpdatePromise : the provided setId is not defined");if(!e.has(e.CZR_Helpers.build_setId(n)))throw new Error("getSettingUpdatePromise : the provided wpSetId is not registered : "+e.CZR_Helpers.build_setId(n));var o=e.CZR_Helpers.build_setId(n),s=e(o)(),r=t.Deferred(),a=!1,l=e.czr_activeSkopeId(),c=e.czr_skopeBase.getSkopeSettingVal(n,l);if(i.isEqual(s,c))return r.resolve(c).promise();if(e.control.has(o)){var d=e.control(o).params.type,u=e.settings.controls[o];switch(d){case"czr_cropped_image":a=this._getCzrCroppedImagePromise(o,u);break;case"czr_module":this._processCzrModuleSilentActions(o,d,l,u)}}return i.has(e.settings.controls,"header_image")&&"header_image"==o&&(a=this._getHeaderImagePromise(o,l)),a&&i.isObject(a)?a.always(function(){r.resolve(c)}):r.resolve(c),r.promise()},_getSilentUpdateCandidates:function(t,n){var o=this,s=[];if(t=i.isUndefined(t)||i.isNull(t)?e.czr_activeSectionId():t,i.isEmpty(e.czr_activeSectionId())&&!n)return[];if(i.isUndefined(t))return e.consoleLog("_getSilentUpdateCandidates : No active section provided"),[];if(!e.section.has(t))throw new Error("_getSilentUpdateCandidates : The section "+t+" is not registered in the API.");var r=e.CZR_Helpers.getSectionSettingIds(t);return r=i.filter(r,function(e){return o.isSettingSkopeEligible(e)}),i.each(r,function(e){s.push(e)}),s}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{_processCzrModuleSilentActions:function(n,o,s,r){var a,l,c,d,u,p=i.has(e.control(n).params,"syncCollection")?e.control(n).params.syncCollection:"",h=e.CZR_Helpers.build_setId(n),f=e.czr_skopeBase.getSkopeSettingVal(h,s),m=e.czr_skope(e.czr_activeSkopeId());i.isEmpty(p)||i.isUndefined(p)||(a=e.CZR_Helpers.build_setId(p),l=e.czr_skopeBase.getSkopeSettingVal(a,s),c=e.settings.controls[a],d=e.controlConstructor.czr_multi_module,u=e.control(a).syncSektionModule()().id,e.control(a).container.remove(),e.control.remove(a),e(a).silent_set(l,m.getSkopeSettingDirtyness(a)),t.extend(c,{czr_skope:s}),e.control.add(a,new d(a,{params:c,previewer:e.previewer}))),_constructor=e.controlConstructor[o],e.control(n).container.remove(),e.control.remove(n),e(n).silent_set(f,m.getSkopeSettingDirtyness(h)),t.extend(r,{czr_skope:s}),e.control.add(n,new _constructor(n,{params:r,previewer:e.previewer})),i.isEmpty(p)||i.isUndefined(p)||(e.consoleLog("FIRE SEKTION MODULE?",u,e.control(n).czr_Module(u).isReady.state()),e.control(n).czr_Module(u).fireSektionModule())},_getCzrCroppedImagePromise:function(n,o){var s=e.controlConstructor.czr_cropped_image,r=t.Deferred(),a=e.has(n)?e(n)():null;return a=null===a?"":a,wp.media.attachment(a).fetch().done(function(){e.control(n).container.remove(),e.control.remove(n),o.attachment=this.attributes,e.control.add(n,new s(n,{params:o,previewer:e.previewer})),r.resolve()}).fail(function(){e.control(n).container.remove(),e.control.remove(n),o=i.omit(o,"attachment"),e.control.add(n,new s(n,{params:o,previewer:e.previewer})),r.reject()}),r.promise()},_getHeaderImagePromise:function(n,o){var s=t.Deferred();if(!i.has(e.settings.controls,"header_image")||"header_image"!=n)return s.resolve().promise();var r,a=e.controlConstructor.header,l=t.extend(!0,{},e.settings.controls.header_image);header_image_data=null===e.czr_skopeBase.getSkopeSettingVal("header_image_data",o)?"":e.czr_skopeBase.getSkopeSettingVal("header_image_data",o);var c=function(t){t=t||l,e.control("header_image").container.remove(),e.control.remove("header_image"),e.HeaderTool.UploadsList=e.czr_HeaderTool.UploadsList,e.HeaderTool.DefaultsList=e.czr_HeaderTool.DefaultsList,e.HeaderTool.CombinedList=e.czr_HeaderTool.CombinedList;var n=function(){e.control.add("header_image",new a("header_image",{params:t,previewer:e.previewer}))};(n=i.debounce(n,800))()};return i.has(header_image_data,"attachment_id")?(r=header_image_data.attachment_id,wp.media.attachment(r).fetch().done(function(){l.attachment=this.attributes,c(l),s.resolve()}).fail(function(){l=i.omit(l,"attachment"),e.control("header_image").container.remove(),e.control.remove("header_image"),e.HeaderTool.UploadsList=e.czr_HeaderTool.UploadsList,e.HeaderTool.DefaultsList=e.czr_HeaderTool.DefaultsList,e.HeaderTool.CombinedList=e.czr_HeaderTool.CombinedList,e.control.add("header_image",new a("header_image",{params:l,previewer:e.previewer})),s.reject()})):(c(),s.resolve()),s.promise()}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{setupActiveSkopedControls:function(n){var o,s,r,a,l=this,c=t.Deferred();if(defaultSetupParams={controls:[],section_id:e.czr_activeSectionId()},r=t.extend(defaultSetupParams,n),!i.isObject(r)||!i.has(r,"controls")||!i.has(r,"section_id"))throw new Error("setupActiveSkopedControls : the setupParams param must be an object with properties controls and section_id.");return o=r.section_id,s=r.controls,[],!i.isEmpty(o)&&i.isString(o)||(o=e.czr_activeSectionId()),i.isEmpty(s)&&(s=e.CZR_Helpers.getSectionControlIds(o)),s=i.isString(s)?[s]:s,a=i.filter(s,function(t){var i=e.CZR_Helpers.getControlSettingId(t);return i&&!l.isSettingSkopeEligible(i)&&e.control(t).container.addClass("czr-not-skoped"),i&&l.isWPAuthorizedSetting(i)&&e.control(t).container.addClass("is-wp-authorized-setting"),i&&l.isSettingSkopeEligible(i)}),"nav_menu["==o.substring(0,"nav_menu[".length)?c.resolve().promise():(i.isEmpty(s)||(e.czr_skopeReady.then(function(){t.when(l.renderControlsSingleReset(a)).done(function(){i.each(s,function(e){l.listenSkopedControl(e)}),c.resolve()})}),"rejected"==e.czr_skopeReady.state()&&c.resolve()),l.renderCtrlSkpNotIcon(s),c.promise())},listenSkopedControl:function(n){var o=this;if(e.has(n)&&!i.isUndefined(e.control(n))){var s=e.control(n),r=e.CZR_Helpers.getControlSettingId(n);e.CZR_Helpers.getOptionName(r);if(!i.has(s,"czr_states")){s.czr_states=new e.Values,i.each({hasDBVal:!1,isDirty:!1,noticeVisible:!1,resetVisible:!1,isResetting:!1},function(e,t){s.czr_states.create(t),s.czr_states(t)(e)});try{o.bindControlStates(s)}catch(t){e.errorLog("bindControlStates : "+t)}}s.czr_states("hasDBVal")(e.czr_skope(e.czr_activeSkopeId()).hasSkopeSettingDBValues(r)),s.czr_states("isDirty")(e.czr_skope(e.czr_activeSkopeId()).getSkopeSettingDirtyness(r)),i.has(s,"userEventMap")||(s.userEventMap=[{trigger:"click keydown",selector:".czr-setting-reset, .czr-cancel-button",name:"control_reset_warning",actions:function(){(s.czr_states("isDirty")()||s.czr_states("hasDBVal")())&&(i.each(i.without(e.CZR_Helpers.getSectionControlIds(s.section()),n),function(t){i.has(e.control(t),"czr_states")&&e.control(t).czr_states("resetVisible")(!1)}),s.czr_states("resetVisible")(!s.czr_states("resetVisible")()),s.czr_states("noticeVisible")(!s.czr_states("resetVisible")()))}},{trigger:"click keydown",selector:".czr-control-do-reset",name:"control_do_reset",actions:function(){o.doResetSetting(n)}},{trigger:"click keydown",selector:".czr-skope-switch",name:"control_skope_switch",actions:function(n){var o=t(n.dom_event.currentTarget,n.dom_el).attr("data-skope-id");!i.isEmpty(o)&&e.czr_skope.has(o)&&e.czr_activeSkopeId(o)}},{trigger:"click keydown",selector:".czr-toggle-notice",name:"control_toggle_notice",actions:function(e){s.czr_states("noticeVisible")(!s.czr_states("noticeVisible")()),s.czr_states("noticeVisible")()&&s.czr_states("resetVisible")(!1)}}],e.CZR_Helpers.setupDOMListeners(s.userEventMap,{dom_el:s.container},o))}},bindControlStates:function(n){if(!e.control.has(n.id))throw new Error("in bindControlStates, the provided ctrl id is not registered in the api : "+n.id);var o=this;e.CZR_Helpers.getControlSettingId(n.id);n.czr_states("hasDBVal").bind(function(e){n.container.toggleClass("has-db-val",e),e?_title=serverControlParams.i18n.skope["Reset your customized ( and published ) value"]:n.czr_states("isDirty")()?_title=serverControlParams.i18n.skope["Reset your customized ( but not yet published ) value"]:_title=serverControlParams.i18n.skope["Not customized yet, nothing to reset"],n.container.find(".czr-setting-reset").attr("title",_title)}),n.czr_states("isDirty").bind(function(e){var t;n.container.toggleClass("is-dirty",e),t=e?serverControlParams.i18n.skope["Reset your customized ( but not yet published ) value"]:n.czr_states("hasDBVal")()?serverControlParams.i18n.skope["Reset your customized ( and published ) value"]:serverControlParams.i18n.skope["Not customized yet, nothing to reset"],n.container.find(".czr-setting-reset").attr("title",t)}),n.czr_states("noticeVisible").bind(function(e){n.container.toggleClass("czr-notice-visible",e);var i=n.getNotificationsContainerElement();!1!==i&&!1!==i.length&&(e?(o.updateCtrlSkpNot(n.id,!0),i.stop().slideDown("fast",null,function(){t(this).css("height","auto")})):t.when(i.stop().slideUp("fast",null,function(){t(this).css("height","auto")})).done(function(){o.removeCtrlSkpNot(n.id)}))}),n.czr_states("resetVisible").bind(function(s){n.section()||e.czr_activeSectionId();s?t.when(o.renderControlResetWarningTmpl(n.id)).done(function(e){i.isEmpty(e)||(n.czr_resetDialogContainer=e.container,e.container.slideToggle("fast"),e.is_authorized||i.delay(function(){t.when(n.czr_resetDialogContainer.slideToggle("fast")).done(function(){n.czr_resetDialogContainer.remove()})},3e3))}):i.has(n,"czr_resetDialogContainer")&&n.czr_resetDialogContainer.length&&t.when(n.czr_resetDialogContainer.slideToggle("fast")).done(function(){n.czr_resetDialogContainer.remove()})})}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{renderControlsSingleReset:function(n){var o=this,s=t.Deferred();(i.isUndefined(n)||i.isEmpty(n))&&(n=e.CZR_Helpers.getSectionControlIds(e.czr_activeSectionId()),n=i.filter(n,function(t){var i=e.CZR_Helpers.getControlSettingId(t);return i&&o.isSettingSkopeEligible(i)}));var r=i.isArray(n)?n:[n],a=function(n){i.isEmpty(n)?s.resolve():i.each(n,function(i){e.control.when(i,function(){var n=e.control(i);e.CZR_Helpers.getControlSettingId(i);t(".czr-setting-reset",n.container).length?s.resolve():n.deferred.embedded.then(function(){t.when(n.container.find(".customize-control-title").first().prepend(t("<span/>",{class:"czr-setting-reset fas fa-sync",title:""}))).done(function(){n.container.addClass("czr-skoped"),t(".czr-setting-reset",n.container).fadeIn(400),s.resolve()})})})})};return(a=i.debounce(a,200))(r),s.promise()},renderControlResetWarningTmpl:function(n){if(!e.control.has(n))return{};var o,s,r=e.control(n),a=e.CZR_Helpers.getControlSettingId(n),l="",c=!!i.contains(serverControlParams.wpBuiltinSettings,e.CZR_Helpers.getOptionName(a))||!i.contains(serverControlParams.themeSettingList,e.CZR_Helpers.getOptionName(a)),d=e.czr_skope(e.czr_activeSkopeId())();r.czr_states("isDirty")()?(o=["global"==d.skope?serverControlParams.i18n.skope["Please confirm that you want to reset your current customizations for this option"]:serverControlParams.i18n.skope["Please confirm that you want to reset your current customizations for this option in"],"global"==d.skope?serverControlParams.i18n.skope.sitewide:d.ctx_title].join(" "),s=serverControlParams.i18n.skope["Your customizations have been reset"]):c&&"global"==d.skope?o=serverControlParams.i18n.skope["This WordPress setting can not be reset sitewide"]:(o=["global"==d.skope?serverControlParams.i18n.skope["Please confirm that you want to reset this option"]:serverControlParams.i18n.skope["Please confirm that you want to reset this option in"],"global"==d.skope?serverControlParams.i18n.skope.sitewide:d.ctx_title].join(" "),s=serverControlParams.i18n.skope["The option has been reset"]);var u=!(c&&"global"==e.czr_skope(e.czr_activeSkopeId())().skope&&!r.czr_states("isDirty")()),p={warning_message:o+".",success_message:s+".",is_authorized:u};try{l=wp.template("czr-reset-control")(p)}catch(t){return e.errorLog("Error when parsing the the reset control template : "+t),{container:!1,is_authorized:!1}}return t(".customize-control-title",r.container).first().after(t(l)),{container:t(".czr-ctrl-reset-warning",r.container),is_authorized:u}},doResetSetting:function(n){var o=this,s=e.CZR_Helpers.getControlSettingId(n),r=e.control(n),a=e.czr_activeSkopeId(),l=r.czr_states("isDirty")()?"_resetControlDirtyness":"_resetControlAPIVal",c=function(){this.czr_states("resetVisible")(!1),this.czr_states("isResetting")(!1),this.container.removeClass("czr-resetting-control")};r.czr_states("isResetting")(!0),r.container.addClass("czr-resetting-control"),e.czr_skopeReset[r.czr_states("isDirty")()?"resetChangeset":"resetPublished"]({skope_id:a,setId:s,is_setting:!0}).done(function(r){var d,u;d=n,u=function(){e.czr_skopeBase.processSilentUpdates({candidates:d,refresh:!1}).fail(function(){e.consoleLog("Silent update failed after resetting control : "+d)}).done(function(){e.control.when(d,function(){var n=e.control(d);t.when(t(".czr-crtl-reset-dialog",n.container).fadeOut("300")).done(function(){t.when(t(".czr-reset-success",n.container).fadeIn("300")).done(function(e){i.delay(function(){t.when(e.fadeOut("300")).done(function(){o.setupActiveSkopedControls({controls:[d]}).done(function(){n.czr_states&&(c.call(n),n.czr_states("noticeVisible")(o.isCtrlNoticeVisible(d)))})})},500)})})})})},o[l](d).done(function(){e.consoleLog("REFRESH AFTER A SETTING RESET"),e.previewer.refresh().fail(function(t){e.errorLog("Setting reset refresh failed.",t)}).done(function(t){if("global"==e.czr_skope(a)().skope&&"_resetControlAPIVal"==l){var n,o=e.czr_skope(a)().opt_name;!i.isUndefined(t.skopesServerData)&&i.has(t.skopesServerData,"czr_skopes")&&(n=t.skopesServerData.czr_skopes,i.isUndefined(i.findWhere(n,{opt_name:o}))&&i.findWhere(n,{opt_name:o}).db),e.czr_skopeBase.maybeSynchronizeGlobalSkope({isGlobalReset:!0,isSetting:!0,settingIdToReset:s}).done(function(){u()})}else u()})})}).fail(function(s){e.errorLog("Reset failed",s),t.when(t(".czr-crtl-reset-dialog",r.container).fadeOut("300")).done(function(){t.when(t(".czr-reset-fail",r.container).fadeIn("300")).done(function(){t(".czr-reset-fail",r.container).append("<p>"+s+"</p>"),i.delay(function(){c.call(r),o.setupActiveSkopedControls({controls:[n]})},2e3)})})})},_resetControlDirtyness:function(n){var o,s=e.CZR_Helpers.getControlSettingId(n),r=e.czr_skope(e.czr_activeSkopeId()),a=t.extend(!0,{},r.dirtyValues()),l=t.extend(!0,{},r.changesetValues()),c=t.Deferred();return o=i.omit(a,s),i.omit(l,s),r.dirtyValues(o),r.changesetValues(o),c.resolve().promise()},_resetControlAPIVal:function(n){var o=e.CZR_Helpers.getControlSettingId(n),s=e.czr_skope(e.czr_activeSkopeId()).dbValues(),r=t.extend(!0,{},s),a=t.Deferred();return i.has(e.control(n),"czr_states")&&(e.control(n).czr_states("hasDBVal")(!1),e.czr_skope(e.czr_activeSkopeId()).dbValues(i.omit(r,o))),a.resolve().promise()}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{renderCtrlSkpNotIcon:function(n){var o=i.isArray(n)?n:[n];i.each(o,function(i){e.control.when(i,function(){var n=e.control(i);n.deferred.embedded.then(function(){t(".czr-toggle-notice",n.container).length||t.when(n.container.find(".customize-control-title").first().append(t("<span/>",{class:"czr-toggle-notice fas fa-info-circle",title:serverControlParams.i18n.skope["Display informations about the scope of this option."]}))).done(function(){t(".czr-toggle-notice",n.container).fadeIn(400)})})})})},updateCtrlSkpNot:function(n,o){var s=this,r=i.isArray(n)?n:[n],a=function(t,n){var o,r,a,l,c=e.czr_activeSkopeId(),d=s.getInheritedSkopeId(t,c),u=s.getAppliedPrioritySkopeId(t,c),p=[];return(l=t)&&s.isSettingSkopeEligible(l)?(d==u&&e.czr_skope.has(d)&&c==d&&(o=!i.isUndefined(e.czr_skope(c).dirtyValues()[t]),r=!i.isUndefined(e.czr_skope(c).dbValues()[t]),a=e.czr_skope(d)().ctx_title,a=(i.isString(a)?a:"").toLowerCase(),o?"global"==e.czr_skope(d)().skope?p.push([serverControlParams.i18n.skope["Customized. Will be applied sitewide once published."]].join(" ")):p.push([serverControlParams.i18n.skope["Customized. Will be applied to"],"<strong>"+a+"</strong>",serverControlParams.i18n.skope["once published."]].join(" ")):r?"global"==e.czr_skope(d)().skope?p.push([serverControlParams.i18n.skope["Customized and applied sitewide."]].join(" ")):p.push([serverControlParams.i18n.skope["Customized and applied to"],"<strong>"+a+".</strong>"].join(" ")):p.push(serverControlParams.i18n.skope["Default website value applied sitewide."])),d!==c&&e.czr_skope.has(d)&&(o=!i.isUndefined(e.czr_skope(d).dirtyValues()[t]),r=!i.isUndefined(e.czr_skope(d).dbValues()[t]),a=e.czr_skope(c)().ctx_title,a=(i.isString(a)?a:"").toLowerCase(),o||r?p.push([serverControlParams.i18n.skope["Currently inherited from"],s.buildSkopeLink(d)+".",serverControlParams.i18n.skope["You can customize this specifically for"],"<strong>"+a+".</strong>"].join(" ")):p.push([serverControlParams.i18n.skope["Default website value."],serverControlParams.i18n.skope["You can customize this specifically for"],"<strong>"+a+".</strong>"].join(" "))),u!==c&&e.czr_skope.has(u)&&(o=!i.isUndefined(e.czr_skope(u).dirtyValues()[t]),a=e.czr_skope(n)().ctx_title,a=(i.isString(a)?a:"").toLowerCase(),p.push([o?serverControlParams.i18n.skope["The value that will be applied to"]:serverControlParams.i18n.skope["The value currently applied to"],"<strong>"+a+"</strong>",o?serverControlParams.i18n.skope["is customized in"]:serverControlParams.i18n.skope["is set in"],s.buildSkopeLink(u),serverControlParams.i18n.skope["which has a higher priority than the current option scope"],"<strong>( "+e.czr_skope(c)().title+" ).</strong>"].join(" "))),p.join(" | ")):(p.push([serverControlParams.i18n.skope["This option is always customized sitewide and cannot be reset."]].join(" ")),p.join(" | "))};i.each(r,function(n){e.control.when(n,function(){var s=e.control(n),r=e.CZR_Helpers.getControlSettingId(n);(i.isUndefined(o)?s.czr_states&&s.czr_states("noticeVisible")():o)&&s.deferred.embedded.then(function(){var n=i.findWhere(e.czr_currentSkopesCollection(),{skope:"local"}).id,o=s.getNotificationsContainerElement();if(o&&o.length&&!i.isUndefined(n)){try{_html=a(r,n)}catch(t){e.errorLog("_generateControlNotice : "+t)}var l=t(".czr-skope-notice",o);l.length?l.html(_html):o.append(['<span class="czr-notice czr-skope-notice">',_html,"</span>"].join(""))}})})})},isCtrlNoticeVisible:function(t){if(!e.control.has(t))return!1;var i=this,n=e.CZR_Helpers.getControlSettingId(t),o=e.czr_activeSkopeId(),s=i.getAppliedPrioritySkopeId(n,o);return"global"!=e.czr_skope(o)().skope||!(s===o||!e.czr_skope.has(s))},removeCtrlSkpNot:function(n){var o=i.isArray(n)?n:[n];i.each(o,function(i){e.control.when(i,function(){var n=e.control(i);n.deferred.embedded.then(function(){var e=n.getNotificationsContainerElement();if(e&&e.length){var i=t(".czr-skope-notice",e);i.length&&i.remove()}})})})}})}(wp.customize,jQuery,_);var CZRSkopeResetMths=CZRSkopeResetMths||{};!function(e,t,i){t.extend(CZRSkopeResetMths,{initialize:function(){this.previewer=e.previewer,e.state.create("czr-resetting")(!1),e.state("czr-resetting").bind(function(e){t(document.body).toggleClass("czr-resetting",!1!==e)})},resetChangeset:function(n){var o,s,r,a,l,c=t.Deferred(),d=this,u=e.state("processing"),p={is_setting:!1,is_skope:!1,skope_id:e.czr_activeSkopeId()||"",setId:""},h=(n=i.extend(p,n)).skope_id,f=n.setId;return e.czr_isChangeSetOn()?(s=function(o,s){if(i.isUndefined(o))throw new Error("RESET: MISSING skope_id");if(e.state("czr-resetting")(!0),a={skope_id:o,action:"reset"},l=t.extend(d.previewer.query(a),{nonce:d.previewer.nonce.save}),n.is_setting)t.extend(l,{setting_id:s}),r="czr_changeset_setting_reset";else{if(!n.is_skope)return c.reject("reset_ajax_action_not_specified").promise();r="czr_changeset_skope_reset"}wp.ajax.post(r,l).always(function(){e.state("czr-resetting")(!1)}).fail(function(t){"0"===t?t="not_logged_in":"-1"===t&&(t="invalid_nonce"),"invalid_nonce"===t?d.previewer.cheatin():"not_logged_in"===t&&(d.previewer.preview.iframe.hide(),d.previewer.login().done(function(){d.resetChangeset(n),d.previewer.preview.iframe.show()})),e.consoleLog(r+" failed ",l,t),t=e.czr_skopeBase.buildServerResponse(t),e.trigger("error",t),e.czr_serverNotification({message:t,status:"error"}),c.reject(t)}).done(function(e){c.resolve(e)})},0===u()&&!1===e.state("czr-resetting")()?s(h,f):(o=function(){0===u()&&!1===e.state("czr-resetting")()&&(e.state.unbind("change",o),s(h,f))},e.state.bind("change",o)),c.promise()):c.resolve().promise()},resetPublished:function(n){var o,s,r,a,l,c=t.Deferred(),d=this,u=e.state("processing"),p={is_setting:!1,is_skope:!1,skope_id:e.czr_activeSkopeId()||"",setId:""},h=(n=i.extend(p,n)).skope_id,f=n.setId;return s=function(o,s){if(i.isUndefined(o))throw new Error("RESET: MISSING skope_id");if(e.state("czr-resetting")(!0),a={skope_id:o,action:"reset"},l=t.extend(d.previewer.query(a),{nonce:d.previewer.nonce.save}),n.is_setting)t.extend(l,{setting_id:s}),r="czr_published_setting_reset";else{if(!n.is_skope)return c.reject("reset_ajax_action_not_specified").promise();r="czr_published_skope_reset"}e.consoleLog("in czr_reset submit : ",o,l),wp.ajax.post(r,l).always(function(){e.state("czr-resetting")(!1)}).fail(function(t){"0"===t?t="not_logged_in":"-1"===t&&(t="invalid_nonce"),"invalid_nonce"===t?d.previewer.cheatin():"not_logged_in"===t&&(d.previewer.preview.iframe.hide(),d.previewer.login().done(function(){d.resetChangeset(n),d.previewer.preview.iframe.show()})),e.consoleLog(r+" failed ",l,t),t=e.czr_skopeBase.buildServerResponse(t),e.trigger("error",t),e.czr_serverNotification({message:t,status:"error"}),c.reject(t)}).done(function(e){c.resolve(e)})},0===u()&&!1===e.state("czr-resetting")()?s(h,f):(o=function(){0===u()&&!1===e.state("czr-resetting")()&&(e.state.unbind("change",o),s(h,f))},e.state.bind("change",o)),c.promise()}})}(wp.customize,jQuery,_);CZRSkopeBaseMths=CZRSkopeBaseMths||{};!function(e,t,i){t.extend(CZRSkopeBaseMths,{initWidgetSidebarSpecifics:function(){var i=this;i.isExcludedSidebarsWidgets()||e.czr_activeSkopeId.bind(function(t){i.forceSidebarDirtyRefresh(e.czr_activeSectionId(),t)}),t(document).bind("widget-added",function(t,n){if(!i.isExcludedSidebarsWidgets()){var o=n.closest(".customize-control").attr("id"),s=e.czr_skopeBase.widgetIdToSettingId(o,"customize-control-");if(!e.has(s))throw new Error("AN ADDED WIDGET COULD NOT BE BOUND IN SKOPE. "+s);i.listenAPISettings(s)}})},forceSidebarDirtyRefresh:function(t,n){var o=this;if(!o.isExcludedSidebarsWidgets()){var s=e.state("saved")(),r=function(){if(e.section.has(t)&&"sidebar"==e.section(t).params.type){var i=i||e.czr_activeSkopeId(),n="sidebars_widgets["+e.section(t).params.sidebarId+"]",r=o.getSkopeSettingVal(n,i);e.czr_skope(i).updateSkopeDirties(n,r),e.previewer.refresh({the_dirties:e.czr_skope(i).dirtyValues()}).done(function(){e.state("saved")(s)})}};(r=i.debounce(r,500))()}}})}(wp.customize,jQuery,_);var CZRSkopeMths=CZRSkopeMths||{};!function(e,t,i){t.extend(CZRSkopeMths,{initialize:function(n,o){var s=this;e.Value.prototype.initialize.call(s,null,o),s.isReady=t.Deferred(),s.embedded=t.Deferred(),s.el="czr-scope-"+n,t.extend(s,o||{}),s.visible=new e.Value(!0),s.winner=new e.Value(!1),s.priority=new e.Value,s.active=new e.Value(!1),s.dirtyness=new e.Value(!1),s.skopeResetDialogVisibility=new e.Value(!1),s.hasDBValues=new e.Value(!1),s.dirtyValues=new e.Value({}),s.dbValues=new e.Value({}),s.changesetValues=new e.Value({}),s.userEventMap=new e.Value([{trigger:"click keydown",selector:".czr-scope-switch, .czr-skp-switch-link",name:"skope_switch",actions:function(){e.czr_activeSkopeId(s().id)}},{trigger:"click keydown",selector:".czr-scope-reset",name:"skope_reset_warning",actions:"reactOnSkopeResetUserRequest"}]),s.skopeResetDialogVisibility.bind(function(e,t){return s.skopeResetDialogReact(e)},{deferred:!0}),s.dirtyValues.callbacks.add(function(){return s.dirtyValuesReact.apply(s,arguments)}),s.changesetValues.callbacks.add(function(){return s.changesetValuesReact.apply(s,arguments)}),s.dbValues.callbacks.add(function(){return s.dbValuesReact.apply(s,arguments)}),s.callbacks.add(function(){return s.skopeReact.apply(s,arguments)}),s.set(i.omit(o,function(e,t){return i.contains(["db","changeset","has_db_val"],t)})),s.setupObservableViewValuesCallbacks(),s.dirtyness(!i.isEmpty(o.changeset)),s.hasDBValues(!i.isEmpty(o.db)),s.winner(o.is_winner),s.embedded.fail(function(){throw new Error("The container of skope "+s().id+" has not been embededd")}).done(function(){s.setupDOMListeners(s.userEventMap(),{dom_el:s.container}),s.isReady.resolve()})},ready:function(){var i=this;e.czr_skopeBase.skopeWrapperEmbedded.done(function(){try{t.when(i.embedSkopeDialogBox()).done(function(e){!1!==e.length?(e.css("background-color",i.color),i.container=e,i.embedded.resolve(e)):i.embedded.reject()})}catch(t){e.errorLog("In skope base : "+t),i.embedded.reject()}})},dirtyValuesReact:function(t,n){this.dirtyness(!i.isEmpty(t)),e.czr_dirtyness(!i.isEmpty(t));var o=[];i.each(n,function(e,n){i.has(t,n)||o.push(n)}),this().id==e.czr_activeSkopeId()&&(i.each(o,function(t){i.has(e.control(t),"czr_states")&&e.control(t).czr_states("isDirty")(!1)}),i.each(t,function(t,n){i.has(e.control(n),"czr_states")&&e.control(n).czr_states("isDirty")(!0)}))},changesetValuesReact:function(e,i){var n=t.extend(!0,{},this.dirtyValues());this.dirtyValues(t.extend(n,e))},dbValuesReact:function(t,n){this.hasDBValues(!i.isEmpty("global"!=this().skope?t:i.omit(t,function(t,i){return!e.czr_skopeBase.isThemeSetting(i)})));var o=[];i.each(n,function(e,n){i.has(t,n)||o.push(n)}),this().id==e.czr_activeSkopeId()&&(i.each(o,function(t){i.has(e.control(t),"czr_states")&&e.control(t).czr_states("hasDBVal")(!1)}),i.each(t,function(t,n){i.has(e.control(n),"czr_states")&&e.control(n).czr_states("hasDBVal")(!0)}))},skopeReact:function(n,o){var s=this,r=[],a=[];e.czr_skopeBase.isSkopeRegisteredInCollection(n.id)?(r=t.extend(!0,[],e.czr_skopeCollection()),a=r,i.each(r,function(e,t){e.id==s().id&&(a[t]=n)}),e.czr_skopeCollection(a)):((r=t.extend(!0,[],e.czr_skopeCollection())).push(n),e.czr_skopeCollection(r))},setupObservableViewValuesCallbacks:function(){var e=this;e.visible.bind(function(t){"pending"==e.embedded.state()?e.embedded.done(function(){e.container.toggle(t)}):e.container.toggle(t)}),e.active.bind(function(){"pending"==e.embedded.state()?e.embedded.done(function(){e.activeStateReact.apply(e,arguments)}):e.activeStateReact.apply(e,arguments)}),e.dirtyness.bind(function(){"pending"==e.embedded.state()?e.embedded.done(function(){e.dirtynessReact.apply(e,arguments)}):e.dirtynessReact.apply(e,arguments)}),e.hasDBValues.bind(function(){"pending"==e.embedded.state()?e.embedded.done(function(){e.hasDBValuesReact.apply(e,arguments)}):e.hasDBValuesReact.apply(e,arguments)}),e.winner.bind(function(){"pending"==e.embedded.state()?e.embedded.done(function(){e.winnerReact.apply(e,arguments)}):e.winnerReact.apply(e,arguments)})},activeStateReact:function(e,i){this.container.toggleClass("inactive",!e).toggleClass("active",e),t(".czr-scope-switch",this.container).toggleClass("fa-toggle-on",e).toggleClass("fa-toggle-off",!e)},dirtynessReact:function(e,i){var n=this;t.when(this.container.toggleClass("dirty",e)).done(function(){e?t(".czr-scope-reset",n.container).fadeIn("slow").attr("title",[serverControlParams.i18n.skope["Reset the current customizations for"],n().title].join(" ")):n.hasDBValues()||t(".czr-scope-reset",n.container).fadeOut("fast")})},hasDBValuesReact:function(e,i){var n=this;t.when(n.container.toggleClass("has-db-val",e)).done(function(){e?t(".czr-scope-reset",n.container).fadeIn("slow").attr("title",["global"==n().skope?serverControlParams.i18n.skope["Reset the theme options published sitewide"]:serverControlParams.i18n.skope["Reset your website published options for"],"global"==n().skope?"":n().title].join(" ")):n.dirtyness()||t(".czr-scope-reset",n.container).fadeOut("fast")})},winnerReact:function(n){var o=this;this.container.toggleClass("is_winner",n),n&&i.each(e.czr_currentSkopesCollection(),function(i){if(i.id!=o().id){var n=t.extend(!0,{},i);t.extend(n,{is_winner:!1}),e.czr_skope(i.id)(n)}})},updateSkopeDirties:function(i,n){e.CZR_Helpers.getOptionName(i);if(!e.czr_skopeBase.isSettingSkopeEligible(i)&&"global"!=this().skope)return e.czr_skope(e.czr_skopeBase.getGlobalSkopeId()).updateSkopeDirties(i,n);var o=t.extend(!0,{},this.dirtyValues()),s={};return s[i]=n,this.dirtyValues.set(t.extend(o,s)),this.dirtyValues()},getSkopeSettingDirtyness:function(e){return this.getSkopeSettingAPIDirtyness(e)||this.getSkopeSettingChangesetDirtyness(e)},getSkopeSettingAPIDirtyness:function(t){return i.has(this.dirtyValues(),e.CZR_Helpers.build_setId(t))},getSkopeSettingChangesetDirtyness:function(t){return e.czr_isChangeSetOn()?i.has(this.changesetValues(),e.CZR_Helpers.build_setId(t)):this.getSkopeSettingAPIDirtyness(t)},hasSkopeSettingDBValues:function(t){var n=e.CZR_Helpers.build_setId(t);return!i.isUndefined(e.czr_skope(e.czr_activeSkopeId()).dbValues()[n])}})}(wp.customize,jQuery,_);CZRSkopeMths=CZRSkopeMths||{};!function(e,t,i){t.extend(CZRSkopeMths,{embedSkopeDialogBox:function(){var n=t.extend(!0,{},this()),o="";if(!t("#customize-header-actions").find(".czr-scope-switcher").length)throw new Error("The skope switcher wrapper is not printed, the skope can not be embedded.");try{o=wp.template("czr-skope")(i.extend(n,{el:this.el}))}catch(t){return e.errorLog("Error when parsing the template of a skope"+t),!1}return t(".czr-skopes-wrapper","#customize-header-actions").append(t(o)),t("."+this.el,".czr-skopes-wrapper")},renderResetWarningTmpl:function(){var n,o,s=t.extend(!0,{},this()),r="";this.dirtyness()?(n=[serverControlParams.i18n.skope["Please confirm that you want to reset your current ( not published ) customizations for"],this().ctx_title].join(" "),o=[serverControlParams.i18n.skope["Your customizations have been reset for"],this().ctx_title].join(" ")):(n=["global"==this().skope?serverControlParams.i18n.skope["Please confirm that you want to reset your sitewide published customizations. Note : this will not reset the customizations made in other option scopes"]:serverControlParams.i18n.skope["Please confirm that you want to reset your published customizations for"],"global"==this().skope?"":this().ctx_title].join(" "),o=[serverControlParams.i18n.skope["Your published customizations have been reset for"],this().title].join(" "));try{r=wp.template("czr-skope-pane")(i.extend(s,{el:this.el,warning_message:n+".",success_message:o+"."}))}catch(t){return e.errorLog("Error when parsing the the reset skope template : "+t),!1}return t("#customize-preview").after(t(r)),t("#czr-skope-pane")},getEl:function(){return t(this.el,"#customize-header-actions")}})}(wp.customize,jQuery,_);CZRSkopeMths=CZRSkopeMths||{};!function(e,t,i){t.extend(CZRSkopeMths,{reactOnSkopeResetUserRequest:function(){var t=this,i=function(){e.state("czr-resetting")(!0),e.czr_activeSkopeId()!=t().id?e.czr_activeSkopeId(t().id).done(function(){t.skopeResetDialogVisibility(!t.skopeResetDialogVisibility()).done(function(){e.state("czr-resetting")(!1)})}):t.skopeResetDialogVisibility(!t.skopeResetDialogVisibility()).done(function(){e.state("czr-resetting")(!1)})};e.state("czr-resetting")()||0!==e.state("processing")()?e.czr_serverNotification({message:"Slow down, you move too fast !",status:"success",auto_collapse:!0}):e.czr_activeSkopeId()!=t().id&&e.czr_skope(e.czr_activeSkopeId()).skopeResetDialogVisibility()?e.czr_skope(e.czr_activeSkopeId()).skopeResetDialogVisibility(!1).done(function(){i()}):i()},skopeResetDialogReact:function(n){var o=this,s=t.Deferred();return o.userResetEventMap=o.userResetEventMap||new e.Value([{trigger:"click keydown",selector:".czr-scope-reset-cancel",name:"skope_reset_cancel",actions:function(){o.skopeResetDialogVisibility(!o.skopeResetDialogVisibility())}},{trigger:"click keydown",selector:".czr-scope-do-reset",name:"skope_do_reset",actions:"doResetSkopeValues"}]),n?(e.czr_isResettingSkope(o().id),t.when(o.renderResetWarningTmpl()).done(function(e){o.resetPanel=e,o.resetPanel.addClass(o.dirtyness()?"dirty-reset":"db-reset"),o.setupDOMListeners(o.userResetEventMap(),{dom_el:o.resetPanel})}).then(function(){setTimeout(function(){var e=t("#customize-preview").height();o.resetPanel.css("line-height",e+"px").css("height",e+"px"),t("body").addClass("czr-skope-pane-open")},50)})):t.when(t("body").removeClass("czr-skope-pane-open")).done(function(){i.has(o,"resetPanel")&&!1!==o.resetPanel.length&&setTimeout(function(){o.resetPanel.remove(),e.czr_isResettingSkope(!1)},300)}),i.delay(function(){s.resolve()},350),s.promise()},doResetSkopeValues:function(){var n=this,o=n().id,s=n.dirtyness()?"_resetSkopeDirties":"_resetSkopeAPIValues";t("body").addClass("czr-resetting-skope"),e.czr_skopeReset[n.dirtyness()?"resetChangeset":"resetPublished"]({skope_id:n().id,is_skope:!0}).always(function(){t("body").removeClass("czr-resetting-skope")}).done(function(r){var a;a=function(){e.czr_skopeBase.processSilentUpdates({refresh:!1}).fail(function(){e.consoleLog("Silent update failed after resetting skope : "+o)}).done(function(){t.when(t(".czr-reset-warning",n.resetPanel).fadeOut("300")).done(function(){t.when(t(".czr-reset-success",n.resetPanel).fadeIn("300")).done(function(){i.delay(function(){e.czr_isResettingSkope(!1),n.skopeResetDialogVisibility(!1)},2e3)})})})},n[s]().done(function(){e.previewer.refresh().fail(function(t){e.consoleLog("SKOPE RESET REFRESH FAILED",t)}).done(function(t){if("global"==e.czr_skope(o)().skope&&"_resetSkopeAPIValues"==s){var n,r=e.czr_skope(o)().opt_name;!i.isUndefined(t.skopesServerData)&&i.has(t.skopesServerData,"czr_skopes")&&(n=t.skopesServerData.czr_skopes,i.isUndefined(i.findWhere(n,{opt_name:r}))&&i.findWhere(n,{opt_name:r}).db),e.czr_skopeBase.maybeSynchronizeGlobalSkope({isGlobalReset:!0,isSkope:!0,skopeIdToReset:o}).done(function(){a()})}else a()})})}).fail(function(t){n.skopeResetDialogVisibility(!1),e.consoleLog("Skope reset failed",t)})},_resetSkopeDirties:function(){var e=t.Deferred();return this.dirtyValues({}),this.changesetValues({}),e.resolve().promise()},_resetSkopeAPIValues:function(){var e=t.Deferred();return this.dbValues({}),e.resolve().promise()}})}(wp.customize,jQuery,_),function(e,t,i){t.extend(CZRSkopeBaseMths,e.Events),t.extend(CZRSkopeMths,e.Events),t.extend(CZRSkopeMths,e.CZR_Helpers),e.CZR_skopeBase=e.Class.extend(CZRSkopeBaseMths),e.CZR_skopeReset=e.Class.extend(CZRSkopeResetMths),e.CZR_skope=e.Value.extend(CZRSkopeMths),i.has(e,"HeaderTool")&&(e.czr_HeaderTool=t.extend(!0,{},e.HeaderTool))}(wp.customize,jQuery,_),function(e,t,i){e.bind("ready",function(){var n=function(){e.section("themes").active.bind(function(n){i.has(serverControlParams,"isThemeSwitchOn")&&i.isEmpty(serverControlParams.isThemeSwitchOn)&&(e.section("themes").active(serverControlParams.isThemeSwitchOn),e.section("themes").active.callbacks=t.Callbacks())})};e.section.has("themes")?n():e.section.when("themes",function(e){n()})})}(wp.customize,jQuery,_),function(e,t,i){e.czr_activeSectionId=new e.Value(""),e.czr_activePanelId=new e.Value(""),"function"==typeof e.Section&&e.control.bind("add",function(t){t.params.ubq_section&&t.params.ubq_section.section&&(t.params.original_priority=t.params.priority,t.params.original_section=t.params.section,e.section.when(t.params.ubq_section.section,function(e){e.expanded.bind(function(e){e?(t.params.ubq_section.priority&&t.priority(t.params.ubq_section.priority),t.section(t.params.ubq_section.section)):(t.priority(t.params.original_priority),t.section(t.params.original_section))})}))}),"function"==typeof e.Panel&&e.section.bind("add",function(t){t.params.ubq_panel&&t.params.ubq_panel.panel&&(t.params.original_priority=t.params.priority,t.params.original_panel=t.params.panel,e.panel.when(t.params.ubq_panel.panel,function(e){e.expanded.bind(function(e){e?(t.params.ubq_panel.priority&&t.priority(t.params.ubq_panel.priority),t.panel(t.params.ubq_panel.panel)):(t.priority(t.params.original_priority),t.panel(t.params.original_panel))})}))});var n=function(){i.has(e,"czr_ModOptVisible")&&e.czr_ModOptVisible(!1)};e.czr_activeSectionId.bind(n),e.czr_activePanelId.bind(n),e.bind("ready",function(){if("function"!=typeof e.Section)throw new Error("Your current version of WordPress does not support the customizer sections needed for this theme. Please upgrade WordPress to the latest version.");var t=function(t,i){e.czr_activeSectionId(t?i:"")};e.section.each(function(e){"publish_settings"!=e.id&&e.expanded.bind(function(i){t(i,e.id)})}),e.section.bind("add",function(i){"publish_settings"!=i.id&&(e.trigger("czr-paint",{active_panel_id:i.panel()}),i.expanded.bind(function(e){t(e,i.id)}))});var n=function(t,n){e.czr_activePanelId(t?n:""),i.isEmpty(e.czr_activePanelId())&&e.czr_activeSectionId("")};e.panel.each(function(e){e.expanded.bind(function(t){n(t,e.id)})}),e.panel.bind("add",function(e){e.expanded.bind(function(t){n(t,e.id)})})})}(wp.customize,jQuery,_),function(e,t,i){serverControlParams.isPro&&(i.each(["tc_font_customizer_settings","header_image_sec","content_blog_sec","static_front_page","content_single_sec","tc_fpu","nav","post_lists_sec","galleries_sec","footer_customizer_sec","custom_scripts_sec","contact_info_sec"],function(t){i.delay(function(){e.section.when(t,function(e){1>=e.headContainer.length&&e.headContainer.find(".accordion-section-title").prepend('<span class="pro-title-block">Pro</span>')})},1e3)}),i.each([],function(t){e.panel.when(t,function(e){1>=e.headContainer.length&&e.headContainer.find(".accordion-section-title").prepend('<span class="pro-title-block">Pro</span>')})})),!serverControlParams.isPro&&i.isFunction(e.Section)&&(proSectionConstructor=e.Section.extend({active:!0,attachEvents:function(){},isContextuallyActive:function(){return this.active()},_toggleActive:function(){return!0}}),t.extend(e.sectionConstructor,{"czr-customize-section-pro":proSectionConstructor}))}(wp.customize,jQuery,_);var CZRSocialModuleMths=CZRSocialModuleMths||{};!function(e,t,i){t.extend(CZRSocialModuleMths,{initialize:function(n,o){var s=this;e.CZRDynModule.prototype.initialize.call(s,n,o),t.extend(s,{itemPreAddEl:"czr-module-social-pre-add-view-content",itemInputList:"czr-module-social-item-content",modOptInputList:"czr-module-social-mod-opt"}),this.social_icons=["500px","adn","amazon","android","angellist","apple","behance","behance-square","bitbucket","black-tie","btc","buysellads","chrome","codepen","codiepie","connectdevelop","contao","dashcube","delicious","deviantart","digg","dribbble","dropbox","drupal","edge","empire","envelope","envelope-o","envelope-square","expeditedssl","facebook","facebook-f (alias)","facebook-square","firefox","flickr","fonticons","fort-awesome","forumbee","foursquare","get-pocket","gg","gg-circle","git","github","github-alt","github-square","gitlab","git-square","google","google-plus","google-plus-g","google-plus-square","google-wallet","gratipay","hacker-news","houzz","imdb","instagram","internet-explorer","ioxhost","joomla","jsfiddle","lastfm","lastfm-square","leanpub","linkedin","linkedin-in","linux","maxcdn","meetup","medium","mixcloud","mobile","mobile-alt","modx","odnoklassniki","odnoklassniki-square","opencart","openid","opera","optin-monster","pagelines","paypal","phone","phone-square","pied-piper","pied-piper-alt","pinterest","pinterest-p","pinterest-square","product-hunt","qq","rebel","reddit","reddit-alien","reddit-square","renren","rss","rss-square","safari","scribd","sellsy","share-alt","share-alt-square","shirtsinbulk","simplybuilt","skyatlas","skype","slack","slideshare","snapchat","soundcloud","spotify","stack-exchange","stack-overflow","steam","steam-square","stumbleupon","stumbleupon-circle","telegram","tencent-weibo","trello","tripadvisor","tumblr","tumblr-square","twitch","twitter","twitter-square","usb","viacoin","vimeo","vimeo-square","vine","vk","weibo","weixin","whatsapp","wikipedia-w","windows","wordpress","xing","xing-square","yahoo","y-combinator","yelp","youtube","youtube-square"],this.fa_solid_icons=["fa-envelope","fa-envelope-square","fa-mobile","fa-mobile-alt","fa-phone","fa-phone-square","fa-rss","fa-rss-square","fa-share-alt","fa-share-alt-square"],this.fa_icons_replacement={"fa-bitbucket-square":"fa-bitbucket","fa-facebook-official":"fa-facebook-f","fa-google-plus-circle":"fa-google-plus","fa-google-plus-official":"fa-google-plus","fa-linkedin-square":"fa-linkedin","fa-youtube-play":"fa-youtube"},s.inputConstructor=e.CZRInput.extend(s.CZRSocialsInputMths||{}),s.itemConstructor=e.CZRItem.extend(s.CZRSocialsItem||{}),this.defaultModOptModel={is_mod_opt:!0,module_id:s.id,"social-size":serverControlParams.social_el_params.defaultSocialSize||14},this.defaultItemModel={id:"",title:"","social-icon":"","social-link":"","social-color":serverControlParams.social_el_params.defaultSocialColor,"social-target":1},this.itemAddedMessage=serverControlParams.i18n.socialLinkAdded,i.has(e,"czr_activeSectionId")&&s.control.section()==e.czr_activeSectionId()&&"resolved"!=s.isReady.state()&&s.ready(),e.section(s.control.section()).expanded.bind(function(e){"resolved"!=s.isReady.state()&&s.ready()}),s.isReady.then(function(){s.preItem.bind(function(e,t){i.has(e,"social-icon")&&(i.isEqual(e["social-icon"],t["social-icon"])||s.updateItemModel(s.preItem,!0))})})},updateItemModel:function(e,n){var o,s,r,a=e;(n=n||!1,i.has(a(),"social-icon")&&!i.isEmpty(a()["social-icon"]))&&(o=t.extend(!0,{},a()),s=this.getTitleFromIcon(o["social-icon"]),r=serverControlParams.social_el_params.defaultSocialColor,!n&&a.czr_Input.has("social-color")&&(r=a.czr_Input("social-color")()),s=[serverControlParams.i18n.followUs,s].join(" "),n?(o=t.extend(o,{title:s,"social-color":r}),a.set(o)):(a.czr_Input("title").set(s),a.czr_Input("social-color")&&a.czr_Input("social-color").set(r)))},getTitleFromIcon:function(t){return e.CZR_Helpers.capitalize(t.replace("fa-","").replace("envelope","email"))},getIconFromTitle:function(e){return"fa-".title.toLowerCase().replace("envelope","email")},_strReplace:function(e,t,i){return i.replace(new RegExp("("+("string"==typeof e?e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&"):e.map(function(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}).join("|"))+")","g"),"string"==typeof t?t:"string"==typeof e?t[0]:function(i){return t[e.indexOf(i)]})},buildFaIcon:function(e){var t="fab",n=e.toLowerCase(),o=this.fa_solid_icons,s=this.fa_icons_replacement;return(n=this._strReplace(i.keys(s),i.values(s),n)).match(/-o$/)?(t="far",n=n.replace(/-o$/,"")):i.contains(o,n)&&(t="fas"),t+" "+n},CZRSocialsInputMths:{setupSelect:function(){var e=this,n=e.input_parent,o=e.module,s=o.social_icons,r=(o.fa_solid_icons,o.fa_icons_eplacement,n()),a=i.isEmpty(r.id);function l(e){return e.id?t('<span class="'+o.buildFaIcon(e.element.value.toLowerCase())+'"></span><span class="social-name">&nbsp;&nbsp;'+e.text+"</span>"):e.text}a&&(s=i.union([serverControlParams.i18n.selectSocialIcon],s)),i.each(s,function(i,n){var s=a&&0===n?"":"fa-"+i.toLowerCase(),l={value:s,html:o.getTitleFromIcon(i)};s==r["social-icon"]&&t.extend(l,{selected:"selected"}),t('select[data-type="social-icon"]',e.container).append(t("<option>",l))}),t('select[data-type="social-icon"]',e.container).select2({templateResult:l,templateSelection:l})},setupColorPicker:function(e){var n=this,o=(n.input_parent,n.module),s=t('input[data-type="social-color"]',n.container);s.iris({palettes:!0,hide:!1,defaultColor:serverControlParams.social_el_params.defaultSocialColor||"rgba(255,255,255,0.7)",change:function(e,n){i.has(n,"color")&&16777215==n.color._color?t(this).val(serverControlParams.social_el_params.defaultSocialColor||"rgba(255,255,255,0.7)"):t(this).val(n.color.toString()),t(this).trigger("colorpickerchange").trigger("change")}}),s.closest("div").on("click keydown",function(){o._adjustScrollExpandedBlock(n.container)})}},CZRSocialsItem:{ready:function(){var t=this;e.CZRItem.prototype.ready.call(t),t.bind("social-icon:changed",function(){t.module.updateItemModel(t)})},_buildTitle:function(t,i,n){var o=this.module;return t=t||("string"==typeof i?e.CZR_Helpers.capitalize(i.replace("fa-","")):""),t=e.CZR_Helpers.truncate(t,20),i=i||"fa-"+o.social_icons[0],n=n||serverControlParams.social_el_params.defaultSocialColor,'<div><span class="'+o.buildFaIcon(i)+'" style="color:'+n+'"></span> '+t+"</div>"},writeItemViewTitle:function(e){var i=this.module,n=e||this(),o=i.getTitleFromIcon(n["social-icon"]);t("."+i.control.css_attr.item_title,this.container).html(this._buildTitle(o,n["social-icon"],n["social-color"]))}}})}(wp.customize,jQuery,_);var CZRWidgetAreaModuleMths=CZRWidgetAreaModuleMths||{};!function(e,t,i){t.extend(CZRWidgetAreaModuleMths,{initialize:function(n,o){var s=this;e.CZRDynModule.prototype.initialize.call(this,n,o),t.extend(s,{itemPreAddEl:"czr-module-widgets-pre-add-view-content",itemInputList:"czr-module-widgets-item-input-list",itemInputListReduced:"czr-module-widgets-item-input-list-reduced",ruItemPart:"czr-module-widgets-ru-item-part"}),s.inputConstructor=e.CZRInput.extend(s.CZRWZonesInputMths||{}),s.itemConstructor=e.CZRItem.extend(s.CZRWZonesItem||{}),s.serverParams=serverControlParams.widget_area_el_params||{},s.contexts=i.has(s.serverParams,"sidebar_contexts")?s.serverParams.sidebar_contexts:{},s.context_match_map={is_404:"404",is_category:"archive-category",is_home:"home",is_page:"page",is_search:"search",is_single:"single"},s.locations=i.has(s.serverParams,"sidebar_locations")?s.serverParams.sidebar_locations:{},s.defaultItemModel={id:"",title:serverControlParams.i18n.widgetZone,contexts:i.without(i.keys(s.contexts),"_all_"),locations:[s.serverParams.defaultWidgetLocation],description:""},this.itemAddedMessage=serverControlParams.i18n.widgetZoneAdded,i.has(e,"sidebar_insights")||(e.sidebar_insights=new e.Values,e.sidebar_insights.create("candidates"),e.sidebar_insights.create("actives"),e.sidebar_insights.create("inactives"),e.sidebar_insights.create("registered"),e.sidebar_insights.create("available_locations")),this.listenToSidebarInsights(),e.czr_widgetZoneSettings=e.czr_widgetZoneSettings||new e.Value,e.czr_widgetZoneSettings.bind(function(t,n){s.isReady.then(function(){i.each(t,function(t,i){e.sidebar_insights(i).set(t)})})}),s.preItem_location_alert_view_state=new e.Value("closed"),s.preItem_location_alert_view_state.callbacks.add(function(e,t){s._toggleLocationAlertExpansion(s.container,e)}),s.bind("item-added",function(e){s.addWidgetSidebar(e)}),s.bind("pre_item_api_remove",function(e){s.removeWidgetSidebar(e)});var r=new e.Values;r.create("fixed_for_current_session"),r.create("value"),e.section(s.serverParams.dynWidgetSection).fixTopMargin=r,e.section(s.serverParams.dynWidgetSection).fixTopMargin("fixed_for_current_session").set(!1),e.panel("widgets").expanded.callbacks.add(function(e,t){s.widgetPanelReact(),"resolved"!=s.isReady.state()&&s.ready()})},ready:function(){var t=this;e.CZRDynModule.prototype.ready.call(t),t.preItemExpanded.callbacks.add(function(e,i){e&&(t.preItem.czr_Input("locations")._setupLocationSelect(!0),t.preItem.czr_Input("locations").mayBeDisplayModelAlert())})},initializeModuleModel:function(e){var n=t.Deferred();return e.items=i.union(i.has(this.serverParams,"default_zones")?this.serverParams.default_zones:[],e.items),n.resolve(e).promise()},CZRWZonesInputMths:{ready:function(){var t=this;t.bind("locations:changed",function(){t.mayBeDisplayModelAlert()}),e.CZRInput.prototype.ready.call(t)},setupSelect:function(){"locations"==this.id&&this._setupLocationSelect(),"contexts"==this.id&&this._setupContextSelect()},_setupContextSelect:function(){var e=this,n=e(),o=(e.input_parent,e.module);i.each(o.contexts,function(o,s){var r={value:s,html:o};(s==n||i.contains(n,s))&&t.extend(r,{selected:"selected"}),t('select[data-type="contexts"]',e.container).append(t("<option>",r))}),t('select[data-type="contexts"]',e.container).select2()},_setupLocationSelect:function(n){var o=this,s=o(),r=(o.input_parent,o.module),a=e.sidebar_insights("available_locations")();function l(e){return e.id?i.contains(a,e.element.value)?e.text:t('<span class="czr-unavailable-location fas fa-ban" title="'+serverControlParams.i18n.unavailableLocation+'">&nbsp;&nbsp;'+e.text+"</span>"):e.text}t('select[data-type="locations"]',o.container).children().length||i.each(r.locations,function(e,n){var r={value:n,html:e};(n==s||i.contains(s,n))&&t.extend(r,{selected:"selected"}),t('select[data-type="locations"]',o.container).append(t("<option>",r))}),n&&t('select[data-type="locations"]',o.container).select2("destroy"),t('select[data-type="locations"]',o.container).select2({templateResult:l,templateSelection:l})},mayBeDisplayModelAlert:function(){var n=this.input_parent,o=this.module;if(i.has(n(),"locations")&&!i.isEmpty(n().locations)){var s=t('select[data-type="locations"]',this.container).val(),r=e.sidebar_insights("available_locations")(),a=i.filter(s,function(e){return!i.contains(r,e)});!i.has(n(),"id")||i.isEmpty(n().id)?o.preItem_location_alert_view_state.set(i.isEmpty(a)?"closed":"expanded"):n.czr_itemLocationAlert.set(i.isEmpty(a)?"closed":"expanded")}}},CZRWZonesItem:{initialize:function(t,i){this.module;this.czr_itemLocationAlert=new e.Value,e.CZRItem.prototype.initialize.call(this,null,i)},itemWrapperViewSetup:function(){var t=this,i=t.module;e.CZRItem.prototype.itemWrapperViewSetup.call(t),t.czr_itemLocationAlert.set("closed"),t.czr_itemLocationAlert.callbacks.add(function(e,n){i._toggleLocationAlertExpansion(t.container,e)}),t.writeSubtitleInfos(t()),t.viewState.callbacks.add(function(e,i){-1!=e.indexOf("expanded")&&t.bind("contentRendered",function(){t.czr_Input("locations")._setupLocationSelect(!0),t.czr_Input("locations").mayBeDisplayModelAlert()})})},itemReact:function(t,i){e.CZRItem.prototype.itemReact.call(this,t,i),this.writeSubtitleInfos(t),this.updateSectionTitle(t).setModelUpdateTimer()},writeSubtitleInfos:function(e){var n,o=this.module,s=i.clone(e||this()),r=[],a=[];if(!this.container.length)return this;s.locations=i.isString(s.locations)?[s.locations]:s.locations,i.each(s.locations,function(e){i.has(o.locations,e)?r.push(o.locations[e]):r.push(e)}),s.contexts=i.isString(s.contexts)?[s.contexts]:s.contexts,this._hasModelAllContexts(e)?a.push(o.contexts._all_):i.each(s.contexts,function(e){i.has(o.contexts,e)?a.push(o.contexts[e]):a.push(e)});var l=serverControlParams.i18n.locations,c=serverControlParams.i18n.contexts,d=serverControlParams.i18n.notset;if(r=i.isEmpty(r)?'<span style="font-weight: bold;">'+d+"</span>":r.join(", "),a=i.isEmpty(a)?'<span style="font-weight: bold;">'+d+"</span>":a.join(", "),n="<u>"+l+"</u> : "+r+" <strong>|</strong> <u>"+c+"</u> : "+a,t(".czr-zone-infos",this.container).length)t(".czr-zone-infos",this.container).html(n);else{var u=t("<div/>",{class:["czr-zone-infos",o.control.css_attr.item_sort_handle].join(" "),html:n});t("."+o.control.css_attr.item_btns,this.container).after(u)}return this},updateSectionTitle:function(i){var n="sidebar-widgets-"+i.id,o=i.title;return e.section.has(n)?(t(".accordion-section-title",e.section(n).container).text(o),t(".customize-section-title h3",e.section(n).container).html('<span class="customize-action">'+e.section(n).params.customizeAction+"</span>"+o),this):this},setModelUpdateTimer:function(){var e=this.module;clearTimeout(t.data(this,"modelUpdateTimer")),t.data(this,"modelUpdateTimer",setTimeout(function(){e.control.refreshPreview()},1e3))},_hasModelAllContexts:function(e){var t=this.module,n=i.keys(t.contexts);if(e=e||this(),i.has(e,"contexts"))return!!i.contains(e.contexts,"_all_")||i.isEmpty(i.difference(i.without(n,"_all_"),e.contexts))},_getMatchingContexts:function(t){var n=e.czr_wpQueryInfos().conditional_tags||{},o=i.filter(this.context_match_map,function(e,t){return!0===n[t]});return i.isEmpty(o)?t:o}},addWidgetSidebar:function(n,o){if(!i.isObject(n)&&i.isEmpty(o))throw new Error("No valid input were provided to add a new Widget Zone.");var s=this,r=i.isEmpty(n)?o:i.clone(n),a=i.isEmpty(n)?o:t.extend(i.clone(i.findWhere(e.Widgets.data.registeredSidebars,{id:s.serverParams.defaultWidgetSidebar})),{name:r.title,id:r.id});e.Widgets.registeredSidebars.add(a);var l=t.extend(i.clone(e.section("sidebar-widgets-"+s.serverParams.defaultWidgetSidebar).params),{id:"sidebar-widgets-"+r.id,instanceNumber:i.max(e.settings.sections,function(e){return e.instanceNumber}).instanceNumber+1,sidebarId:a.id,title:a.name,description:void 0!==o?o.description:e.section("sidebar-widgets-"+s.serverParams.defaultWidgetSidebar).params.description,priority:i.max(i.omit(e.settings.sections,s.serverParams.dynWidgetSection),function(e){return e.instanceNumber}).priority+1});e.section.add(l.id,new e.sectionConstructor[l.type](l.id,{params:l})),e.settings.sections[l.id]=l.id;var c="sidebars_widgets["+r.id+"]",d=t.extend(i.clone(e.settings.settings["sidebars_widgets["+s.serverParams.defaultWidgetSidebar+"]"]),{value:[]});e.settings.settings[c]=d,e.create(c,c,d.value,{transport:d.transport,previewer:e.previewer,dirty:!1});var u=t.extend(i.clone(e.settings.controls["sidebars_widgets["+s.serverParams.defaultWidgetSidebar+"]"]),{settings:{default:c}}),p={};i.each(u,function(e,t){"string"==typeof e&&(e=e.replace(s.serverParams.defaultWidgetSidebar,r.id)),p[t]=e}),p.instanceNumber=i.max(e.settings.controls,function(e){return e.instanceNumber}).instanceNumber+1,e.settings.controls[c]=p,e.control.add(c,new e.controlConstructor[p.type](c,{params:p,previewer:e.previewer})),i.has(this,"container")&&this.container.trigger("widget_zone_created",{model:r,section_id:"sidebar-widgets-"+r.id,setting_id:c})},removeWidgetSidebar:function(n){var o=this;if(!i.isObject(n)||i.isEmpty(n))throw new Error("No valid data were provided to remove a Widget Zone.");e.Widgets.registeredSidebars.remove(n.id),e.section.has("sidebar-widgets-"+n.id)&&(e.section("sidebar-widgets-"+n.id).container.remove(),e.section.remove("sidebar-widgets-"+n.id),delete e.settings.sections["sidebar-widgets-"+n.id]),e.has("sidebars_widgets["+n.id+"]")&&(e.remove("sidebars_widgets["+n.id+"]"),delete e.settings.settings["sidebars_widgets["+n.id+"]"]),e.control.has("sidebars_widgets["+n.id+"]")&&(e.control("sidebars_widgets["+n.id+"]").container.remove(),e.control.remove("sidebars_widgets["+n.id+"]"),delete e.settings.controls["sidebars_widgets["+n.id+"]"]);var s=function(){e.previewer.refresh()};s=i.debounce(s,500),t.when(s()).done(function(){o.trigger("widget_zone_removed",{model:n,section_id:"sidebar-widgets-"+n.id,setting_id:"sidebars_widgets["+n.id+"]"})})},widgetPanelReact:function(){var t=this,n=e.panel("widgets").container.find(".control-panel-content").css("margin-top");e.section(t.serverParams.dynWidgetSection).fixTopMargin("value").set(n);var o=e.section(t.serverParams.dynWidgetSection).container.find(".accordion-section-content"),s=e.panel("widgets").container.find(".control-panel-content");e.bind("pane-contents-reflowed",i.debounce(function(){o.css("margin-top",""),s.css("margin-top",e.section(t.serverParams.dynWidgetSection).fixTopMargin("value")())},150)),t.closeAllItems().closeRemoveDialogs(),i.has(t,"preItemExpanded")&&t.preItemExpanded.set(!1)},widgetSectionReact:function(i,n){var o=e.section(this.serverParams.dynWidgetSection),s=o.container.closest(".wp-full-overlay-sidebar-content"),r=o.container.find(".accordion-section-content"),a=o.container.closest(".wp-full-overlay"),l=(o.container.find(".customize-section-back"),o.container.find(".accordion-section-title").first());t("#customize-header-actions").height();i&&(a.removeClass("section-open"),r.css("height","auto"),l.attr("tabindex","0"),r.css("margin-top",""),s.scrollTop(0)),this.closeAllItems().closeRemoveDialogs(),r.slideToggle()},listenToSidebarInsights:function(){var n=this;e.sidebar_insights("registered").callbacks.add(function(e){var t=i.clone(n.itemCollection());i.each(t,function(t){n.getViewEl(t.id).length&&n.getViewEl(t.id).css("display",i.contains(e,t.id)?"block":"none")})}),e.sidebar_insights("inactives").callbacks.add(function(e){var o=i.clone(n.itemCollection());i.each(o,function(o){n.getViewEl(o.id).length&&(i.contains(e,o.id)?(n.getViewEl(o.id).addClass("inactive"),n.getViewEl(o.id).find(".czr-inactive-alert").length||n.getViewEl(o.id).find(".czr-item-title").append(t("<span/>",{class:"czr-inactive-alert",html:" [ "+serverControlParams.i18n.inactiveWidgetZone+" ]"}))):(n.getViewEl(o.id).removeClass("inactive"),n.getViewEl(o.id).find(".czr-inactive-alert").length&&n.getViewEl(o.id).find(".czr-inactive-alert").remove()))})}),e.sidebar_insights("candidates").callbacks.add(function(t){i.isArray(t)&&i.each(t,function(t){i.isObject(t)&&(e.section.has("sidebar-widgets-"+t.id)||(n.addWidgetSidebar({},t),i.has(e.sidebar_insights("actives")(),t.id)&&e.section.has("sidebar-widgets-"+t.id)&&e.section("sidebar-widgets-"+t.id).activate()))})})},_adjustScrollExpandedBlock:function(e,i){if(e.length){var n,o=t(".wp-full-overlay-sidebar-content").scrollTop(),s=i||90;setTimeout(function(){e.offset().top+e.height()+s>t(window.top).height()&&(n=e.offset().top+e.height()+s-t(window.top).height(),t(".wp-full-overlay-sidebar-content").animate({scrollTop:o+n},600))},50)}},getDefaultItemModel:function(e){var n=this.itemCollection(),o=i.clone(this.defaultItemModel);o.contexts;return t.extend(o,{title:"Widget Zone "+(1*i.size(n)+1)})},getTemplateEl:function(e,t){var n;switch("rudItemPart"==e?e=i.has(t,"is_builtin")&&t.is_builtin?"ruItemPart":e:"itemInputList"==e&&(e=i.has(t,"is_builtin")&&t.is_builtin?"itemInputListReduced":e),e){case"rudItemPart":n=this.rudItemPart;break;case"ruItemPart":n=this.ruItemPart;break;case"itemInputList":n=this.itemInputList;break;case"itemInputListReduced":n=this.itemInputListReduced}if(i.isEmpty(n))throw new Error("No valid template has been found in getTemplateEl()");return n},_toggleLocationAlertExpansion:function(i,n){var o=i.find(".czr-location-alert");if(!o.length){var s=["<span>"+serverControlParams.i18n.locationWarning+"</span>",e.CZR_Helpers.getDocSearchLink(serverControlParams.i18n.locationWarning)].join("");o=t("<div/>",{class:"czr-location-alert",html:s,style:"display:none"}),t('select[data-type="locations"]',i).closest("div").after(o)}o.toggle("expanded"==n)}})}(wp.customize,jQuery,_);var CZRBodyBgModuleMths=CZRBodyBgModuleMths||{};!function(e,t,i){t.extend(CZRBodyBgModuleMths,{initialize:function(n,o){var s=this;e.CZRModule.prototype.initialize.call(s,n,o),t.extend(s,{itemInputList:"czr-module-bodybg-item-content"}),s.inputConstructor=e.CZRInput.extend(s.CZRBodyBgInputMths||{}),s.itemConstructor=e.CZRItem.extend(s.CZBodyBgItemMths||{}),s.defaultItemModel={"background-color":"#eaeaea","background-image":"","background-repeat":"no-repeat","background-attachment":"fixed","background-position":"center center","background-size":"cover"},e.consoleLog("New module instantiated : ",s.id),i.has(e,"czr_activeSectionId")&&s.control.section()==e.czr_activeSectionId()&&"resolved"!=s.isReady.state()&&s.ready(),e.section(s.control.section()).expanded.bind(function(e){"resolved"!=s.isReady.state()&&s.ready()})},CZRBodyBgInputMths:{setupSelect:function(){var e,n=this,o={"background-repeat":"bg_repeat_options","background-attachment":"bg_attachment_options","background-position":"bg_position_options"},s=(n.input_parent,serverControlParams.body_bg_module_params);n.module;i.has(o,n.id)&&(i.isUndefined(s)||i.isUndefined(s[o[n.id]])||(e=s[o[n.id]],i.isEmpty(e)||(i.each(e,function(e,o){var s={value:o,html:e};(o==n()||i.contains(n(),o))&&t.extend(s,{selected:"selected"}),t("select[data-type]",n.container).append(t("<option>",s))}),t("select[data-type]",n.container).select2())))}},CZBodyBgItemMths:{ready:function(){var t=this;e.CZRItem.prototype.ready.call(t),t.inputCollection.bind(function(e){!i.isEmpty(_col)&&t.czr_Input&&t.czr_Input.has("background-image")&&t.czr_Input("background-image").isReady.done(function(e){var n=function(e){var n=!i.isEmpty(e)||i.isNumber(e);i.each(["background-repeat","background-attachment","background-position","background-size"],function(e){t.czr_Input(e).container.toggle(n||!1)})};n(e()),t.bind("background-image:changed",function(){n(t.czr_Input("background-image")())})})})}}})}(wp.customize,jQuery,_),function(e,t,i){e.czrModuleMap=e.czrModuleMap||{},t.extend(e.czrModuleMap,{czr_widget_areas_module:{mthds:CZRWidgetAreaModuleMths,crud:!0,sektion_allowed:!1,name:"Widget Areas"},czr_social_module:{mthds:CZRSocialModuleMths,crud:!0,name:"Social Icons",has_mod_opt:!0},czr_background:{mthds:CZRBodyBgModuleMths,crud:!1,multi_item:!1,name:"Slider"}})}(wp.customize,jQuery,_);var CZRMultiplePickerMths=CZRMultiplePickerMths||{};!function(e,t,i){t.extend(CZRMultiplePickerMths,{ready:function(){var e=this,i=this.container.find("select");i.select2({closeOnSelect:!1,templateSelection:function(e){return e.text.replace(/\u2013|\u2014/g,"")}}),i.on("change",function(i){0===t(this).find("option:selected").length&&e.setting.set([])})}})}(wp.customize,jQuery,_);var CZRCroppedImageMths=CZRCroppedImageMths||{};!function(e,t,i){"function"==typeof wp.media.controller.Cropper&&"function"==typeof e.CroppedImageControl&&(wp.media.controller.CZRCustomizeImageCropper=wp.media.controller.Cropper.extend({doCrop:function(e){var t=e.get("cropDetails"),i=this.get("control");return t.dst_width=i.params.dst_width,t.dst_height=i.params.dst_height,wp.ajax.post("crop-image",{wp_customize:"on",nonce:e.get("nonces").edit,id:e.get("id"),context:i.id,cropDetails:t})}}),t.extend(CZRCroppedImageMths,{initFrame:function(){var e=_wpMediaViewsL10n;this.frame=wp.media({button:{text:e.select,close:!1},states:[new wp.media.controller.Library({title:this.params.button_labels.frame_title,library:wp.media.query({type:"image"}),multiple:!1,date:!1,priority:20,suggestedWidth:this.params.width,suggestedHeight:this.params.height}),new wp.media.controller.CZRCustomizeImageCropper({imgSelectOptions:this.calculateImageSelectOptions,control:this})]}),this.frame.on("select",this.onSelect,this),this.frame.on("cropped",this.onCropped,this),this.frame.on("skippedcrop",this.onSkippedCrop,this)},onSelect:function(){var e=this.frame.state().get("selection").first().toJSON();e.mime&&e.mime.indexOf("image")>-1?i.contains(["image/svg+xml","image/gif"],e.mime)||this.params.width===e.width&&this.params.height===e.height&&!this.params.flex_width&&!this.params.flex_height?(this.setImageFromAttachment(e),this.frame.close()):this.frame.setState("cropper"):this.frame.trigger("content:error")}}))}(wp.customize,jQuery,_);var CZRUploadMths=CZRUploadMths||{};!function(e,t,i){t.extend(CZRUploadMths,{ready:function(){var i=this;this.params.removed=this.params.removed||"",this.success=t.proxy(this.success,this),this.uploader=t.extend({container:this.container,browser:this.container.find(".czr-upload"),success:this.success,plupload:{},params:{}},this.uploader||{}),i.params.extensions&&(i.uploader.plupload.filters=[{title:e.l10n.allowedFiles,extensions:i.params.extensions}]),i.params.context&&(i.uploader.params["post_data[context]"]=this.params.context),e.settings.theme.stylesheet&&(i.uploader.params["post_data[theme]"]=e.settings.theme.stylesheet),this.uploader=new wp.Uploader(this.uploader),this.remover=this.container.find(".remove"),this.remover.on("click keydown",function(e){"keydown"===e.type&&13!==e.which||(i.setting.set(i.params.removed),e.preventDefault())}),this.removerVisibility=t.proxy(this.removerVisibility,this),this.setting.bind(this.removerVisibility),this.removerVisibility(this.setting())},success:function(e){this.setting.set(e.get("id"))},removerVisibility:function(e){this.remover.toggle(e!=this.params.removed)}})}(wp.customize,jQuery,_);var CZRLayoutSelectMths=CZRLayoutSelectMths||{};!function(e,t,i){t.extend(CZRLayoutSelectMths,{ready:function(){this.setupSelect()},setupSelect:function(e){var n=this;function o(e){if(!e.id)return e.text;if(i.has(n.params.layouts,e.element.value)){var o=n.params.layouts[e.element.value],s=o.src,r=o.label;return t('<img src="'+s+'" class="czr-layout-img" title="'+r+'" /><span class="czr-layout-title">'+r+"</span>")}}$_select=this.container.find("select"),$_select.select2({templateResult:o,templateSelection:o,minimumResultsForSearch:1/0})}})}(wp.customize,jQuery,_),function(e,t,i){e.CZRUploadControl=e.Control.extend(CZRUploadMths),e.CZRLayoutControl=e.Control.extend(CZRLayoutSelectMths),e.CZRMultiplePickerControl=e.Control.extend(CZRMultiplePickerMths),t.extend(e.controlConstructor,{czr_upload:e.CZRUploadControl,czr_multiple_picker:e.CZRMultiplePickerControl,czr_layouts:e.CZRLayoutControl}),"function"==typeof e.CroppedImageControl&&(e.CZRCroppedImageControl=e.CroppedImageControl.extend(CZRCroppedImageMths),t.extend(e.controlConstructor,{czr_cropped_image:e.CZRCroppedImageControl})),"function"==typeof e.CodeEditorControl&&t.extend(e.controlConstructor,{czr_code_editor:e.CodeEditorControl})}(wp.customize,jQuery,_),function(e,t,i){var n=serverControlParams.i18n||{};e.czr_CrtlDependenciesReady=t.Deferred(),e.bind("ready",function(){i.has(e,"czr_ctrlDependencies")||(serverControlParams.isSkopOn?"resolved"!=e.czr_skopeReady.state()&&e.czr_skopeReady.done(function(){e.czr_ctrlDependencies=new e.CZR_ctrlDependencies,e.czr_CrtlDependenciesReady.resolve()}):(e.czr_ctrlDependencies=new e.CZR_ctrlDependencies,e.czr_CrtlDependenciesReady.resolve()))}),e.CZR_ctrlDependencies=e.Class.extend({dominiDeps:[],initialize:function(){var t=this;if(this.defaultDominusParams={dominus:"",servi:[],visibility:null,actions:null,onSectionExpand:!0},this.dominiDeps=i.extend(this.dominiDeps,this._getControlDeps()),!i.isArray(t.dominiDeps))throw new Error("Visibilities : the dominos dependency array is not an array.");e.czr_activeSectionId.bind(function(n){if(!i.isEmpty(n)&&e.section.has(n))try{t.setServiDependencies(n)}catch(t){e.errorLog("In api.CZR_ctrlDependencies : "+t)}}),e.bind("awaken-section",function(n){if(serverControlParams.isSkopOn&&i.has(e,"czr_skopeBase"))e.czr_skopeBase.processSilentUpdates({candidates:{},section_id:n.target,refresh:!1}).then(function(){try{t.setServiDependencies(n.target,n.source)}catch(t){e.errorLog("On awaken-section, ctrl deps : "+t)}});else try{t.setServiDependencies(n.target,n.source)}catch(t){e.errorLog("On awaken-section, ctrl deps : "+t)}}),this._handleFaviconNote()},setServiDependencies:function(n,o,s){var r=this,a=t.Deferred();if(s=s||!1,i.isUndefined(n)||!e.section.has(n))throw new Error("Control Dependencies : the targetSectionId is missing or not registered : "+n);if(e.section(n).czr_ctrlDependenciesReady=e.section(n).czr_ctrlDependenciesReady||t.Deferred(),!s&&"resolved"==e.section(n).czr_ctrlDependenciesReady.state())return a.resolve().promise();i.each(r.dominiDeps,function(t){if(!i.has(t,"dominus")||!i.isString(t.dominus)||i.isEmpty(t.dominus))throw new Error("Control Dependencies : a dominus control id must be a not empty string.");var o=e.CZR_Helpers.build_setId(t.dominus);e.control.has(o)&&e.control(o).section()==n&&(t=r._prepareDominusParams(t),i.isEmpty(t)||r._processDominusCallbacks(t.dominus,t,s).fail(function(){e.consoleLog("self._processDominusCallbacks fail for section "+n),a.reject()}).done(function(){a.resolve()}))});var l=e.CZR_Helpers.getSectionControlIds(n),c=function(t){var n=[];return i.each(r.dominiDeps,function(o){if(i.has(o,"servi")&&i.isArray(o.servi)&&i.has(o,"dominus")&&!i.isEmpty(o.dominus)){if(i.contains(o.servi,t)&&!i.contains(n,o.dominus)){if(o=r._prepareDominusParams(o),i.isEmpty(o))return;n.push(o.dominus)}}else e.errorLog("Control Dependencies : wrong params in _getServusDomini.")}),i.isArray(n)?n:[]},d=[];return i.each(l,function(e){i.isEmpty(c(e))||(d=i.union(d,c(e)))}),i.each(d,function(t){var i=e.CZR_Helpers.build_setId(t);e.control(i).section()!=n&&o!=e.control(i).section()&&e.trigger("awaken-section",{target:e.control(i).section(),source:n})}),a.always(function(){e.section(n).czr_ctrlDependenciesReady.resolve()}),a.promise()},_deferCallbackForControl:function(n,o,s){var r=t.Deferred();if(i.isEmpty(n)||!i.isString(n))throw new Error("_deferCallbackForControl : the control id is missing.");if(!i.isFunction(o))throw new Error("_deferCallbackForControl : callback must be a funtion.");return s=i.isUndefined(s)||!i.isArray(s)?[]:s,e.control.has(n)?"resolved"==e.control(n).deferred.embedded.state()?t.when(o.apply(null,s)).fail(function(){r.reject()}).done(function(){r.resolve()}):e.control(n).deferred.embedded.then(function(){t.when(o.apply(null,s)).fail(function(){r.reject()}).done(function(){r.resolve()})}):e.control.when(n,function(){e.control(n).deferred.embedded.then(function(){t.when(o.apply(null,s)).fail(function(){r.reject()}).done(function(){r.resolve()})})}),r.promise()},_processDominusCallbacks:function(n,o,s){var r=this,a=e.CZR_Helpers.build_setId(n),l=e(a),c=t.Deferred(),d=!1;return i.each(o.servi,function(t){if(e.control.has(e.CZR_Helpers.build_setId(t))){var n=function(e,t,n,o){var s=arguments;i.each(n,function(e,t){switch(t){case"visibility":r._setVisibility.apply(null,s);break;case"actions":i.isFunction(e)&&e.apply(null,s)}})},s=function(i){i=i||l();var s=e.CZR_Helpers.build_setId(t);r._deferCallbackForControl(s,n,[i,t,o]).always(function(){d=!0}).fail(function(){c.reject()}).done(function(){c.resolve()})};s(),i.has(l,"czr_visibilityServi")||(l.czr_visibilityServi=new e.Value([]));var a=l.czr_visibilityServi();i.contains(a,t)||(l.bind(function(e){s(e)}),l.czr_visibilityServi(i.union(a,[t])))}}),d?c.promise():c.resolve().promise()},_setVisibility:function(t,n,o,s){var r=e.CZR_Helpers.build_setId(n),a=o.visibility(t,n,o.dominus);if(s=s||!1,i.isBoolean(a)&&("unchanged"!=a||s)){var l=function(){e.state.has("silent-update-processing")&&e.state("silent-update-processing")()||(e.control(r,function(e){i.has(e,"active")&&(a=a&&e.active()),i.has(e,"defaultActiveArguments")&&control.defaultActiveArguments,e.onChangeActive(a,e.defaultActiveArguments)}),e.state.has("silent-update-processing")&&e.state("silent-update-processing").unbind(l))};e.state.has("silent-update-processing")&&e.state("silent-update-processing")()?e.state("silent-update-processing").bind(l):l()}},_getControlDeps:function(){return{}},_prepareDominusParams:function(t){var n={};if(!i.isObject(t))return e.errorLog("Visibilities : a dominus param definition must be an object."),n;if(!i.has(t,"visibility")&&!i.has(t,"actions"))return e.errorLog("Visibilities : a dominus definition must include a visibility or an actions callback."),n;if(!i.has(t,"dominus")||!i.isString(t.dominus)||i.isEmpty(t.dominus))return e.errorLog("Visibilities : a dominus control id must be a not empty string."),n;var o=e.CZR_Helpers.build_setId(t.dominus);return e.control.has(o)?!i.has(t,"servi")||i.isUndefined(t.servi)||!i.isArray(t.servi)||i.isEmpty(t.servi)?(e.errorLog("Visibilities : servi must be set as an array not empty."),n):(i.each(this.defaultDominusParams,function(e,o){var s=t[o];switch(o){case"visibility":if(!i.isUndefined(s)&&!i.isEmpty(s)&&!i.isFunction(s))throw new Error("Visibilities : a dominus visibility callback must be a function : "+t.dominus);break;case"actions":if(!i.isUndefined(s)&&!i.isEmpty(s)&&!i.isFunction(s))throw new Error("Visibilities : a dominus actions callback must be a function : "+t.dominus);break;case"onSectionExpand":if(!i.isUndefined(s)&&!i.isEmpty(s)&&!i.isBoolean(s))throw new Error("Visibilities : a dominus onSectionExpand param must be a boolean : "+t.dominus)}n[o]=s}),n):(e.errorLog("Visibilities : a dominus control id is not registered : "+o),n)},_handleFaviconNote:function(){var t=this,i=e.CZR_Helpers.build_setId(serverControlParams.faviconOptionName);if(!(!e.has("site_icon")||!e.control("site_icon")||e.has(i)&&0==+e(i)()||+e("site_icon")()>0)){var o=e.control("site_icon").params.description;_newDes=["<strong>",n.faviconNote||"","</strong><br/><br/>"].join("")+o,t._printFaviconNote(_newDes),e("site_icon").callbacks.add(function(n){+n>0?(e.control("site_icon").container.find(".description").text(o),e.has(i)&&e(i).set("")):t._printFaviconNote(_newDes)})}},_printFaviconNote:function(t){e.control("site_icon").container.find(".description").html(t)}})}(wp.customize,jQuery,_),function(e,t){jQuery(function(t){var i=e.customize||i;t(".accordion-section").not(".control-panel").click(function(){var e,i;e=t(this),0!==(i=e.siblings(".open")).length&&i.offset().top<0&&t(".wp-full-overlay-sidebar-content").animate({scrollTop:-t("#customize-theme-controls").offset().top-i.height()+e.offset().top+t(".wp-full-overlay-sidebar-content").offset().top},700)}),i.czrSetupCheckbox=function(e,n){var o=i.control(e);t("input[type=checkbox]",o.container).each(function(){"tc_font_customizer_settings"!=o.params.section&&(0===t(this).val()||"0"==t(this).val()||"off"==t(this).val()||_.isEmpty(t(this).val())?t(this).prop("checked",!1):t(this).prop("checked",!0),0===t(this).closest('div[class^="icheckbox"]').length&&t(this).iCheck({checkboxClass:"icheckbox_flat-grey",radioClass:"iradio_flat-grey"}).on("ifChanged",function(e){t(this).val(!1===t(this).is(":checked")?0:1),t(e.currentTarget).trigger("change")}))})},i.czrSetupSelect=function(e,n){t("select[data-customize-setting-link]",i.control(e).container).not(".no-selecter-js").each(function(){t(this).selecter({})})},i.czrSetupStepper=function(e,n){var o=i.control(e);t('input[type="number"]',o.container).each(function(){t(this).stepper()})},i.control.each(function(e){if(_.has(e,"id")){"widget_"!=e.id.substring(0,"widget_".length)&&"nav_menu"!=e.id.substring(0,"nav_menu".length)&&i.czrSetupCheckbox(e.id),"nav_menu_locations"!=e.id.substring(0,"nav_menu_locations".length)&&i.czrSetupSelect(e.id);0<e.container.find('input[type="number"]').length&&e.params&&e.params.section&&!_.contains(["publish_settings","tc_font_customizer_settings"],e.params.section)&&i.czrSetupStepper(e.id)}});var n;n=t("<span/>",{class:"customize-controls-home fas fa-home",html:'<span class="screen-reader-text">Home</span>'}),t.when(t("#customize-header-actions").append(n)).done(function(){n.keydown(function(e){9!==e.which&&(13===e.which&&this.click(),e.preventDefault())}).on("click.customize-controls-home",function(){i.section.has(i.czr_activeSectionId())?i.section(i.czr_activeSectionId()).expanded(!1):i.section.each(function(e){e.expanded(!1)}),i.panel.each(function(e){e.expanded(!1)})})})})}(wp);